复杂的正则表达式拆分理解



- 拆分与解释

  - 例子：`/^[A-Z]:\\{1,2}[^:\*\?<>\|]+\.(jpg|gif|png|bmp)$/i`

    | 序号 | 正则表达式           | 解释                                                   |
    | ---- | -------------------- | ------------------------------------------------------ |
    | 1    | /**/i                | 忽略大小写                                             |
    | 2    | ^                    | 匹配开头                                               |
    | 3    | [A-Z]                | 匹配A到Z之间的ASACLL字符                               |
    | 4    | :                    | 基本匹配                                               |
    | 5    | \\\\{1,2}            | \\\是不进行转义，就是\\<br />{1,2}匹配连续的1个或2个\\ |
    | 6    | [^:\\*\?<>\\]        | 排除/:\*\?<>\\，即不匹配/、：、*、？、<、>，\          |
    | 7    | +                    | 往后匹配，最少1个                                      |
    | 8    | \\.                  | 不转义，匹配.                                          |
    | 9    | (jpg\|gif\|png\|bmp) | 匹配jpg或gif或png或bmg，任意一个即可                   |
    | 10   | $                    | 匹配末尾                                               |

    > 匹配图片
    
    ```python
    import re
    pattern = r"(^[A-Z]:\\{1,2}[^:\*\?<>\|]+\.(jpg|gif|png|bmp)$)"
    a = r'''D:\aa.jpg
    D:\heihei.avi
    D:\bb.bmp
    D:\ww.txt'''
    
    print(re.search(pattern,a, re.M|re.I)) # 输出  <re.Match object; span=(0, 9), match='D:\\aa.jpg'>
    print(re.findall(pattern,a, re.M|re.I)) # 输出 [('D:\\aa.jpg', 'jpg'), ('D:\\bb.bmp', 'bmp')]
    ```
    
  
  
  - 例子：
  
    ```
    [\w!#$%&'*+=?^_`{|}~-]+(?:\.[\w!#$%&'*+=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?
    ```
  
    | 序号 | 正则表达式 | 解释 |
    | ---- | ---------- | ---- |
    | 1    | [\w!#$%&'*+/=?^_0{\|}~-) |匹配字母数字以及符号(!#$%&'*+/=?^_`{\|}~-)|匹配字母数字以及符号([\w!#$%&'*+/=?^_undefined{\|}~-)|
    | 2    | + | 往后匹配，最少1个 |
    | 3    | (?:\\.[\w!#$%&'*+=?^_`{\|}~-]+)\* | 匹配字母数字以及符号，匹配大于等于0，但不储存(?:) |
    | 4    | @ | 基本匹配 |
    | 5    | (?:\[\w](?:[\w-]*[\w])?\\.) | 匹配字母数字以及自定义形式(字母数字-字母数字)，但不储存 |
    | 6    | + | 往后匹配，最少1个 |
    | 7    | [\w] | 匹配字母数字 |
    | 8    | (?:[\w-]*[\w]) | 匹配自定义形式(字母数字-字母数字)，但不储存 |
    | 9 | ? | 上面的匹配可选，出现 0 或 1 次 |
  
      > 匹配邮箱
  
    ```python
    import re
    pattern = r"[\w!#$%&'*+=?^_`{|}~-]+(?:\.[\w!#$%&'*+=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?"
    a = r'''1183417329@qq.com
    156848@aa.com
    qweqwe@qq.com
    qweas#das.com
    zzxdw%ss
    qwe_sad_zx@aa.com'''
    print(re.search(pattern,a)) # 输出  <re.Match object; span=(0, 17), match='1183417329@qq.com'>
    print(re.findall(pattern,a)) # 输出 ['1183417329@qq.com', '156848@aa.com', 'qweqwe@qq.com', 'qwe_sad_zx@aa.com']
    ```
  
  - 例子：`^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$`
  
      | 序号 | 正则表达式 | 解释          |
      | ---- | ---------- | ------------- |
      | 1    | ^          | 匹配开头      |
      | 2    | (\d{6})    | 匹配数字，6位 |
      | 3    | (\d{4})    | 匹配数字，4位 |
      | 4    | (\d{2})    | 匹配数字，2位 |
      | 5    | (\d{2})    | 匹配数字，2位 |
      | 6    | (\d{3})    | 匹配数字，3位 |
    | 7    | ([0-9]\|X) | 匹配数字以及X |
    | 8    | $          | 匹配结尾      |
  
      > 6+4+2+2+3+1=18位
      >
      > 匹配身份证
    
    ```python
    import re
    pattern = r"^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$"
    a = r'''510125199903050143
    555555555555555555
    999999999999999999
    11111111111111111X
    465464s46548944989
    494984984898465654'''
    
    print(re.search(pattern,a, re.M|re.I)) # 输出  <re.Match object; span=(0, 18), match='510125199903050143'>
    print(re.findall(pattern,a, re.M|re.I)) # 输出 [('510125', '1999', '03', '05', '014', '3'), ('555555', '5555', '55', '55', '555', '5'), ('999999', '9999', '99', '99', '999', '9'), ('111111', '1111', '11', '11', '111', 'X'), ('494984', '9848', '98', '46', '565', '4')]
    ```
    
    > 与其说是匹配身份证，倒不如说匹配了18位数字或者17位数字+1个X
    
  - 例子：`(“|【|‘)([\w\d，、：•]{1,20}?)(”|】|’)`
  
      | 序号 | 正则表达式             | 解释 |
      | ---- | ---------------------- | ---- |
      | 1    | (“\|【\|`)             | 匹配符号(“【`) |
      | 2    | ([\w\d，、：•]{1,20}?)  | 匹配字母数字以及(，、：•)，匹配1到20次 |
      | 3    | (”\|】\|’)`            | 匹配符号(”】`) |
      
      > 匹配  【\*\*】或者   “\*\*”或    \`**`
      
      ```python
      import re
      pattern = r"(“|【|‘)([\w\d，、：•]{1,20}?)(”|】|’)"
      a = r'''【www】
      【www、bijiqu：sq】'''
      
      print(re.search(pattern,a, re.M|re.I)) # 输出  <re.Match object; span=(0, 5), match='【www】'> 
      print(re.findall(pattern,a, re.M|re.I)) # 输出 [('【', 'www', '】'), ('【', 'www、bijiqu：sq', '】')]
      ```
      
      > 匹配的只是中文破折号+数字+字母+中文符号组成的东西
