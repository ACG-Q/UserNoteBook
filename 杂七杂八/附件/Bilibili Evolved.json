{
  "userStyles": {},
  "userPlugins": {
    "settingsPanel.tagFilters.recentComponents": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"settings-panel/recent-components\"]=t():e[\"settings-panel/recent-components\"]=t()}(self,(function(){return function(){\"use strict\";var e,t,n={407:function(e){e.exports=coreApis.settings}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var a=o[e]={exports:{}};return n[e](a,a.exports,r),a.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var a=Object.create(null);r.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var c=2&o&&n;\"object\"==typeof c&&!~e.indexOf(c);c=t(c))Object.getOwnPropertyNames(c).forEach((function(e){i[e]=function(){return n[e]}}));return i.default=function(){return n},r.d(a,i),a},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var a={};return function(){r.d(a,{plugin:function(){return e}});const e={name:\"settingsPanel.tagFilters.recentComponents\",displayName:'设置面板 - \"最近使用\" 类别',description:'在设置面板中添加 \"最近使用\" 类别, 方便检索最近操作过的组件.',setup:({addData:e,addHook:t})=>{const n=async()=>{const{getGeneralSettings:e}=await Promise.resolve().then(r.t.bind(r,407,23)),t=e();return t.recentComponents||(t.recentComponents={}),t.recentComponents};t(\"settingsPanel.componentDetail.open\",{after:async e=>{(await n())[e]=Number(new Date)}}),t(\"userComponents.add\",{after:async(e,t,o)=>{(await n())[o.name]=Number(new Date)}}),t(\"userComponents.remove\",{after:async e=>{delete(await n())[e.name]}}),e(\"settingsPanel.tagFilters\",(async e=>{const t=await n();e.unshift((({renderedComponents:e})=>({name:\"recent\",displayName:\"最近\",color:\"inherit\",icon:\"mdi-clock-outline\",order:0,count:e.length,filter:e=>lodash.sortBy(e,(e=>t[e.name]??0)).reverse()})))}))},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),a=a.plugin}()}));",
      "displayName": "设置面板 - \"最近使用\" 类别",
      "name": "settingsPanel.tagFilters.recentComponents",
      "description": "在设置面板中添加 \"最近使用\" 类别, 方便检索最近操作过的组件.",
      "setup": "({addData:e,addHook:t})=>{const n=async()=>{const{getGeneralSettings:e}=await Promise.resolve().then(r.t.bind(r,407,23)),t=e();return t.recentComponents||(t.recentComponents={}),t.recentComponents};t(\"settingsPanel.componentDetail.open\",{after:async e=>{(await n())[e]=Number(new Date)}}),t(\"userComponents.add\",{after:async(e,t,o)=>{(await n())[o.name]=Number(new Date)}}),t(\"userComponents.remove\",{after:async e=>{delete(await n())[e.name]}}),e(\"settingsPanel.tagFilters\",(async e=>{const t=await n();e.unshift((({renderedComponents:e})=>({name:\"recent\",displayName:\"最近\",color:\"inherit\",icon:\"mdi-clock-outline\",order:0,count:e.length,filter:e=>lodash.sortBy(e,(e=>t[e.name]??0)).reverse()})))}))}",
      "commitHash": "259797c283aac82bb5ead0c2c214b08a12a37c25"
    },
    "downloadVideo.outputs.aria2": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"video/download/aria2-output\"]=t():e[\"video/download/aria2-output\"]=t()}(self,(function(){return function(){var e={245:function(e,t,n){var o=n(645)((function(e){return e[1]}));o.push([e.id,\".rpc-config.download-video-config-section {\\n  display: flex;\\n  align-items: center;\\n  flex-direction: column;\\n  grid-gap: 0;\\n  gap: 0;\\n  align-items: stretch;\\n}\\n.rpc-config.download-video-config-section > * {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.rpc-config.download-video-config-section > *:not(:last-child) {\\n  margin-bottom: 12px;\\n}\\n.rpc-config.download-video-config-section .profile-item-name {\\n  margin-right: 8px;\\n}\\n.rpc-config.download-video-config-section .profile-other .profile-item-name {\\n  align-self: flex-start;\\n}\\n.rpc-config.download-video-config-section .profile-select .be-textbox,\\n.rpc-config.download-video-config-section .profile-select .be-dropdown {\\n  margin-right: 8px;\\n}\\n.rpc-config.download-video-config-section .profile-select .be-button {\\n  padding: 4px;\\n}\\n.rpc-config.download-video-config-section .profile-method {\\n  align-self: flex-start;\\n}\",\"\"]),e.exports=o},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(e,n,o){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar s=this[i][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);o&&r[c[0]]||(n&&(c[2]?c[2]=\"\".concat(n,\" and \").concat(c[2]):c[2]=n),t.push(c))}},t}},379:function(e,t,n){\"use strict\";var o,r=function(){return void 0===o&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\no=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},o=[],r=0;r<e.length;r++){var i=e[r],c=t.base?i[0]+t.base:i[0],l=n[c]||0,d=\"\".concat(c,\" \").concat(l);n[c]=l+1;var p=a(d),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==p?(s[p].references++,s[p].updater(f)):s.push({identifier:d,updater:v(f,t),references:1}),o.push(d)}return o}function l(e){var t=document.createElement(\"style\"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),\"function\"==typeof e.insert)e.insert(t);else{var s=i(e.insert||\"head\");if(!s)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");s.appendChild(t)}return t}var d,p=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join(\"\\n\")});function f(e,t,n,o){var r=n?\"\":o.media?\"@media \".concat(o.media,\" {\").concat(o.css,\"}\"):o.css;if(e.styleSheet)e.styleSheet.cssText=p(t,r);else{var i=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function u(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute(\"media\",r):e.removeAttribute(\"media\"),i&&\"undefined\"!=typeof btoa&&(o+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i)))),\" */\")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var m=null,h=0;function v(e,t){var n,o,r;if(t.singleton){var i=h++;n=m||(m=l(t)),o=f.bind(null,n,i,!1),r=f.bind(null,n,i,!0)}else n=l(t),o=u.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||\"boolean\"==typeof t.singleton||(t.singleton=r());var n=c(e=e||[],t);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=a(n[o]);s[r].references--}for(var i=c(e,t),l=0;l<n.length;l++){var d=a(n[l]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}n=i}}}},39:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return P}});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"rpc-config download-video-config-section\"},[e.isRenaming?n(\"div\",{staticClass:\"profile-select\"},[n(\"div\",{staticClass:\"profile-item-name\"},[e._v(\"\\n      重命名 RPC 预设:\\n    \")]),e._v(\" \"),n(\"TextBox\",{ref:\"renameInput\",model:{value:e.profileRename,callback:function(t){e.profileRename=t},expression:\"profileRename\"}}),e._v(\" \"),n(\"VButton\",{key:\"check\",attrs:{type:\"transparent\",title:\"完成\"},on:{click:function(t){return e.endRename()}}},[n(\"VIcon\",{attrs:{icon:\"mdi-check\",size:16}})],1)],1):n(\"div\",{staticClass:\"profile-select\"},[n(\"div\",{staticClass:\"profile-item-name\"},[e._v(\"\\n      RPC 预设:\\n    \")]),e._v(\" \"),n(\"VDropdown\",{attrs:{items:e.rpcProfiles},scopedSlots:e._u([{key:\"item\",fn:function(t){var n=t.item;return[e._v(\"\\n        \"+e._s(n.name)+\"\\n      \")]}}]),model:{value:e.selectedRpcProfile,callback:function(t){e.selectedRpcProfile=t},expression:\"selectedRpcProfile\"}}),e._v(\" \"),n(\"VButton\",{key:\"edit\",attrs:{type:\"transparent\",title:\"重命名\"},on:{click:function(t){return e.startRename()}}},[n(\"VIcon\",{attrs:{icon:\"mdi-pencil-outline\",size:16}})],1),e._v(\" \"),n(\"VButton\",{key:\"new\",attrs:{type:\"transparent\",title:\"新建预设\"},on:{click:function(t){return e.newProfile()}}},[n(\"VIcon\",{attrs:{icon:\"mdi-plus\",size:16}})],1),e._v(\" \"),n(\"VButton\",{key:\"delete\",attrs:{disabled:e.rpcProfiles.length<2,type:\"transparent\",title:\"删除当前预设\"},on:{click:function(t){return e.deleteProfile()}}},[n(\"VIcon\",{attrs:{icon:\"mdi-trash-can-outline\",size:16}})],1)],1),e._v(\" \"),e.selectedRpcProfile?[n(\"div\",{staticClass:\"profile-secret-key\"},[n(\"div\",{staticClass:\"profile-item-name\"},[e._v(\"\\n        密钥:\\n      \")]),e._v(\" \"),n(\"TextBox\",{attrs:{\"change-on-blur\":\"\"},model:{value:e.selectedRpcProfile.secretKey,callback:function(t){e.$set(e.selectedRpcProfile,\"secretKey\",t)},expression:\"selectedRpcProfile.secretKey\"}})],1),e._v(\" \"),n(\"div\",{staticClass:\"profile-dir\"},[n(\"div\",{staticClass:\"profile-item-name\"},[e._v(\"\\n        路径:\\n      \")]),e._v(\" \"),n(\"TextBox\",{attrs:{\"change-on-blur\":\"\"},model:{value:e.selectedRpcProfile.dir,callback:function(t){e.$set(e.selectedRpcProfile,\"dir\",t)},expression:\"selectedRpcProfile.dir\"}})],1),e._v(\" \"),n(\"div\",{staticClass:\"profile-host\"},[n(\"div\",{staticClass:\"profile-item-name\"},[e._v(\"\\n        主机:\\n      \")]),e._v(\" \"),n(\"TextBox\",{attrs:{\"change-on-blur\":\"\"},model:{value:e.selectedRpcProfile.host,callback:function(t){e.$set(e.selectedRpcProfile,\"host\",t)},expression:\"selectedRpcProfile.host\"}})],1),e._v(\" \"),n(\"div\",{staticClass:\"profile-port\"},[n(\"div\",{staticClass:\"profile-item-name\"},[e._v(\"\\n        端口:\\n      \")]),e._v(\" \"),n(\"TextBox\",{attrs:{\"change-on-blur\":\"\"},model:{value:e.selectedRpcProfile.port,callback:function(t){e.$set(e.selectedRpcProfile,\"port\",t)},expression:\"selectedRpcProfile.port\"}})],1),e._v(\" \"),n(\"div\",{staticClass:\"profile-method\"},[n(\"div\",{staticClass:\"profile-item-name\"},[e._v(\"\\n        方法:\\n      \")]),e._v(\" \"),n(\"VDropdown\",{attrs:{items:[\"get\",\"post\"],\"key-mapper\":function(e){return e}},scopedSlots:e._u([{key:\"item\",fn:function(t){var n=t.item;return[e._v(\"\\n          \"+e._s(n)+\"\\n        \")]}}],null,!1,883355439),model:{value:e.selectedRpcProfile.method,callback:function(t){e.$set(e.selectedRpcProfile,\"method\",t)},expression:\"selectedRpcProfile.method\"}})],1),e._v(\" \"),n(\"div\",{staticClass:\"profile-other\"},[n(\"div\",{staticClass:\"profile-item-name\"},[e._v(\"\\n        其他配置:\\n      \")]),e._v(\" \"),n(\"TextArea\",{attrs:{placeholder:\"some-key=value\",\"change-on-blur\":\"\"},model:{value:e.selectedRpcProfile.other,callback:function(t){e.$set(e.selectedRpcProfile,\"other\",t)},expression:\"selectedRpcProfile.other\"}})],1)]:e._e()],2)};o._withStripped=!0;var r=coreApis.settings,i=n(141),s=coreApis.ui;const a={name:\"未命名\",secretKey:\"\",dir:\"\",host:\"127.0.0.1\",port:\"6800\",method:\"get\",other:\"\"},{options:c}=(0,r.getComponentSettings)(\"downloadVideo\"),l={...{rpcProfiles:[a],selectedRpcProfileName:a.name},...c},d=l.rpcProfiles.find((e=>e.name===l.selectedRpcProfileName))??(l.rpcProfiles.length<1?(l.rpcProfiles.push(a),a):l.rpcProfiles[0]);console.log(l,d);var p=Vue.extend({components:{TextBox:s.TextBox,VButton:s.VButton,VIcon:s.VIcon,VDropdown:s.VDropdown,TextArea:s.TextArea},data:()=>({isRenaming:!1,profileRename:\"\",rpcProfiles:l.rpcProfiles,selectedRpcProfile:d}),methods:{saveSettings(){l.selectedRpcProfileName=this.selectedRpcProfile.name,l.rpcProfiles=this.rpcProfiles,Object.assign(c,l)},async startRename(){this.profileRename=this.selectedRpcProfile.name,this.isRenaming=!0,await this.$nextTick(),this.$refs.renameInput?.focus()},endRename(){const e=this.profileRename;e?l.rpcProfiles.some((t=>t.name!==this.selectedRpcProfile.name&&t.name===e))?i.Toast.error(\"名称不得与其他预设重复\",\"重命名 RPC 预设\",2e3):(this.selectedRpcProfile.name=this.profileRename,this.isRenaming=!1,this.saveSettings()):i.Toast.error(\"名称不得为空\",\"重命名 RPC 预设\",2e3)},newProfile(){const e={...this.selectedRpcProfile},t={num:1,toString(){return`未命名${this.num}`}};for(;l.rpcProfiles.some((e=>e.name===t.toString()));)t.num++;e.name=t.toString(),l.rpcProfiles.push(e),this.selectedRpcProfile=e},deleteProfile(){if(l.rpcProfiles.length<2)return;const e=l.rpcProfiles.findIndex((e=>e.name===this.selectedRpcProfile.name));-1!==e&&confirm(`确认删除 RPC 预设 \"${this.selectedRpcProfile.name}\" 吗?`)&&(l.rpcProfiles.splice(e,1),this.selectedRpcProfile=l.rpcProfiles[0])}}}),f=n(379),u=n.n(f),m=n(245),h=n.n(m),v={insert:\"head\",singleton:!1};u()(h(),v),h().locals;var g=function(e,t,n,o,r,i,s,a){var c,l=\"function\"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),o&&(l.functional=!0),i&&(l._scopeId=\"data-v-\"+i),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):r&&(c=a?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(e,t){return c.call(t),d(e,t)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:l}}(p,o,[],!1,null,null,null);g.options.__file=\"registry/lib/plugins/video/download/aria2-output/RpcConfig.vue\";var P=g.exports},141:function(e){\"use strict\";e.exports=coreApis.toast}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,exports:{}};return e[o](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var o={};return function(){\"use strict\";n.d(o,{plugin:function(){return h}});var e=coreApis.download,t=coreApis.utils.constants,r=coreApis.utils.title;const i={name:\"aria2\",displayName:\"aria2 Input\",description:\"使用 aria2 命令行输入文件开始下载. (aria2c -i xxx.txt)\",runAction:async n=>{const{infos:o}=n,i=document.URL.replace(window.location.search,\"\"),s=`\\n# Generated by Bilibili Evolved Video Export\\n# https://github.com/the1812/Bilibili-Evolved/\\n${o.map((e=>e.titledFragments.map((e=>({url:e.url,params:{referer:i,userAgent:t.UserAgent,out:e.title}}))).flat().map((e=>{const t=Object.entries(e.params).map((([e,t])=>`  ${lodash.kebabCase(e)}=${t}`)).join(\"\\n\");return`${e.url}\\n${t}`})))).flat().join(\"\\n\")}`.trim();await e.DownloadPackage.single(`${(0,r.getFriendlyTitle)()}.txt`,s)}};var s=coreApis.ajax,a=n(141),c=coreApis.utils.log;const l=e=>{const t=e.host.match(/^http[s]?:\\/\\//)?e.host:`http://${e.host}`;return{option:e,host:t,methodName:\"aria2.addUri\"}},d=async(e,t)=>{try{let n=await t();return\"string\"==typeof n&&(n=JSON.parse(n)),void 0!==n.error?1===n.error.code?{param:e,success:!1,message:\"请求遭到拒绝, 请检查您的密钥相关设置.\"}:{param:e,success:!1,message:`请求发生错误, code = ${n.error.code}, message = ${n.error.message}`}:{param:e,success:!0,message:n.result}}catch(t){return{param:e,success:!1,message:`无法连接到RPC主机, error = ${t.toString()}`}}},p=async(e,t)=>{const{option:n,host:o,methodName:r}=l(e);return d(t,(async()=>{const e=window.btoa(unescape(encodeURIComponent(JSON.stringify(t.params)))),i=`${o}:${n.port}/jsonrpc?method=${r}&id=${t.id}&params=${e}`;return console.log(`RPC request: ${i}`),i.startsWith(\"http:\")?(0,s.monkey)({method:\"GET\",url:i,responseType:\"json\"}):(0,s.getJson)(i)}))},f=async(e,t)=>{const{option:n,host:o,methodName:r}=l(e);return d(t,(async()=>{const e=`${o}:${n.port}/jsonrpc`,i={method:r,id:t.id,params:t.params};return e.startsWith(\"http:\")?(0,s.monkey)({method:\"POST\",url:e,responseType:\"json\",data:JSON.stringify(i)}):(0,s.postJson)(e,i)}))},u=e=>{if(!e)return{};const t=e.split(\"\\n\").map((e=>{const[t,...n]=e.trim().split(\"=\");return[t.trim(),n.join(\"=\").trim()]})).filter((e=>Boolean(e[1])));return Object.fromEntries(t)},m={name:\"aria2Rpc\",displayName:\"aria2 RPC\",description:\"使用 aria2 RPC 功能发送下载请求.\",runAction:async(e,n)=>{const{infos:o}=e,{selectedRpcProfile:r}=n,{secretKey:i,dir:s,other:l}=r,d=document.URL.replace(window.location.search,\"\"),m=o.map((e=>e.titledFragments.map((e=>{const n=[];i&&n.push(`token:${i}`),n.push([e.url]),n.push({referer:d,\"user-agent\":t.UserAgent,out:e.title,dir:s||void 0,...u(l)});return{params:n,id:encodeURIComponent(e.title)}})))).flat(),h=await(async(e,t)=>{const n=[];for(const o of t){let t;t=\"get\"===e.method?await p(e,o):await f(e,o),n.push(t)}return n})(r,m);if(console.table(h),1===h.length){const e=h[0];e.success?a.Toast.success(`成功发送了请求, GID = ${e.message}`,\"aria2 RPC\",5e3):(0,c.logError)(e.message)}else{const e=h.filter((e=>e.success)).length,t=h.length-e;a.Toast.info(`发送了 ${h.length} 个请求, 成功 ${e} 个, 失败 ${t} 个.`,\"aria2 RPC\",5e3)}},component:()=>Promise.resolve().then(n.bind(n,39)).then((e=>e.default))},h={name:\"downloadVideo.outputs.aria2\",displayName:\"下载视频 - aria2 输出支持\",description:\"为下载视频增加 aria2 文件导出和 RPC 输出支持.\",setup:({addData:e})=>{e(\"downloadVideo.outputs\",(e=>{e.push(i),e.push(m)}))},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),o=o.plugin}()}));",
      "displayName": "下载视频 - aria2 输出支持",
      "name": "downloadVideo.outputs.aria2",
      "description": "为下载视频增加 aria2 文件导出和 RPC 输出支持.",
      "setup": "({addData:e})=>{e(\"downloadVideo.outputs\",(e=>{e.push(i),e.push(m)}))}",
      "commitHash": "259797c283aac82bb5ead0c2c214b08a12a37c25"
    },
    "downloadVideo.outputs.idm": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"video/download/idm-output\"]=t():e[\"video/download/idm-output\"]=t()}(self,(function(){return function(){\"use strict\";var e={d:function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{plugin:function(){return a}});var o=coreApis.download,n=coreApis.utils.constants,i=coreApis.utils.title;const a={name:\"downloadVideo.outputs.idm\",displayName:\"下载视频 - IDM 输出支持\",description:\"为下载视频增加 IDM 输出支持.\",setup:({addData:e})=>{e(\"downloadVideo.outputs\",(e=>{e.push({name:\"idm\",displayName:\"IDM\",description:\"使用 IDM 的 .ef2 格式导出, 可以在 IDM 中使用导入开始下载. 请注意此导出方式不能保留视频文件名.\",runAction:async e=>{const{infos:t}=e,a=document.URL.replace(window.location.search,\"\"),r=t.map((e=>e.titledFragments.map((e=>`<\\n${e.url}\\nreferer: ${a}\\nUser-Agent: ${n.UserAgent}\\n>`.trim())))).flat().concat(\"\").join(\"\\n\").replace(/([^\\r])\\n/g,\"$1\\r\\n\");await o.DownloadPackage.single(`${(0,i.getFriendlyTitle)()}.ef2`,r)}})}))},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"};return t=t.plugin}()}));",
      "displayName": "下载视频 - IDM 输出支持",
      "name": "downloadVideo.outputs.idm",
      "description": "为下载视频增加 IDM 输出支持.",
      "setup": "({addData:e})=>{e(\"downloadVideo.outputs\",(e=>{e.push({name:\"idm\",displayName:\"IDM\",description:\"使用 IDM 的 .ef2 格式导出, 可以在 IDM 中使用导入开始下载. 请注意此导出方式不能保留视频文件名.\",runAction:async e=>{const{infos:t}=e,a=document.URL.replace(window.location.search,\"\"),r=t.map((e=>e.titledFragments.map((e=>`<\\n${e.url}\\nreferer: ${a}\\nUser-Agent: ${n.UserAgent}\\n>`.trim())))).flat().concat(\"\").join(\"\\n\").replace(/([^\\r])\\n/g,\"$1\\r\\n\");await o.DownloadPackage.single(`${(0,i.getFriendlyTitle)()}.ef2`,r)}})}))}",
      "commitHash": "259797c283aac82bb5ead0c2c214b08a12a37c25"
    },
    "downloadVideo.outputs.mpv": {
      "code": "!function(o,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"video/download/mpv-output\"]=e():o[\"video/download/mpv-output\"]=e()}(self,(function(){return function(){\"use strict\";var o={d:function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(o,e){return Object.prototype.hasOwnProperty.call(o,e)}},e={};o.d(e,{plugin:function(){return n}});var t=coreApis.toast;const n={name:\"downloadVideo.outputs.mpv\",displayName:\"下载视频 - MPV 输出支持\",description:\"by [@diannaojiang](https://github.com/diannaojiang)\\n\\n为下载视频增加 MPV 输出支持, 配置方式请参考 [Bilibili-Playin-Mpv](https://github.com/diannaojiang/Bilibili-Playin-Mpv)\",setup:({addData:o})=>{o(\"downloadVideo.outputs\",(o=>{o.push({name:\"mpv\",displayName:\"MPV\",description:\"弹一条消息显示出播放按钮，点击即可使用MPV进行播放\",runAction:async o=>{const e=o.infos.flatMap((o=>o.titledFragments)),n=e.map((o=>o.url)).join(\"\\n\"),i=`mpv://--http-header-fields=\"referer:https://www.bilibili.com/\" \"${e[0].url}\" --audio-file=\"${e[1].url}\"`;console.log(i),t.Toast.show(`<a class=\"link\" href=\"${encodeURI(i)}\" >播放</a>`,\"MPV播放\"),console.log(n),console.log(o)}})}))},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"};return e=e.plugin}()}));",
      "displayName": "下载视频 - MPV 输出支持",
      "name": "downloadVideo.outputs.mpv",
      "description": "by [@diannaojiang](https://github.com/diannaojiang)\n\n为下载视频增加 MPV 输出支持, 配置方式请参考 [Bilibili-Playin-Mpv](https://github.com/diannaojiang/Bilibili-Playin-Mpv)",
      "setup": "({addData:o})=>{o(\"downloadVideo.outputs\",(o=>{o.push({name:\"mpv\",displayName:\"MPV\",description:\"弹一条消息显示出播放按钮，点击即可使用MPV进行播放\",runAction:async o=>{const e=o.infos.flatMap((o=>o.titledFragments)),n=e.map((o=>o.url)).join(\"\\n\"),i=`mpv://--http-header-fields=\"referer:https://www.bilibili.com/\" \"${e[0].url}\" --audio-file=\"${e[1].url}\"`;console.log(i),t.Toast.show(`<a class=\"link\" href=\"${encodeURI(i)}\" >播放</a>`,\"MPV播放\"),console.log(n),console.log(o)}})}))}",
      "commitHash": "259797c283aac82bb5ead0c2c214b08a12a37c25"
    }
  },
  "userComponents": {
    "downloadVideo": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"video/download\"]=t():e[\"video/download\"]=t()}(self,(function(){return function(){var e={652:function(e,t,n){var i=n(645)((function(e){return e[1]}));i.push([e.id,\".download-video-panel {\\n  font-size: 12px;\\n  top: 100px;\\n  left: 50%;\\n  transform: translateX(-50%) scale(0.95);\\n  transition: 0.2s ease-out;\\n  z-index: 1000;\\n  width: 320px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n  padding: 12px;\\n  background-color: #fff;\\n  color: black;\\n  border-radius: 8px;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);\\n  border: 1px solid rgba(136,136,136,0.13333);\\n  box-sizing: border-box;\\n}\\nbody.dark .download-video-panel {\\n  background-color: #282828;\\n  color: #eee;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.2);\\n}\\n.download-video-panel.open {\\n  transform: translateX(-50%);\\n}\\n.download-video-panel > :not(:first-child) {\\n  margin-top: 12px;\\n}\\n.download-video-panel .be-textbox,\\n.download-video-panel .be-textarea {\\n  flex-grow: 1;\\n}\\n.download-video-panel-header {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  align-self: stretch;\\n}\\n.download-video-panel-header .title {\\n  font-size: 16px;\\n  font-weight: bold;\\n  flex-grow: 1;\\n  margin: 0 8px;\\n}\\n.download-video-panel-header .be-button {\\n  padding: 4px;\\n}\\n.download-video-panel .download-video-config-item {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.download-video-panel .download-video-config-item .download-video-config-title {\\n  margin-right: 8px;\\n}\\n.download-video-panel .download-video-config-item.error {\\n  color: #E57373;\\n}\\n.download-video-panel .download-video-config-section {\\n  align-self: stretch;\\n}\\n.download-video-panel .download-video-config-description {\\n  opacity: 0.5;\\n  margin-top: 4px;\\n}\\n.download-video-panel-footer {\\n  align-self: stretch;\\n  justify-content: center;\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.download-video-panel .run-download {\\n  font-size: 13px;\\n  padding: 6px 12px;\\n}\",\"\"]),e.exports=i},977:function(e,t,n){var i=n(645)((function(e){return e[1]}));i.push([e.id,\".episodes-picker-header {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.episodes-picker-checked-ratio {\\n  flex-grow: 1;\\n  margin-left: 4px;\\n}\\n.episodes-picker-actions {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.episodes-picker-actions .be-button {\\n  padding: 4px;\\n}\\n.episodes-picker-actions .be-button.invert-selection .be-icon {\\n  font-size: 14px;\\n}\\n.episodes-picker-actions .be-button.select-all .be-icon, .episodes-picker-actions .be-button.deselect-all .be-icon {\\n  transform: translateY(1px);\\n}\\n.episodes-picker-items {\\n  max-height: 400px;\\n  overflow: auto;\\n}\\n.episodes-picker-items:not(:empty) {\\n  margin-top: 4px;\\n  border: 1px solid rgba(136,136,136,0.26667);\\n  border-radius: 6px;\\n}\\n.episodes-picker-items .be-check-box {\\n  padding: 2px 6px;\\n}\\n.episodes-picker-items .episode-duration {\\n  margin-right: 4px;\\n  text-align: right;\\n  flex: 1 1 0;\\n  opacity: 0.5;\\n}\",\"\"]),e.exports=i},614:function(e,t,n){var i=n(645)((function(e){return e[1]}));i.push([e.id,\".single-video-info.download-video-config-section {\\n  height: 125px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.single-video-info.download-video-config-section img {\\n  height: 125px;\\n  -o-object-fit: contain;\\n     object-fit: contain;\\n  border-radius: 8px;\\n}\\n.single-video-info.download-video-config-section img.shadow {\\n  position: absolute;\\n  filter: blur(8px) brightness(0.8);\\n  transform: scaleY(0.95) translateY(4px);\\n  z-index: -1;\\n  opacity: 0.3;\\n}\",\"\"]),e.exports=i},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(e,n,i){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var o={};if(i)for(var s=0;s<this.length;s++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[s][0];null!=a&&(o[a]=!0)}for(var d=0;d<e.length;d++){var r=[].concat(e[d]);i&&o[r[0]]||(n&&(r[2]?r[2]=\"\".concat(n,\" and \").concat(r[2]):r[2]=n),t.push(r))}},t}},379:function(e,t,n){\"use strict\";var i,o=function(){return void 0===i&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\ni=Boolean(window&&document&&document.all&&!window.atob)),i},s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function d(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function r(e,t){for(var n={},i=[],o=0;o<e.length;o++){var s=e[o],r=t.base?s[0]+t.base:s[0],l=n[r]||0,c=\"\".concat(r,\" \").concat(l);n[r]=l+1;var u=d(c),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(a[u].references++,a[u].updater(p)):a.push({identifier:c,updater:v(p,t),references:1}),i.push(c)}return i}function l(e){var t=document.createElement(\"style\"),i=e.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),\"function\"==typeof e.insert)e.insert(t);else{var a=s(e.insert||\"head\");if(!a)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");a.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join(\"\\n\")});function p(e,t,n,i){var o=n?\"\":i.media?\"@media \".concat(i.media,\" {\").concat(i.css,\"}\"):i.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var s=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function f(e,t,n){var i=n.css,o=n.media,s=n.sourceMap;if(o?e.setAttribute(\"media\",o):e.removeAttribute(\"media\"),s&&\"undefined\"!=typeof btoa&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s)))),\" */\")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var h=null,m=0;function v(e,t){var n,i,o;if(t.singleton){var s=m++;n=h||(h=l(t)),i=p.bind(null,n,s,!1),o=p.bind(null,n,s,!0)}else n=l(t),i=f.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||\"boolean\"==typeof t.singleton||(t.singleton=o());var n=r(e=e||[],t);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var o=d(n[i]);a[o].references--}for(var s=r(e,t),l=0;l<n.length;l++){var c=d(n[l]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=s}}}},442:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return ee}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"VPopup\",{staticClass:\"download-video-panel\",attrs:{\"trigger-element\":e.triggerElement},model:{value:e.open,callback:function(t){e.open=t},expression:\"open\"}},[n(\"div\",{staticClass:\"download-video-panel-header\"},[n(\"VIcon\",{attrs:{icon:\"mdi-download\"}}),e._v(\" \"),n(\"div\",{staticClass:\"title\"},[e._v(\"\\n      下载视频\\n    \")]),e._v(\" \"),n(\"VButton\",{attrs:{type:\"transparent\",title:\"关闭\"},on:{click:function(t){e.open=!1}}},[n(\"VIcon\",{attrs:{icon:\"mdi-close\",size:20}})],1)],1),e._v(\" \"),e.selectedInput?n(\"div\",{staticClass:\"download-video-config-item\"},[n(\"div\",{staticClass:\"download-video-config-title\"},[e._v(\"\\n      输入源:\\n    \")]),e._v(\" \"),n(\"VDropdown\",{attrs:{items:e.inputs},model:{value:e.selectedInput,callback:function(t){e.selectedInput=t},expression:\"selectedInput\"}})],1):e._e(),e._v(\" \"),0===e.inputs.length?n(\"div\",{staticClass:\"download-video-config-item error\"},[e._v(\"\\n    没有匹配的输入源, 请确保安装了适合此页面的插件.\\n  \")]):e._e(),e._v(\" \"),e.selectedInput&&e.selectedInput.component?n(e.selectedInput.component,{ref:\"inputOptions\",tag:\"component\"}):e._e(),e._v(\" \"),e.selectedApi?n(\"div\",{staticClass:\"download-video-config-item\"},[n(\"div\",{staticClass:\"download-video-config-title\"},[e._v(\"\\n      格式:\\n    \")]),e._v(\" \"),n(\"VDropdown\",{attrs:{items:e.apis},model:{value:e.selectedApi,callback:function(t){e.selectedApi=t},expression:\"selectedApi\"}})],1):e._e(),e._v(\" \"),e.selectedApi&&e.selectedApi.description?n(\"div\",{staticClass:\"download-video-config-description\",domProps:{innerHTML:e._s(e.selectedApi.description)}}):e._e(),e._v(\" \"),e.selectedQuality?n(\"div\",{staticClass:\"download-video-config-item\"},[n(\"div\",{staticClass:\"download-video-config-title\"},[e._v(\"\\n      清晰度:\\n    \")]),e._v(\" \"),n(\"VDropdown\",{attrs:{items:e.filteredQualities},on:{change:function(t){return e.saveSelectedQuality()}},model:{value:e.selectedQuality,callback:function(t){e.selectedQuality=t},expression:\"selectedQuality\"}})],1):e._e(),e._v(\" \"),!e.testData.multiple&&e.selectedQuality?[e.testData.videoInfo?n(\"div\",{staticClass:\"download-video-config-description\"},[e._v(\"\\n      预计大小: \"+e._s(e.formatFileSize(e.testData.videoInfo.totalSize))+\"\\n    \")]):e._e(),e._v(\" \"),null===e.testData.videoInfo?n(\"div\",{staticClass:\"download-video-config-description\"},[e._v(\"\\n      正在计算大小\\n    \")]):e._e()]:e._e(),e._v(\" \"),e._l(e.assetsWithOptions,(function(e){return n(e.component,{key:e.name,ref:\"assetsOptions\",refInFor:!0,tag:\"component\",attrs:{name:e.name}})})),e._v(\" \"),e.selectedOutput?n(\"div\",{staticClass:\"download-video-config-item\"},[n(\"div\",{staticClass:\"download-video-config-title\"},[e._v(\"\\n      输出方式:\\n    \")]),e._v(\" \"),n(\"VDropdown\",{attrs:{items:e.outputs},model:{value:e.selectedOutput,callback:function(t){e.selectedOutput=t},expression:\"selectedOutput\"}})],1):e._e(),e._v(\" \"),e.selectedOutput&&e.selectedOutput.description?n(\"div\",{staticClass:\"download-video-config-description\"},[e._v(\"\\n    \"+e._s(e.selectedOutput.description)+\"\\n  \")]):e._e(),e._v(\" \"),e.selectedOutput&&e.selectedOutput.component?n(e.selectedOutput.component,{ref:\"outputOptions\",tag:\"component\"}):e._e(),e._v(\" \"),n(\"div\",{staticClass:\"download-video-panel-footer\"},[n(\"VButton\",{staticClass:\"run-download\",attrs:{type:\"primary\",disabled:!e.canStartDownload},on:{click:function(t){return e.startDownload(e.$refs.outputOptions,e.selectedOutput)}}},[e._v(\"\\n      开始\\n    \")])],1)],2)};i._withStripped=!0;var o=coreApis.settings,s=coreApis.utils,a=n(729),d=coreApis.utils.formatters,r=coreApis.ui,l=coreApis.pluginApis.data,c=coreApis.componentApis.video.videoQuality,u=coreApis.toast,p=coreApis.ajax,f=coreApis.utils.title,h=coreApis.utils.urls,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"episodes-picker download-video-config-section\"},[n(\"div\",{staticClass:\"episodes-picker-header\"},[n(\"div\",{staticClass:\"episodes-picker-title\"},[e._v(\"\\n      选集:\\n    \")]),e._v(\" \"),n(\"div\",{staticClass:\"episodes-picker-checked-ratio\"},[e._v(\"\\n      \"+e._s(e.checkedRatio)+\"\\n    \")]),e._v(\" \"),n(\"div\",{staticClass:\"episodes-picker-actions\"},[n(\"VButton\",{staticClass:\"select-all\",attrs:{title:\"全选\",type:\"transparent\"},on:{click:function(t){e.forEachItem((function(e){return e.isChecked=!0}))}}},[n(\"VIcon\",{attrs:{size:16,icon:\"mdi-checkbox-multiple-marked-circle\"}})],1),e._v(\" \"),n(\"VButton\",{staticClass:\"deselect-all\",attrs:{title:\"全不选\",type:\"transparent\"},on:{click:function(t){e.forEachItem((function(e){return e.isChecked=!1}))}}},[n(\"VIcon\",{attrs:{size:16,icon:\"mdi-checkbox-multiple-blank-circle-outline\"}})],1),e._v(\" \"),n(\"VButton\",{staticClass:\"invert-selection\",attrs:{title:\"反选\",type:\"transparent\"},on:{click:function(t){e.forEachItem((function(e){return e.isChecked=!e.isChecked}))}}},[n(\"VIcon\",{attrs:{size:16,icon:\"mdi-circle-slice-4\"}})],1)],1)]),e._v(\" \"),n(\"div\",{staticClass:\"episodes-picker-items\"},e._l(e.episodeItems,(function(t,i){return n(\"div\",{key:t.key,staticClass:\"episodes-picker-item\"},[n(\"CheckBox\",{attrs:{\"icon-position\":\"left\",\"data-aid\":t.inputItem.aid,\"data-cid\":t.inputItem.cid,\"data-bvid\":t.inputItem.bvid},nativeOn:{click:function(n){return e.shiftSelect(n,t,i)}},model:{value:t.isChecked,callback:function(n){e.$set(t,\"isChecked\",n)},expression:\"item.isChecked\"}},[n(\"span\",{staticClass:\"episode-title\"},[e._v(\"\\n          \"+e._s(t.title)+\"\\n        \")]),e._v(\" \"),t.durationText?n(\"span\",{staticClass:\"episode-duration\"},[e._v(\"\\n          \"+e._s(t.durationText)+\"\\n        \")]):e._e()])],1)})),0)])};m._withStripped=!0;var v=Vue.extend({components:{VButton:r.VButton,VIcon:r.VIcon,CheckBox:r.CheckBox},props:{api:{type:Function,required:!0}},data:()=>({episodeItems:[],maxCheckedItems:32,lastCheckedEpisodeIndex:-1}),computed:{checkedRatio(){return`(${this.episodeItems.filter((e=>e.isChecked)).length}/${this.episodeItems.length})`},inputItems(){return this.episodeItems.map((e=>e.inputItem))},checkedInputItems(){return this.episodeItems.filter((e=>e.isChecked)).map((e=>e.inputItem))}},created(){this.getEpisodeItems()},methods:{shiftSelect(e,t,n){e.shiftKey&&-1!==this.lastCheckedEpisodeIndex?e.shiftKey&&-1!==this.lastCheckedEpisodeIndex&&(this.episodeItems.slice(Math.min(this.lastCheckedEpisodeIndex,n)+1,Math.max(this.lastCheckedEpisodeIndex,n)).forEach((e=>{e.isChecked=!e.isChecked})),this.lastCheckedEpisodeIndex=n,e.preventDefault()):this.lastCheckedEpisodeIndex=n},forEachItem(e){this.episodeItems.forEach(e)},async getEpisodeItems(){this.episodeItems.length>0||(this.episodeItems=await this.api(this))}}}),g=n(379),w=n.n(g),y=n(977),b=n.n(y),x={insert:\"head\",singleton:!1},_=(w()(b(),x),b().locals,n(900)),I=(0,_.Z)(v,m,[],!1,null,null,null);I.options.__file=\"registry/lib/components/video/download/inputs/EpisodesPicker.vue\";var k=I.exports;const C=e=>Vue.extend({computed:{checkedInputItems(){return this.$refs.picker.checkedInputItems}},render:t=>t(k,{props:{api:e},ref:\"picker\"})}),V={name:\"bangumi.batch\",displayName:\"当前番剧 (多P)\",match:h.bangumiUrls,getInputs:async e=>e?.checkedInputItems??[],component:async()=>C((async e=>{const t=document.querySelector(\"meta[property='og:url']\");if(null===t)return(0,a.logError)(\"获取番剧数据失败: 无法找到 Season ID\"),[];const n=t.getAttribute(\"content\")?.match(/play\\/ss(\\d+)/)?.[1];if(void 0===n)return(0,a.logError)(\"获取番剧数据失败: 无法解析 Season ID\"),[];const i=await(0,p.getJson)(`https://api.bilibili.com/pgc/web/season/section?season_id=${n}`);if(0!==i.code)return(0,a.logError)(`获取番剧数据失败: 无法获取番剧集数列表, message=${i.message}`),[];const s=i.result.main_section.episodes;return s.map(((t,n)=>{const i=t.long_title?t.title:(n+1).toString(),a=t.long_title?t.long_title:t.title;return{key:t.cid,title:`${i} - ${a}`,isChecked:n<e.maxCheckedItems,inputItem:{aid:t.aid,cid:t.cid,title:(0,f.formatTitle)((0,o.getGeneralSettings)().batchFilenameFormat,!1,{ep:a,cid:t.cid,aid:t.aid,n:(0,d.formatNumber)(parseFloat(i),s.length)??a}),allowQualityDrop:!0}}}))}))},A={name:\"video.batch\",displayName:\"当前视频 (多P)\",match:h.videoUrls,getInputs:async e=>e?.checkedInputItems??[],component:async()=>C((async e=>{const{aid:t}=unsafeWindow,n=`https://api.bilibili.com/x/web-interface/view?aid=${t}`,i=await(0,p.getJson)(n);if(0!==i.code)return(0,a.logError)(`获取视频选集列表失败, message = ${i.message}`),[];const{pages:s}=i.data;return void 0===s?((0,a.logError)(\"获取视频选集列表失败, 没有找到选集信息.\"),[]):s.map(((n,i)=>({key:n.cid,title:`P${n.page} ${n.part}`,isChecked:i<e.maxCheckedItems,durationText:(0,d.formatDuration)(n.duration),inputItem:{allowQualityDrop:!0,title:(0,f.formatTitle)((0,o.getGeneralSettings)().batchFilenameFormat,!1,{cid:n.cid,n:(0,d.formatNumber)(n.page,s.length),ep:n.part}),cid:n.cid,aid:t}})))}))},E={name:\"video\",displayName:\"当前视频\",match:h.videoUrls,getInputs:async()=>[{aid:unsafeWindow.aid,cid:unsafeWindow.cid,title:(0,f.getFriendlyTitle)(!0)}],component:()=>Promise.resolve().then(n.bind(n,919)).then((e=>e.default))};var D=coreApis.utils.sort;const S=(e,t)=>{e.quality&&t.currentQuality.value!==e.quality.value&&(e.allowQualityDrop?console.warn(`'${e.title}' 不支持选择的清晰度${e.quality.displayName}, 已降级为${t.currentQuality.displayName}`):(e=>{if(c.vipRequiredQualities.find((t=>t.value===e)))throw new Error(\"您选择的清晰度需要大会员, 请更改清晰度后重试.\");if(c.loginRequiredQualities.find((t=>t.value===e)))throw new Error(\"您选择的清晰度需要先登录.\");throw new Error(\"获取下载链接失败, 请尝试更换清晰度或更换格式.\")})(e.quality.value))};var $=coreApis.download;function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class q{constructor(e){O(this,\"input\",void 0),O(this,\"fragments\",void 0),O(this,\"qualities\",void 0),O(this,\"currentQuality\",void 0),O(this,\"jsonData\",void 0),Object.assign(this,e)}get totalSize(){return lodash.sumBy(this.fragments,(e=>e.size))}get totalLength(){return lodash.sumBy(this.fragments,(e=>e.length))}get titledFragments(){return this.fragments.map(((e,t)=>{const n=this.fragments.filter((t=>t.extension===e.extension)).length>1?` - ${(0,d.formatNumber)(t+1,this.fragments.length)}`:\"\";return{...e,title:`${this.input.title}${n}${e.extension}`}}))}}class Q{constructor(e){this.infos=e,O(this,\"inputs\",[]),O(this,\"extraAssets\",[]),this.inputs=e.map((e=>e.input))}get isSingleVideo(){return this.inputs.length<2}async downloadExtraAssets(){console.log(\"[downloadExtraAssets]\",this.extraAssets);const e=`${(0,f.getFriendlyTitle)(!1)}.zip`;await new $.DownloadPackage(this.extraAssets).emit(e)}}\n/* spell-checker: disable */\nconst T={video:\".mp4\",audio:\".m4a\"},U=e=>({url:e.downloadUrl,backupUrls:e.backupUrls,length:e.duration,size:Math.trunc(e.bandWidth*e.duration/8),extension:T[e.type]??\".m4s\"}),j=async(e,t)=>{const{codec:n=\"AVC/H.264\",filters:i}=t,o={video:()=>!0,audio:()=>!0,...i},{aid:a,cid:d,quality:r}=e,l={avid:a,cid:d,qn:r?.value??\"\",otype:\"json\",fourk:1,fnver:0,fnval:2e3},u=`https://api.bilibili.com/x/player/playurl?${(0,s.formData)(l)}`,f=await(0,p.bilibiliApi)((0,p.getJsonWithCredentials)(u),\"获取视频链接失败\");if(!f.dash)throw new Error(\"此视频没有 dash 格式, 请改用其他格式.\");const h=c.allQualities.find((e=>e.value===f.quality)),{duration:m,video:v,audio:g,dolby:w}=f.dash,y=v.filter((e=>e.id===h.value)).map((e=>{const t=(()=>{switch(e.codecid){case 12:return\"HEVC/H.265\";default:case 7:return\"AVC/H.264\"}})();return{type:\"video\",quality:h,width:e.width,height:e.height,codecs:e.codecs,codecId:e.codecid,bandWidth:e.bandwidth,frameRate:e.frameRate,backupUrls:(e.backupUrl||e.backup_url||[]).map((e=>e.replace(\"http:\",\"https:\"))),downloadUrl:(e.baseUrl||e.base_url||\"\").replace(\"http:\",\"https:\"),duration:m,videoCodec:t}})).filter((e=>o.video(e))),b=(g||[]).map((e=>({type:\"audio\",bandWidth:e.bandwidth,codecs:e.codecs,codecId:e.codecid,backupUrls:(e.backupUrl||e.backup_url||[]).map((e=>e.replace(\"http:\",\"https:\"))),downloadUrl:(e.baseUrl||e.base_url||\"\").replace(\"http:\",\"https:\"),duration:m}))).filter((e=>o.audio(e)));w&&b.push(...w.audio?.map((e=>({type:\"audio\",bandWidth:e.bandwidth,codecs:e.codecs,codecId:-1,backupUrls:[],downloadUrl:(e.baseUrl||e.base_url||\"\").replace(\"http:\",\"https:\"),duration:m})))??[]);const x=(e=>{const{videoDashes:t,audioDashes:n,videoCodec:i}=e,o=[];if(0!==t.length){const e=e=>e.videoCodec===i;if(t.some(e)){const n=t.filter(e).sort((0,D.ascendingSort)((e=>e.bandWidth)))[0];o.push(U(n))}else o.push(U(t.sort((0,D.ascendingSort)((e=>e.bandWidth)))[0]))}if(0!==n.length){const e=n.sort((0,D.descendingSort)((e=>e.bandWidth)))[0];o.push(U(e))}return o})({audioDashes:b,videoDashes:y,videoCodec:n}),_=f.accept_quality.map((e=>c.allQualities.find((t=>t.value===e)))).filter((e=>void 0!==e)),I=new q({input:e,jsonData:f,fragments:x,qualities:_,currentQuality:h});return S(e,I),I},P={name:\"video.dash.avc\",displayName:\"dash (AVC/H.264)\",description:\"音画分离的 mp4 格式, 编码为 H.264, 兼容性较好. 下载后可以合并为单个 mp4 文件.\",downloadVideoInfo:async e=>j(e,{codec:\"AVC/H.264\"})},N={name:\"video.dash.hevc\",displayName:\"dash (HEVC/H.265)\",description:\"音画分离的 mp4 格式, 编码为 H.265, 体积较小, 兼容性较差. 下载后可以合并为单个 mp4 文件.\",downloadVideoInfo:async e=>j(e,{codec:\"HEVC/H.265\"})},z={name:\"video.dash.audio\",displayName:\"dash (仅音频)\",description:\"仅下载视频中的音频轨道.\",downloadVideoInfo:async e=>j(e,{filters:{video:()=>!1}})},W=(e,t)=>{const n=e=>t.length>e?t[e]:t[t.length-1];return{fragments:e.durl.map(((e,t)=>({length:e.length,size:e.size,url:e.url,backupUrls:e.backup_url,extension:n(t)}))),qualities:e.accept_quality.map((e=>c.allQualities.find((t=>t.value===e)))).filter((e=>void 0!==e)),currentQuality:c.allQualities.find((t=>t.value===e.quality))}},B={name:\"video.flv\",displayName:\"flv\",description:\"使用 flv 格式下载, 兼容 H.264 编码.\",downloadVideoInfo:async e=>{const{aid:t,cid:n,quality:i}=e,o={avid:t,cid:n,qn:i?.value??\"\",otype:\"json\",fourk:1,fnver:0,fnval:0},a=`https://api.bilibili.com/x/player/playurl?${(0,s.formData)(o)}`,d=await(0,p.bilibiliApi)((0,p.getJsonWithCredentials)(a),\"获取视频链接失败\"),r=new q({input:e,jsonData:d,...W(d,[\".flv\"])});return S(e,r),r}},F={name:\"consoleLogDemo\",displayName:\"Toast\",description:\"弹一条消息显示出下载链接, 右键新标签页打开就可以下载. 链接有 referer 限制, 复制无用, 且不能保留视频文件名.\",runAction:async e=>{const t=e.infos.flatMap((e=>e.titledFragments)),n=t.map((e=>e.url)).join(\"\\n\");u.Toast.show(t.map((e=>`<a class=\"link\" href=\"${e.url}\" download=\"${e.title}\">${e.title}</a>`)).join(\"\\n\"),\"下载视频\"),console.log(n),console.log(e)}},[H]=(0,l.registerAndGetData)(\"downloadVideo.inputs\",[E,A,V]),[M]=(0,l.registerAndGetData)(\"downloadVideo.apis\",[B,P,N,z]),[R]=(0,l.registerAndGetData)(\"downloadVideo.assets\",[]),[G]=(0,l.registerAndGetData)(\"downloadVideo.outputs\",[F]),{basicConfig:L}=(0,o.getComponentSettings)(\"downloadVideo\").options;var J=Vue.extend({components:{VPopup:r.VPopup,VButton:r.VButton,VDropdown:r.VDropdown,VIcon:r.VIcon},props:{triggerElement:{required:!0}},data(){const e=L.api,t=L.output;return{open:!1,busy:!1,testData:{videoInfo:null,multiple:!1},assets:R,qualities:[],selectedQuality:void 0,inputs:[],selectedInput:void 0,apis:M,selectedApi:M.find((t=>t.name===e))||M[0],outputs:G,selectedOutput:G.find((e=>e.name===t))||G[0]}},computed:{assetsWithOptions(){return this.assets.filter((e=>e.component))},filteredQualities(){return 0===this.qualities.length?c.allQualities:this.qualities},canStartDownload(){if(this.busy||!this.open)return!1;return!Object.entries(this).filter((([e])=>e.startsWith(\"selected\"))).some((([,e])=>!e))}},watch:{selectedInput(e){void 0!==e&&this.updateTestVideoInfo()},selectedApi(e){void 0!==e&&(this.updateTestVideoInfo(),L.api=e.name)},selectedOutput(e){void 0!==e&&(L.output=e.name)}},mounted(){coreApis.observer.videoChange((()=>{const e=H.filter((e=>e.match?.some((e=>(0,s.matchUrlPattern)(e)))??!0));this.inputs=e,this.selectedInput=e[0]}))},methods:{formatFileSize:d.formatFileSize,saveSelectedQuality(){const e=this.selectedQuality;void 0!==e&&(L.quality=e.value,this.updateTestVideoInfo())},async getVideoItems(){const e=this.selectedInput;return await e.getInputs(this.$refs.inputOptions)},async updateTestVideoInfo(){if(!this.selectedInput)return;this.testData.videoInfo=null;const e=await this.getVideoItems();console.log(\"[updateTestVideoInfo]\",e),this.testData.multiple=e.length>1;const t=this.selectedApi,[n]=e;if(!this.selectedQuality){const e=await t.downloadVideoInfo(n);if(this.qualities=e.qualities,this.selectedQuality=e.qualities[0],L.quality){const[t]=e.qualities.filter((e=>e.value<=L.quality));t&&(this.selectedQuality=t)}}try{n.quality=this.selectedQuality;const e=await t.downloadVideoInfo(n);this.testData.videoInfo=e}catch(e){this.testData.videoInfo=void 0}},async startDownload(e,t){try{this.busy=!0;const n=this.selectedInput,i=this.selectedApi,o=await n.getInputs(this.$refs.inputOptions);if(0===o.length)return void u.Toast.info(\"未接收到视频, 如果输入源支持批量, 请至少选择一个视频.\",\"下载视频\",3e3);o.forEach((e=>{e.quality=this.selectedQuality}));const s=await Promise.all(o.map((e=>i.downloadVideoInfo(e))));if(0===s.length||0===lodash.sumBy(s,(e=>e.fragments.length)))return void u.Toast.info(\"未接收到可下载数据, 请检查输入源和格式是否适用于当前视频.\",\"下载视频\",3e3);const a=new Q(s),d=(await Promise.all(R.map((e=>e.getAssets(s,this.$refs.assetsOptions.find((t=>t.$attrs.name===e.name))))))).flat();a.extraAssets.push(...d),await a.downloadExtraAssets(),await t.runAction(a,e)}catch(e){(0,a.logError)(e)}finally{this.busy=!1}}}}),Z=n(652),X=n.n(Z),Y={insert:\"head\",singleton:!1},K=(w()(X(),Y),X().locals,(0,_.Z)(J,i,[],!1,null,null,null));K.options.__file=\"registry/lib/components/video/download/DownloadVideo.vue\";var ee=K.exports},962:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return d}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"multiple-widgets\"},[n(\"DefaultWidget\",{ref:\"button\",attrs:{name:\"下载视频\",icon:\"mdi-download\"},on:{mouseover:function(t){return e.createDownloadPanel()},click:function(t){return e.toggleDownloadPanel()}}})],1)};let o;i._withStripped=!0;var s=Vue.extend({components:{DefaultWidget:coreApis.ui.DefaultWidget},methods:{async createDownloadPanel(){if(!o){const e=document.createElement(\"div\");document.body.appendChild(e);const t=await Promise.resolve().then(n.bind(n,442)).then((e=>e.default));o=new t({propsData:{triggerElement:this.$refs.button}}).$mount(e)}},async toggleDownloadPanel(){o&&(o.open=!o.open)}}}),a=(0,n(900).Z)(s,i,[],!1,null,null,null);a.options.__file=\"registry/lib/components/video/download/Widget.vue\";var d=a.exports},919:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return h}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"single-video-info download-video-config-section\"},[e.imageUrl?n(\"img\",{staticClass:\"shadow\",attrs:{src:e.imageUrl}}):e._e(),e._v(\" \"),e.imageUrl?n(\"img\",{attrs:{src:e.imageUrl}}):e._e()])};i._withStripped=!0;var o=coreApis.observer,s=n(729),a=coreApis.componentApis.video.videoInfo,d=Vue.extend({data:()=>({imageUrl:\"\"}),created(){(0,o.videoChange)((async()=>{const{aid:e}=unsafeWindow,t=new a.VideoInfo(e);try{await t.fetchInfo()}catch(e){throw(0,s.logError)(e),e}this.imageUrl=t.coverUrl.replace(\"http:\",\"https:\")}))}}),r=n(379),l=n.n(r),c=n(614),u=n.n(c),p={insert:\"head\",singleton:!1},f=(l()(u(),p),u().locals,(0,n(900).Z)(d,i,[],!1,null,null,null));f.options.__file=\"registry/lib/components/video/download/inputs/video/SingleVideoInfo.vue\";var h=f.exports},900:function(e,t,n){\"use strict\";function i(e,t,n,i,o,s,a,d){var r,l=\"function\"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),s&&(l._scopeId=\"data-v-\"+s),a?(r=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=r):o&&(r=d?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),r)if(l.functional){l._injectStyles=r;var c=l.render;l.render=function(e,t){return r.call(t),c(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,r):[r]}return{exports:e,options:l}}n.d(t,{Z:function(){return i}})},729:function(e){\"use strict\";e.exports=coreApis.utils.log}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={id:i,exports:{}};return e[i](s,s.exports,n),s.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";n.d(i,{component:function(){return t}});var e=coreApis.spinQuery;const t={name:\"downloadVideo\",displayName:\"下载视频\",description:\"在功能面板中添加下载视频支持. 请注意不能下载超出账号权限的视频, 例如非大会员下载大会员清晰度视频, 或者大陆地区网络下载港澳台地区番剧, 都是不可以的.\",entry:none,reload:none,unload:none,widget:{component:()=>Promise.resolve().then(n.bind(n,962)).then((e=>e.default)),condition:()=>(0,e.hasVideo)()},tags:[componentsTags.video],options:{basicConfig:{defaultValue:{},displayName:\"基础配置\",hidden:!0}},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "downloadVideo",
        "displayName": "下载视频",
        "description": "在功能面板中添加下载视频支持. 请注意不能下载超出账号权限的视频, 例如非大会员下载大会员清晰度视频, 或者大陆地区网络下载港澳台地区番剧, 都是不可以的.",
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          }
        ],
        "options": {
          "basicConfig": {
            "defaultValue": {},
            "displayName": "基础配置",
            "hidden": true
          }
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {
          "basicConfig": {}
        }
      }
    },
    "downloadAudio": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"utils/download-audio\"]=t():e[\"utils/download-audio\"]=t()}(self,(function(){return function(){\"use strict\";var e,t,o={917:function(e,t,o){o.r(t),o.d(t,{default:function(){return u}});var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)(\"DefaultWidget\",{attrs:{disabled:e.disabled||e.downloading,name:e.progress||\"下载音频\",icon:\"mdi-download\"},on:{click:function(t){return e.download()}}})};n._withStripped=!0;var r=coreApis.spinQuery,i=coreApis.observer,s=coreApis.download,a=coreApis.ui;function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class l{constructor(){d(this,\"progress\",null),d(this,\"sid\",void 0)}async getDownloadUrl(){const{getJsonWithCredentials:e}=await Promise.resolve().then(o.t.bind(o,663,23)),{Toast:t}=await Promise.resolve().then(o.t.bind(o,141,23)),n=`https://www.bilibili.com/audio/music-service-c/web/url?sid=${this.sid}&privilege=2&quality=2`,r=await e(n);return 0!==r.code?(t.error(\"获取下载链接失败, 请确保当前账号有下载权限.\",\"下载音频\",1e4),null):r.data.cdns.shift()}async download(){const e=await this.getDownloadUrl();return new Promise(((t,o)=>{const n=new XMLHttpRequest;n.open(\"GET\",e),n.responseType=\"blob\",n.addEventListener(\"load\",(()=>t(n.response))),n.addEventListener(\"error\",(()=>o(n.status))),n.addEventListener(\"progress\",(e=>this.progress?.(100*e.loaded/e.total))),n.send()}))}}var c=function(e,t,o,n,r,i,s,a){var d,l=\"function\"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=o,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId=\"data-v-\"+i),s?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=d):r&&(d=a?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),d)if(l.functional){l._injectStyles=d;var c=l.render;l.render=function(e,t){return d.call(t),c(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,d):[d]}return{exports:e,options:l}}(Vue.extend({components:{DefaultWidget:a.DefaultWidget},data:()=>({progress:\"\",disabled:!0,downloader:new l,downloading:!1}),async mounted(){const e=await(0,r.select)(\"#app\"),t=this.downloader;t.progress=e=>{this.progress=`${Math.round(e)}%`},(0,i.childList)(e,(()=>{const e=document.URL.match(/bilibili\\.com\\/audio\\/au([\\d]+)/);e&&e[1]?(this.disabled=!1,[,t.sid]=e):this.disabled=!0}))},methods:{async download(){if(!this.downloading){this.downloading=!0;try{const e=this.downloader;if(null===e.sid)return;const t=await e.download(),o=`${(()=>{const e=document.querySelector(\".song-title\");return e?e.getAttribute(\"title\"):\"神秘音频\"})()}.mp3`;this.progress=\"\",await s.DownloadPackage.single(o,t)}finally{this.downloading=!1}}}}}),n,[],!1,null,null,null);c.options.__file=\"registry/lib/components/utils/download-audio/DownloadAudio.vue\";var u=c.exports},663:function(e){e.exports=coreApis.ajax},141:function(e){e.exports=coreApis.toast}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return o[e](i,i.exports,r),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(o,n){if(1&n&&(o=this(o)),8&n)return o;if(\"object\"==typeof o&&o){if(4&n&&o.__esModule)return o;if(16&n&&\"function\"==typeof o.then)return o}var i=Object.create(null);r.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&o;\"object\"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){s[e]=function(){return o[e]}}));return s.default=function(){return o},r.d(i,s),i},r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){r.d(i,{component:function(){return e}});const e={name:\"downloadAudio\",displayName:\"下载音频\",entry:none,tags:[componentsTags.utils],description:{\"zh-CN\":\"\\n开启音频下载支持, 音频页面中可以在功能面板中下载当前音频.\\n\\n> 需要进入音频的详细信息页面才能下载, 在其他页面中此按钮将不可点击.\\n    \".trim()},widget:{component:()=>Promise.resolve().then(r.bind(r,917)).then((e=>e.default))},urlInclude:[\"//www.bilibili.com/audio/\"],commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "downloadAudio",
        "displayName": "下载音频",
        "tags": [
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          }
        ],
        "description": {
          "zh-CN": "开启音频下载支持, 音频页面中可以在功能面板中下载当前音频.\n\n> 需要进入音频的详细信息页面才能下载, 在其他页面中此按钮将不可点击."
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "downloadLiveRecords": {
      "code": "!function(e,o){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=o():\"function\"==typeof define&&define.amd?define([],o):\"object\"==typeof exports?exports[\"live/download-records\"]=o():e[\"live/download-records\"]=o()}(self,(function(){return function(){\"use strict\";var e={420:function(e,o,t){t.r(o),t.d(o,{default:function(){return l}});var n=function(){var e=this,o=e.$createElement;return(e._self._c||o)(\"DefaultWidget\",{staticClass:\"download-live-records\",attrs:{disabled:e.disabled,name:\"下载录像\",icon:\"mdi-download\"},on:{click:function(o){return e.download()}}})};n._withStripped=!0;var r=coreApis.ui,i=coreApis.ajax,a=coreApis.toast,s=coreApis.utils.log;var d=function(e,o,t,n,r,i,a,s){var d,l=\"function\"==typeof e?e.options:e;if(o&&(l.render=o,l.staticRenderFns=t,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId=\"data-v-\"+i),a?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=d):r&&(d=s?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),d)if(l.functional){l._injectStyles=d;var c=l.render;l.render=function(e,o){return d.call(o),c(e,o)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,d):[d]}return{exports:e,options:l}}(Vue.extend({components:{DefaultWidget:r.DefaultWidget},data:()=>({disabled:!1}),methods:{async download(){try{this.disabled=!0;const e=document.URL.replace(window.location.search,\"\").match(/^https:\\/\\/live\\.bilibili\\.com\\/record\\/(.+)/);if(!e)return void(0,s.logError)(new Error(`获取录像ID失败: ${document.URL}`));const o=e[1],t=await(0,i.getJson)(`https://api.live.bilibili.com/xlive/web-room/v1/record/getLiveRecordUrl?rid=${o}&platform=html5`);if(0!==t.code)return void(0,s.logError)(new Error(`获取录像链接失败: ${t.message}`));const n=t.data.list.map((e=>e.url));a.Toast.success(n.map((e=>`<a class=\"download-link\" target=\"_blank\" href=\"${e}\">${e}</a>`)).join(\"\\n\"),\"下载录像\")}finally{this.disabled=!1}}}}),n,[],!1,null,null,null);d.options.__file=\"registry/lib/components/live/download-records/DownloadRecords.vue\";var l=d.exports}},o={};function t(n){var r=o[n];if(void 0!==r)return r.exports;var i=o[n]={exports:{}};return e[n](i,i.exports,t),i.exports}t.d=function(e,o){for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var n={};return function(){t.d(n,{component:function(){return e}});const e={name:\"downloadLiveRecords\",displayName:\"直播录像下载\",description:{\"zh-CN\":\"在直播录像页面 `live.bilibili.com/record/` 中添加下载支持.\"},tags:[componentsTags.live],entry:none,widget:{component:()=>Promise.resolve().then(t.bind(t,420)).then((e=>e.default))},urlInclude:[/^https:\\/\\/live\\.bilibili\\.com\\/record\\/(.+)/],commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),n=n.component}()}));",
      "metadata": {
        "name": "downloadLiveRecords",
        "displayName": "直播录像下载",
        "description": {
          "zh-CN": "在直播录像页面 `live.bilibili.com/record/` 中添加下载支持."
        },
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          }
        ],
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "downloadSubtitle": {
      "code": "!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"video/subtitle/download\"]=e():t[\"video/subtitle/download\"]=e()}(self,(function(){return function(){var t,e,n={753:function(t,e,n){\"use strict\";n.d(e,{mE:function(){return l}});var i=coreApis.ajax,o=n(141),r=coreApis.utils.lazyPanel,a=n(729),s=n(129);const l=async(t,e={...lodash.pick(unsafeWindow,\"aid\",\"cid\"),title:(0,s.getFriendlyTitle)(!0)})=>{const{aid:l,cid:c}=e;if(!l||!c)throw new Error(\"未找到视频AID和CID\");const u=await(async(t,e)=>{const{VideoInfo:i}=await Promise.resolve().then(n.t.bind(n,705,23)),o=new i(t);return o.cid=\"string\"==typeof e?parseInt(e):e,await o.fetchInfo(),o.subtitles})(l,c);if(0===u.length)return o.Toast.info(\"当前视频没有字幕.\",\"下载字幕\",3e3),null;const[d,f]=await(async()=>{const{SubtitleConverter:t,SubtitleSize:e,SubtitleLocation:i}=await Promise.resolve().then(n.bind(n,283)),o=await(0,r.loadSubtitleSettingsPanel)();if(!o)return(0,a.logError)(\"未找到字幕设置\"),[t.defaultConfig,\"\"];const l=o.querySelector(\".bilibili-player-video-subtitle-setting-lan .bui-select-result\").innerHTML,c=(0,s.getFriendlyTitle)(!0),u=o.querySelector(\".bilibili-player-video-subtitle-setting-fontsize .bui-thumb\"),d=parseFloat(u.style.transform.replace(/translateX\\(([\\d\\.]+)/,\"$1\")),f={214:e.VeryLarge,163.5:e.Large,107:e.Medium,50.5:e.Small,0:e.VerySmall}[d],p=o.querySelector(\".bilibili-player-video-subtitle-setting-color .bui-select-result span:first-child\").getAttribute(\"style\").match(/background:[ ]*(.+);/)[1],g=o.querySelector(\".bilibili-player-video-subtitle-setting-opacity .bui-bar\"),v=parseFloat(g.style.transform.replace(/scaleX\\(([\\d\\.]+)/,\"$1\")),h=dq(\".subtitle-position\"),m={bc:i.BottomCenter,bl:i.BottomLeft,br:i.BottomRight,tc:i.TopCenter,tl:i.TopLeft,tr:i.TopRight},b=Object.entries(m).filter((([t])=>h.classList.contains(`subtitle-position-${t}`))).map((([,t])=>t)).shift(),y=dq(\"video\");return[{title:c,height:y.videoHeight,width:y.videoWidth,color:p,location:b,opacity:v,size:f,boxPadding:1,boxMargin:32},l]})(),p=u.find((t=>t.language===f))||u[0],g=(await(0,i.getJson)(p.url)).body;switch(t){case\"ass\":{const{SubtitleConverter:t}=await Promise.resolve().then(n.bind(n,283)),i=new t({...d,title:e.title}),o=await i.convertToAss(g);return new Blob([o],{type:\"text/ass\"})}default:case\"json\":return new Blob([JSON.stringify(g)],{type:\"text/json\"})}}},283:function(t,e,n){\"use strict\";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,{SubtitleLocation:function(){return o},SubtitleSize:function(){return r},SubtitleConverter:function(){return a}});const o={TopLeft:7,TopCenter:8,TopRight:9,BottomLeft:1,BottomCenter:2,BottomRight:3};let r;!function(t){t[t.VerySmall=1]=\"VerySmall\",t[t.Small=2]=\"Small\",t[t.Medium=3]=\"Medium\",t[t.Large=4]=\"Large\",t[t.VeryLarge=5]=\"VeryLarge\"}(r||(r={}));class a{constructor(t){i(this,\"config\",void 0),this.config=Object.assign(a.defaultConfig,t)}async getAssMeta(){const{convertHexColorForStyle:t}=await Promise.resolve().then(n.t.bind(n,740,23)),e=t(this.config.color),i=t(\"#000000\",this.config.opacity),r=[],a=(10*(this.config.size-3)+48)*this.config.height/720;console.log(a);for(const[t,n]of Object.entries(o))r.push(`Style: ${t},微软雅黑,${a},${e},${e},${i},${i},0,0,0,0,100,100,0,0,3,${this.config.boxPadding},0,${n},${this.config.boxMargin},${this.config.boxMargin},${this.config.boxMargin},0`);return`\\n[Script Info]\\n; Script generated by Bilibili Evolved Danmaku Converter\\n; https://github.com/the1812/Bilibili-Evolved/\\nTitle: ${this.config.title}\\nScriptType: v4.00+\\nPlayResX: ${this.config.width}\\nPlayResY: ${this.config.height}\\nTimer: 10.0000\\nWrapStyle: 0\\nScaledBorderAndShadow: no\\n\\n[V4+ Styles]\\nFormat: Name, Fontname, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding\\n${r.join(\"\\n\")}\\n\\n[Events]\\nFormat: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text`.trim()}async convertToAss(t){const{convertTimeByEndTime:e,normalizeContent:i}=await Promise.resolve().then(n.t.bind(n,740,23));return`${await this.getAssMeta()}\\n${t.map((t=>{const[n,r]=e(t.from,t.to);var a;return`Dialogue: 0,${n},${r},${a=this.config.location,Object.entries(o).filter((([,t])=>t===a)).map((([t])=>t)).shift()},,0,0,0,,${i(t.content)}`})).join(\"\\n\")}`}}i(a,\"defaultConfig\",void 0),a.defaultConfig={title:\"\",color:\"#ffffff\",width:1920,height:1080,size:r.Medium,opacity:.5,location:o.BottomCenter,boxPadding:1,boxMargin:32}},937:function(t,e,n){var i=n(645)((function(t){return t[1]}));i.push([t.id,\".download-subtitle-config.download-video-config-section .be-dropdown {\\n  text-transform: uppercase;\\n}\",\"\"]),t.exports=i},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?\"@media \".concat(e[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\ne.i=function(t,n,i){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var o={};if(i)for(var r=0;r<this.length;r++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[r][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);i&&o[l[0]]||(n&&(l[2]?l[2]=\"\".concat(n,\" and \").concat(l[2]):l[2]=n),e.push(l))}},e}},379:function(t,e,n){\"use strict\";var i,o=function(){return void 0===i&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\ni=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function l(t,e){for(var n={},i=[],o=0;o<t.length;o++){var r=t[o],l=e.base?r[0]+e.base:r[0],c=n[l]||0,u=\"\".concat(l,\" \").concat(c);n[l]=c+1;var d=s(u),f={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:u,updater:h(f,e),references:1}),i.push(u)}return i}function c(t){var e=document.createElement(\"style\"),i=t.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),\"function\"==typeof t.insert)t.insert(e);else{var a=r(t.insert||\"head\");if(!a)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");a.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join(\"\\n\")});function f(t,e,n,i){var o=n?\"\":i.media?\"@media \".concat(i.media,\" {\").concat(i.css,\"}\"):i.css;if(t.styleSheet)t.styleSheet.cssText=d(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function p(t,e,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?t.setAttribute(\"media\",o):t.removeAttribute(\"media\"),r&&\"undefined\"!=typeof btoa&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))),\" */\")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var g=null,v=0;function h(t,e){var n,i,o;if(e.singleton){var r=v++;n=g||(g=c(e)),i=f.bind(null,n,r,!1),o=f.bind(null,n,r,!0)}else n=c(e),i=p.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||\"boolean\"==typeof e.singleton||(e.singleton=o());var n=l(t=t||[],e);return function(t){if(t=t||[],\"[object Array]\"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var o=s(n[i]);a[o].references--}for(var r=l(t,e),c=0;c<n.length;c++){var u=s(n[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=r}}}},321:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"multiple-widgets\"},[n(\"DefaultWidget\",{attrs:{disabled:t.disabled,name:\"下载字幕 (JSON)\",icon:\"subtitle\"},on:{click:function(e){return t.download(\"json\")}}}),t._v(\" \"),n(\"DefaultWidget\",{attrs:{disabled:t.disabled,name:\"下载字幕 (ASS)\",icon:\"subtitle\"},on:{click:function(e){return t.download(\"ass\")}}})],1)};i._withStripped=!0;var o=coreApis.pluginApis.data,r=n(643),a=n(729),s=n(129),l=coreApis.download,c=n(753);(0,o.addData)(\"ui.icons\",(t=>{t.subtitle='<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 22 22\"><path d=\"M4 4h14a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2zm5 5.5a1 1 0 100-2H6a2 2 0 00-2 2v3a2 2 0 002 2h3a1 1 0 000-2H7a1 1 0 01-1-1v-1a1 1 0 011-1h2zm8 0a1 1 0 000-2h-3a2 2 0 00-2 2v3a2 2 0 002 2h3a1 1 0 000-2h-2a1 1 0 01-1-1v-1a1 1 0 011-1h2z\" fill-rule=\"evenodd\"/></svg>'}));var u=Vue.extend({components:{DefaultWidget:r.DefaultWidget},data:()=>({disabled:!1}),methods:{async download(t){try{this.disabled=!0;const e=await(0,c.mE)(t);l.DownloadPackage.single(`${(0,s.getFriendlyTitle)(!0)}.${t}`,e)}catch(t){(0,a.logError)(t)}finally{this.disabled=!1}}}}),d=(0,n(900).Z)(u,i,[],!1,null,null,null);d.options.__file=\"registry/lib/components/video/subtitle/download/DownloadSubtitle.vue\";var f=d.exports},623:function(t,e,n){\"use strict\";n.r(e),n.d(e,{default:function(){return g}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"download-subtitle-config download-video-config-section\"},[n(\"div\",{staticClass:\"download-video-config-item\"},[n(\"div\",{staticClass:\"download-video-config-title\"},[t._v(\"\\n      字幕:\\n    \")]),t._v(\" \"),n(\"VDropdown\",{attrs:{items:t.items},scopedSlots:t._u([{key:\"item\",fn:function(e){var n=e.item;return[t._v(\"\\n        \"+t._s(n)+\"\\n      \")]}}]),model:{value:t.type,callback:function(e){t.type=e},expression:\"type\"}})],1)])};i._withStripped=!0;var o=coreApis.settings,r=n(643);const a=(0,o.getComponentSettings)(\"downloadVideo\").options;var s=Vue.extend({components:{VDropdown:r.VDropdown},data:()=>({type:a.subtitleType??\"无\",items:[\"无\",\"ass\",\"json\"]}),computed:{enabled(){return\"无\"!==this.type}},watch:{type(t){a.subtitleType=t}}}),l=n(379),c=n.n(l),u=n(937),d=n.n(u),f={insert:\"head\",singleton:!1},p=(c()(d(),f),d().locals,(0,n(900).Z)(s,i,[],!1,null,null,null));p.options.__file=\"registry/lib/components/video/subtitle/download/Plugin.vue\";var g=p.exports},900:function(t,e,n){\"use strict\";function i(t,e,n,i,o,r,a,s){var l,c=\"function\"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId=\"data-v-\"+r),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,{Z:function(){return i}})},740:function(t){\"use strict\";t.exports=coreApis.componentApis.video.assUtils},705:function(t){\"use strict\";t.exports=coreApis.componentApis.video.videoInfo},141:function(t){\"use strict\";t.exports=coreApis.toast},643:function(t){\"use strict\";t.exports=coreApis.ui},729:function(t){\"use strict\";t.exports=coreApis.utils.log},129:function(t){\"use strict\";t.exports=coreApis.utils.title}},i={};function o(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={id:t,exports:{}};return n[t](r,r.exports,o),r.exports}o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,{a:e}),e},e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},o.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if(\"object\"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&\"function\"==typeof n.then)return n}var r=Object.create(null);o.r(r);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&i&&n;\"object\"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((function(t){a[t]=function(){return n[t]}}));return a.default=function(){return n},o.d(r,a),r},o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var r={};return function(){\"use strict\";o.d(r,{component:function(){return a}});var t=coreApis.spinQuery,e=o(141),n=coreApis.utils.urls,i=o(753);const a={name:\"downloadSubtitle\",displayName:\"下载字幕\",description:{\"zh-CN\":\"启用下载字幕支持, 在视频页面中可从功能面板里下载字幕.\"},tags:[componentsTags.video],entry:none,urlInclude:n.videoUrls,widget:{condition:t.hasVideo,component:()=>Promise.resolve().then(o.bind(o,321)).then((t=>t.default))},plugin:{displayName:\"下载视频 - 下载字幕支持\",setup:({addData:t})=>{t(\"downloadVideo.assets\",(async t=>{t.push({name:\"downloadSubtitles\",displayName:\"下载字幕\",getAssets:async(t,n)=>{const{type:o,enabled:r}=n;if(!r)return[];const a=e.Toast.info(\"获取字幕中...\",\"下载字幕\");let s=0;const l=await Promise.allSettled(t.map((async e=>{const n=await(0,i.mE)(o,e.input);return s++,a.message=`获取字幕中... (${s}/${t.length})`,{name:`${e.input.title}.${o}`,data:n}}))),c=l.filter((t=>\"fulfilled\"===t.status)),u=l.filter((t=>\"rejected\"===t.status));return a.message=`获取完成. 成功 ${c.length} 个, 失败 ${u.length} 个.`,c.map((t=>t.value))},component:()=>Promise.resolve().then(o.bind(o,623)).then((t=>t.default))})}))}},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),r=r.component}()}));",
      "metadata": {
        "name": "downloadSubtitle",
        "displayName": "下载字幕",
        "description": {
          "zh-CN": "启用下载字幕支持, 在视频页面中可从功能面板里下载字幕."
        },
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          }
        ],
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "downloadDanmaku": {
      "code": "!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"video/danmaku/download\"]=e():t[\"video/danmaku/download\"]=e()}(self,(function(){return function(){var t={31:function(t,e,i){\"use strict\";i.r(e),i.d(e,{decodeDanmakuSegment:function(){return a},decodeDanmakuView:function(){return s},proto:function(){return o}});var n=coreApis.runtimeLibrary;const o={nested:{DmWebViewReply:{fields:{state:{type:\"int32\",id:1},text:{type:\"string\",id:2},textSide:{type:\"string\",id:3},dmSge:{type:\"DmSegConfig\",id:4},flag:{type:\"DanmakuFlagConfig\",id:5},specialDms:{rule:\"repeated\",type:\"string\",id:6},checkBox:{type:\"bool\",id:7},count:{type:\"int64\",id:8},commandDms:{rule:\"repeated\",type:\"CommandDm\",id:9},dmSetting:{type:\"DanmuWebPlayerConfig\",id:10}}},CommandDm:{fields:{id:{type:\"int64\",id:1},oid:{type:\"int64\",id:2},mid:{type:\"int64\",id:3},command:{type:\"string\",id:4},content:{type:\"string\",id:5},progress:{type:\"int32\",id:6},ctime:{type:\"string\",id:7},mtime:{type:\"string\",id:8},extra:{type:\"string\",id:9},idStr:{type:\"string\",id:10}}},DmSegConfig:{fields:{pageSize:{type:\"int64\",id:1},total:{type:\"int64\",id:2}}},DanmakuFlagConfig:{fields:{recFlag:{type:\"int32\",id:1},recText:{type:\"string\",id:2},recSwitch:{type:\"int32\",id:3}}},DmSegMobileReply:{fields:{elems:{rule:\"repeated\",type:\"DanmakuElem\",id:1}}},DanmakuElem:{fields:{id:{type:\"int64\",id:1},progress:{type:\"int32\",id:2},mode:{type:\"int32\",id:3},fontsize:{type:\"int32\",id:4},color:{type:\"uint32\",id:5},midHash:{type:\"string\",id:6},content:{type:\"string\",id:7},ctime:{type:\"int64\",id:8},weight:{type:\"int32\",id:9},action:{type:\"string\",id:10},pool:{type:\"int32\",id:11},idStr:{type:\"string\",id:12},attr:{type:\"int32\",id:13}}},DanmuWebPlayerConfig:{fields:{dmSwitch:{type:\"bool\",id:1},aiSwitch:{type:\"bool\",id:2},aiLevel:{type:\"int32\",id:3},blocktop:{type:\"bool\",id:4},blockscroll:{type:\"bool\",id:5},blockbottom:{type:\"bool\",id:6},blockcolor:{type:\"bool\",id:7},blockspecial:{type:\"bool\",id:8},preventshade:{type:\"bool\",id:9},dmask:{type:\"bool\",id:10},opacity:{type:\"float\",id:11},dmarea:{type:\"int32\",id:12},speedplus:{type:\"float\",id:13},fontsize:{type:\"float\",id:14},screensync:{type:\"bool\",id:15},speedsync:{type:\"bool\",id:16},fontfamily:{type:\"string\",id:17},bold:{type:\"bool\",id:18},fontborder:{type:\"int32\",id:19},drawType:{type:\"string\",id:20}}}}},r=lodash.curry((async(t,e)=>{const i=new Uint8Array(\"arrayBuffer\"in Blob.prototype?await e.arrayBuffer():await new Response(e).arrayBuffer()),r=(await n.protobufLibrary).Root.fromJSON(o).lookupType(t),a=r.decode(i);return r.toObject(a)})),a=r(\"DmSegMobileReply\"),s=r(\"DmWebViewReply\")},948:function(t,e,i){\"use strict\";i.r(e),i.d(e,{JsonDanmaku:function(){return S},convertToAss:function(){return x},convertToAssFromJson:function(){return F},getBlobByType:function(){return $},getUserDanmakuConfig:function(){return T}});var n=coreApis.utils.lazyPanel,o=i(729),r=coreApis.utils.sort,a=i(129),s=coreApis.componentApis.video.assUtils;function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class c{constructor({content:t,time:e,type:i,fontSize:n,color:o}){l(this,\"content\",void 0),l(this,\"time\",void 0),l(this,\"startTime\",void 0),l(this,\"type\",void 0),l(this,\"fontSize\",void 0),l(this,\"color\",void 0),this.content=t,this.time=e,this.startTime=parseFloat(e),this.type=parseInt(i),this.fontSize=parseFloat(n),this.color=parseInt(o)}}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class u extends c{constructor({content:t,time:e,type:i,fontSize:n,color:o,typeTag:r,colorTag:a,endTime:s}){super({content:t,time:e,type:i,fontSize:n,color:o}),d(this,\"typeTag\",void 0),d(this,\"colorTag\",void 0),d(this,\"endTime\",void 0),this.typeTag=r,this.colorTag=a,this.endTime=s}text(t){let e=t[this.fontSize];e||(e=t[25]);const i=e.match(/Style:(.*?),/)[1].trim();return`Dialogue: 0,${this.time},${this.endTime},${i},,0,0,0,,{${this.typeTag}${this.colorTag}}${this.content}`}}class p{constructor(t,e,i,n,o){d(this,\"danmakus\",void 0),d(this,\"title\",void 0),d(this,\"fontStyles\",void 0),d(this,\"blockTypes\",void 0),d(this,\"resolution\",void 0),this.danmakus=t,this.title=e,this.fontStyles=i,this.blockTypes=n,this.resolution=o}generateAss(){return`${`\\n[Script Info]\\n; Script generated by Bilibili Evolved Danmaku Converter\\n; https://github.com/the1812/Bilibili-Evolved/\\nTitle: ${this.title}\\nScriptType: v4.00+\\nPlayResX: ${this.resolution.x}\\nPlayResY: ${this.resolution.y}\\nTimer: 10.0000\\nWrapStyle: 2\\nScaledBorderAndShadow: no\\n\\n[V4+ Styles]\\nFormat: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding\\n${Object.values(this.fontStyles).join(\"\\n\")}\\n\\n[Events]\\nFormat: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text\\n                `.trim()}\\n${this.danmakus.map((t=>t.text(this.fontStyles))).filter((t=>\"\"!==t)).join(\"\\n\")}`}}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class m extends c{constructor({content:t,time:e,type:i,fontSize:n,color:o,timeStamp:r,pool:a,userHash:s,rowId:l}){super({content:t,time:e,type:i,fontSize:n,color:o}),h(this,\"timeStamp\",void 0),h(this,\"pool\",void 0),h(this,\"userHash\",void 0),h(this,\"rowId\",void 0),h(this,\"pDataArray\",void 0),this.timeStamp=parseInt(r),this.pool=parseInt(a),this.userHash=s,this.rowId=parseInt(l),this.pDataArray=[e,i,n,o,r,a,s,l]}text(){return`<d p=\"${this.pDataArray.join(\",\")}\">${this.content}</d>`}static parse(t){const e=t.getAttribute(\"p\"),[i,n,o,r,a,s,l,c]=e.split(\",\"),d=t.innerHTML;return new m({content:d,time:i,type:n,fontSize:o,color:r,timeStamp:a,pool:s,userHash:l,rowId:c})}}class f{constructor(t){h(this,\"xml\",void 0),h(this,\"danmakus\",void 0),this.xml=t;const e=(new DOMParser).parseFromString(t,\"application/xml\").documentElement;this.danmakus=[...e.querySelectorAll(\"d[p]\")].map((t=>m.parse(t)))}}var g=coreApis.utils;let y;function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}!function(t){t[t.Normal=1]=\"Normal\",t[t.Normal2=2]=\"Normal2\",t[t.Normal3=3]=\"Normal3\",t[t.Bottom=4]=\"Bottom\",t[t.Top=5]=\"Top\",t[t.Reversed=6]=\"Reversed\",t[t.Special=7]=\"Special\",t[t.Special2=8]=\"Special2\"}(y||(y={}));class b{constructor(t,e,i,n){v(this,\"horizontalStack\",void 0),v(this,\"horizontalTrack\",void 0),v(this,\"verticalStack\",void 0),v(this,\"verticalTrack\",void 0),v(this,\"resolution\",void 0),v(this,\"duration\",void 0),v(this,\"canvas\",void 0),v(this,\"context\",void 0),v(this,\"fontSizes\",void 0),v(this,\"bottomMarginPercent\",void 0),v(this,\"danmakuHeight\",void 0),v(this,\"trackHeight\",void 0),v(this,\"trackCount\",void 0),this.horizontalStack=[],this.horizontalTrack=[],this.verticalStack=[],this.verticalTrack=[],this.resolution=e,this.duration=i,this.canvas=document.createElement(\"canvas\"),this.context=this.canvas.getContext(\"2d\"),this.fontSizes={30:`64px ${t}`,25:`52px ${t}`,18:`36px ${t}`,45:`90px ${t}`},this.bottomMarginPercent=n,this.generateTracks()}generateTracks(){this.danmakuHeight=52,this.trackHeight=2*b.margin+52,this.trackCount=parseInt((0,g.fixed)(this.resolution.y*(1-this.bottomMarginPercent)/this.trackHeight,0))}getTextSize(t){this.context.font=this.fontSizes[t.fontSize];return[this.context.measureText(t.content).width/2,this.danmakuHeight/2]}getTags(t,{targetTrack:e,initTrackNumber:i,nextTrackNumber:n,willOverlay:o,getTrackItem:r,getTag:a}){const[s,l]=this.getTextSize(t),c=2*s,d=this.duration(t)*c/(this.resolution.x+c)+b.nextDanmakuDelay;let u=i,p=null;const h=t=>o(t,u,c);do{p=e.find(h),u+=n}while(p&&u<=this.trackCount&&u>=0);return u>this.trackCount||u<0?\"\\\\pos(0,-999)\":(u-=n,e.push(r(u,c,d)),a({trackNumber:u,x:s,y:l}))}getHorizontalTags(t){return this.getTags(t,{targetTrack:this.horizontalTrack,initTrackNumber:0,nextTrackNumber:1,willOverlay:(e,i,n)=>e.trackNumber===i&&(e.width<n?this.duration(t)*this.resolution.x/(this.resolution.x+n)<=e.end-t.startTime:e.visible>t.startTime),getTrackItem:(e,i,n)=>({width:i,start:t.startTime,visible:t.startTime+n,end:t.startTime+this.duration(t),trackNumber:e}),getTag:({trackNumber:e,x:i,y:n})=>`\\\\move(${this.resolution.x+i},${e*this.trackHeight+b.margin+n},${-i},${e*this.trackHeight+b.margin+n},0,${1e3*this.duration(t)})`})}getVerticalTags(t){const e=\"top\"===b.danmakuType[t.type];return this.getTags(t,{targetTrack:this.verticalTrack,initTrackNumber:e?0:this.trackCount-1,nextTrackNumber:e?1:-1,willOverlay:(e,i)=>e.trackNumber===i&&e.end>t.startTime,getTrackItem:e=>({start:t.startTime,end:t.startTime+this.duration(t),trackNumber:e}),getTag:({trackNumber:t,y:i})=>e?`\\\\pos(${this.resolution.x/2},${t*this.trackHeight+b.margin+i})`:`\\\\pos(${this.resolution.x/2},${this.resolution.y-b.margin-i-(this.trackCount-1-t)*this.trackHeight})`})}push(t){let e=\"\",i=[];switch(b.danmakuType[t.type]){case\"normal\":case\"reversed\":e=this.getHorizontalTags(t),i=this.horizontalStack;break;case\"top\":case\"bottom\":e=this.getVerticalTags(t),i=this.verticalStack;break;case\"special\":default:return{tags:\"\\\\pos(0,-999)\"}}const n={tags:e};return i.push(n),n}}function k(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}v(b,\"danmakuType\",{[y.Normal]:\"normal\",[y.Normal2]:\"normal\",[y.Normal3]:\"normal\",[y.Bottom]:\"bottom\",[y.Top]:\"top\",[y.Reversed]:\"reversed\",[y.Special]:\"special\",[y.Special2]:\"special\"}),v(b,\"margin\",4),v(b,\"nextDanmakuDelay\",.05);class w{constructor({title:t,font:e,alpha:i,duration:n,blockTypes:o,blockFilter:r,resolution:a,bottomMarginPercent:s,bold:l}){k(this,\"title\",void 0),k(this,\"font\",void 0),k(this,\"alpha\",void 0),k(this,\"duration\",void 0),k(this,\"blockTypes\",void 0),k(this,\"blockFilter\",void 0),k(this,\"resolution\",void 0),k(this,\"bold\",void 0),k(this,\"danmakuStack\",void 0),this.title=t,this.font=e,this.alpha=Math.round(255*i).toString(16).toUpperCase().padStart(2,\"0\"),this.duration=n,this.blockTypes=o,this.blockFilter=r||(()=>!0),this.resolution=a,this.bold=l,this.danmakuStack=new b(e,a,n,s)}get fontStyles(){return{36:`Style: Larger,${this.font},72,&H${this.alpha}FFFFFF,&H${this.alpha}FFFFFF,&H${this.alpha}000000,&H${this.alpha}000000,${this.bold?\"1\":\"0\"},0,0,0,100,100,0,0,1,1.2,0,5,0,0,0,0`,30:`Style: Large,${this.font},64,&H${this.alpha}FFFFFF,&H${this.alpha}FFFFFF,&H${this.alpha}000000,&H${this.alpha}000000,${this.bold?\"1\":\"0\"},0,0,0,100,100,0,0,1,1.2,0,5,0,0,0,0`,25:`Style: Medium,${this.font},52,&H${this.alpha}FFFFFF,&H${this.alpha}FFFFFF,&H${this.alpha}000000,&H${this.alpha}000000,${this.bold?\"1\":\"0\"},0,0,0,100,100,0,0,1,1.2,0,5,0,0,0,0`,18:`Style: Small,${this.font},36,&H${this.alpha}FFFFFF,&H${this.alpha}FFFFFF,&H${this.alpha}000000,&H${this.alpha}000000,${this.bold?\"1\":\"0\"},0,0,0,100,100,0,0,1,1.2,0,5,0,0,0,0`,45:`Style: ExtraLarge,${this.font},90,&H${this.alpha}FFFFFF,&H${this.alpha}FFFFFF,&H${this.alpha}000000,&H${this.alpha}000000,${this.bold?\"1\":\"0\"},0,0,0,100,100,0,0,1,1.2,0,5,0,0,0,0`}}xmlDanmakuToAssDocument(t){const e=[];for(const i of t){const t=-1!==this.blockTypes.indexOf(i.type),n=-1!==this.blockTypes.indexOf(\"color\")&&i.color!==w.white;if(t||n)continue;if(!this.blockFilter(i))continue;const[o,r]=(0,s.convertTimeByDuration)(i.startTime,this.duration(i));e.push(new u({content:(0,s.normalizeContent)(i.content),time:o,endTime:r,type:i.type.valueOf().toString(),fontSize:i.fontSize.toString(),color:i.color.toString(),typeTag:this.convertType(i),colorTag:(0,s.convertHexColorForDialogue)(i.color.toString(16))}))}return new p(e,this.title,this.fontStyles,this.blockTypes,this.resolution)}xmlStringToAssDocument(t){const e=new f(t);return this.xmlDanmakuToAssDocument(e.danmakus.sort((0,r.ascendingSort)((t=>t.startTime))))}convertType(t){return this.danmakuStack.push(t).tags}}k(w,\"white\",16777215);class S{constructor(t,e){var i,n,o;this.aid=t,this.cid=e,o=[],(n=\"jsonDanmakus\")in(i=this)?Object.defineProperty(i,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[n]=o}get xmlDanmakus(){return this.jsonDanmakus.map((t=>({content:t.content,time:t.progress?(t.progress/1e3).toString():\"0\",type:t.mode?.toString()??\"1\",fontSize:t.fontsize?.toString()??\"25\",color:t.color?.toString()??\"16777215\",timeStamp:t.ctime?.toString()??\"0\",pool:t.pool?.toString()??\"0\",userHash:t.midHash??\"0\",rowId:t.idStr??\"0\"})))}async fetchInfo(){const{decodeDanmakuSegment:t,decodeDanmakuView:e}=await Promise.resolve().then(i.bind(i,31)),n=async t=>(await fetch(t)).blob(),a=await n(`https://api.bilibili.com/x/v2/dm/web/view?type=1&oid=${this.cid}&pid=${this.aid}`);if(!a)throw new Error(\"获取弹幕信息失败\");const s=await e(a),{total:l}=s.dmSge;if(void 0===l)throw new Error(`获取弹幕分页数失败: ${JSON.stringify(lodash.omit(s,\"flag\"))}`);console.log(\"segment count =\",l);const c=await Promise.all(new Array(l).fill(0).map((async(e,i)=>{const r=await n(`https://api.bilibili.com/x/v2/dm/web/seg.so?type=1&oid=${this.cid}&pid=${this.aid}&segment_index=${i+1}`);if(!r)return(0,o.logError)(new Error(`弹幕片段${i+1}下载失败`)),[];console.log(`received blob for segment ${i+1}`,r);return(await t(r)).elems??[]})));return this.jsonDanmakus=c.flat().sort((0,r.ascendingSort)((t=>t.progress))),this}}const T=async()=>{const t=(0,a.getFriendlyTitle)(),e={font:\"微软雅黑\",alpha:.4,duration:t=>{switch(t.type){case 4:case 5:return 4;default:return 6}},blockTypes:[7,8],resolution:{x:1920,y:1080},bottomMarginPercent:.15,bold:!1};let i={...e,title:t};try{await(0,n.loadDanmakuSettingsPanel)();const t=localStorage.getItem(\"bilibili_player_settings\");if(t){const e=JSON.parse(t),n=(t,i)=>lodash.get(e,`setting_config.${t}`,i);i.blockTypes=(()=>{const t=[],i={scroll:[1,2,3],top:[5],bottom:[4],color:[\"color\"]};for(const[n,o]of Object.entries(i))!1===lodash.get(e,`block.type_${n}`,!0)&&t.push(...o);return t.concat(7,8)})(),i.bold=n(\"bold\",!1),i.alpha=lodash.clamp(1-parseFloat(n(\"opacity\",\"0.4\")),0,1);const o=1.4-.4*n(\"fontsize\",1);i.resolution={x:Math.round(1920*o),y:Math.round(1080*o)},i.duration=(()=>{const t=18-3*n(\"speedplus\",0);return e=>{switch(e.type){case 4:case 5:return 4;default:return t}}})();const r=n(\"danmakuArea\",0);i.bottomMarginPercent=r>=100?0:r/100,0===i.bottomMarginPercent&&n(\"preventshade\",!1)&&(i.bottomMarginPercent=.15);const a=lodash.get(e,\"block.list\",[]);i.blockFilter=t=>{for(const e of a)if(e.s)switch(e.t){default:return!0;case\"keyword\":if(t.content.includes(e.v))return!1;break;case\"regexp\":if(new RegExp(e.v).test(t.content))return!1;break;case\"user\":if(t.userHash===e.v)return!1}return!0}}else console.warn(\"[弹幕转换] 未找到播放器设置\"),i={...i,...e};i.font=dq(\".bilibili-player-video-danmaku-setting-right-font .bui-select-result\").innerText}catch(t){(0,o.logError)(t),i={...i,...e}}for(const[t,n]of Object.entries(i))null==n&&(console.warn(\"danmaku config invalid for key\",t,\", value =\",n),i[t]=e[n]);return console.log(i),i},x=async t=>new w(await T()).xmlStringToAssDocument(t).generateAss(),F=async t=>new w(await T()).xmlDanmakuToAssDocument(t.xmlDanmakus.map((t=>new m(t)))).generateAss(),$=async(t,e=unsafeWindow)=>{const{aid:i,cid:n}=e,o=await new S(i,n).fetchInfo();switch(t){case\"xml\":return new Blob([o.xmlDanmakus.map((t=>new m(t).text())).join(\"\\n\")],{type:\"text/xml\"});default:case\"json\":return new Blob([JSON.stringify(o.jsonDanmakus)],{type:\"text/json\"});case\"ass\":return new Blob([await F(o)],{type:\"text/ass\"})}}},616:function(t,e,i){var n=i(645)((function(t){return t[1]}));n.push([t.id,\".download-danmaku-config.download-video-config-section .be-dropdown {\\n  text-transform: uppercase;\\n}\",\"\"]),t.exports=n},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?\"@media \".concat(e[2],\" {\").concat(i,\"}\"):i})).join(\"\")},\n// eslint-disable-next-line func-names\ne.i=function(t,i,n){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var o={};if(n)for(var r=0;r<this.length;r++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[r][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);n&&o[l[0]]||(i&&(l[2]?l[2]=\"\".concat(i,\" and \").concat(l[2]):l[2]=i),e.push(l))}},e}},379:function(t,e,i){\"use strict\";var n,o=function(){return void 0===n&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\nn=Boolean(window&&document&&document.all&&!window.atob)),n},r=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),a=[];function s(t){for(var e=-1,i=0;i<a.length;i++)if(a[i].identifier===t){e=i;break}return e}function l(t,e){for(var i={},n=[],o=0;o<t.length;o++){var r=t[o],l=e.base?r[0]+e.base:r[0],c=i[l]||0,d=\"\".concat(l,\" \").concat(c);i[l]=c+1;var u=s(d),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(a[u].references++,a[u].updater(p)):a.push({identifier:d,updater:g(p,e),references:1}),n.push(d)}return n}function c(t){var e=document.createElement(\"style\"),n=t.attributes||{};if(void 0===n.nonce){var o=i.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),\"function\"==typeof t.insert)t.insert(e);else{var a=r(t.insert||\"head\");if(!a)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");a.appendChild(e)}return e}var d,u=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join(\"\\n\")});function p(t,e,i,n){var o=i?\"\":n.media?\"@media \".concat(n.media,\" {\").concat(n.css,\"}\"):n.css;if(t.styleSheet)t.styleSheet.cssText=u(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function h(t,e,i){var n=i.css,o=i.media,r=i.sourceMap;if(o?t.setAttribute(\"media\",o):t.removeAttribute(\"media\"),r&&\"undefined\"!=typeof btoa&&(n+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))),\" */\")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var m=null,f=0;function g(t,e){var i,n,o;if(e.singleton){var r=f++;i=m||(m=c(e)),n=p.bind(null,i,r,!1),o=p.bind(null,i,r,!0)}else i=c(e),n=h.bind(null,i,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||\"boolean\"==typeof e.singleton||(e.singleton=o());var i=l(t=t||[],e);return function(t){if(t=t||[],\"[object Array]\"===Object.prototype.toString.call(t)){for(var n=0;n<i.length;n++){var o=s(i[n]);a[o].references--}for(var r=l(t,e),c=0;c<i.length;c++){var d=s(i[c]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}i=r}}}},982:function(t,e,i){\"use strict\";i.r(e),i.d(e,{default:function(){return p}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"multiple-widgets\"},[i(\"DefaultWidget\",{attrs:{disabled:t.disabled,name:\"下载弹幕 (XML)\",icon:\"danmaku\"},on:{click:function(e){return t.download(\"xml\")}}}),t._v(\" \"),i(\"DefaultWidget\",{attrs:{disabled:t.disabled,name:\"下载弹幕 (JSON)\",icon:\"danmaku\"},on:{click:function(e){return t.download(\"json\")}}}),t._v(\" \"),i(\"DefaultWidget\",{attrs:{disabled:t.disabled,name:\"下载弹幕 (ASS)\",icon:\"danmaku\"},on:{click:function(e){return t.download(\"ass\")}}})],1)};n._withStripped=!0;var o=coreApis.download,r=i(729),a=i(129),s=coreApis.pluginApis.data,l=i(643),c=i(948);(0,s.addData)(\"ui.icons\",(t=>{t.danmaku='<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\"  viewBox=\"0 0 24 24\"><path d=\"M20,4H4C2.9,4,2,4.9,2,6v12c0,1.1,0.9,2,2,2h4h5.9H20c1.1,0,2-0.9,2-2V6C22,4.9,21.1,4,20,4z M5,7h8v2H5V7z M7,17H5v-2h2V17z M6.3,13v-2H18v2H6.3z M19,17H9v-2h10V17z M19,9h-4.1V7H19V9z\"/></svg>'}));var d=Vue.extend({components:{DefaultWidget:l.DefaultWidget},data:()=>({disabled:!1}),methods:{async download(t){try{this.disabled=!0;const e=(0,a.getFriendlyTitle)(),i=await(0,c.getBlobByType)(t);await o.DownloadPackage.single(`${e}.${t}`,i)}catch(t){(0,r.logError)(t)}finally{this.disabled=!1}}}}),u=(0,i(900).Z)(d,n,[],!1,null,null,null);u.options.__file=\"registry/lib/components/video/danmaku/download/DownloadDanmaku.vue\";var p=u.exports},257:function(t,e,i){\"use strict\";i.r(e),i.d(e,{default:function(){return m}});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"download-danmaku-config download-video-config-section\"},[i(\"div\",{staticClass:\"download-video-config-item\"},[i(\"div\",{staticClass:\"download-video-config-title\"},[t._v(\"\\n      弹幕:\\n    \")]),t._v(\" \"),i(\"VDropdown\",{attrs:{items:t.items},scopedSlots:t._u([{key:\"item\",fn:function(e){var i=e.item;return[t._v(\"\\n        \"+t._s(i)+\"\\n      \")]}}]),model:{value:t.type,callback:function(e){t.type=e},expression:\"type\"}})],1)])};n._withStripped=!0;var o=coreApis.settings,r=i(643);const a=(0,o.getComponentSettings)(\"downloadVideo\").options;var s=Vue.extend({components:{VDropdown:r.VDropdown},data:()=>({type:a.danmakuType??\"无\",items:[\"无\",\"ass\",\"json\",\"xml\"]}),computed:{enabled(){return\"无\"!==this.type}},watch:{type(t){a.danmakuType=t}}}),l=i(379),c=i.n(l),d=i(616),u=i.n(d),p={insert:\"head\",singleton:!1},h=(c()(u(),p),u().locals,(0,i(900).Z)(s,n,[],!1,null,null,null));h.options.__file=\"registry/lib/components/video/danmaku/download/Plugin.vue\";var m=h.exports},900:function(t,e,i){\"use strict\";function n(t,e,i,n,o,r,a,s){var l,c=\"function\"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId=\"data-v-\"+r),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}i.d(e,{Z:function(){return n}})},643:function(t){\"use strict\";t.exports=coreApis.ui},729:function(t){\"use strict\";t.exports=coreApis.utils.log},129:function(t){\"use strict\";t.exports=coreApis.utils.title}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={id:n,exports:{}};return t[n](r,r.exports,i),r.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var n={};return function(){\"use strict\";i.d(n,{component:function(){return r}});var t=coreApis.spinQuery,e=coreApis.toast,o=coreApis.utils.urls;const r={name:\"downloadDanmaku\",displayName:\"下载弹幕\",description:{\"zh-CN\":\"启用下载弹幕支持, 在视频和番剧页面中可从功能面板里下载弹幕. 请注意 ASS 弹幕下载不会包含高级弹幕, 字幕弹幕等.\"},tags:[componentsTags.video],entry:none,reload:none,unload:none,plugin:{displayName:\"下载视频 - 下载弹幕支持\",setup:({addData:t})=>{t(\"downloadVideo.assets\",(async t=>{const{getBlobByType:n}=await Promise.resolve().then(i.bind(i,948));t.push({name:\"downloadDanmaku\",displayName:\"下载弹幕\",getAssets:async(t,i)=>{const{type:o,enabled:r}=i;if(!r)return[];const a=e.Toast.info(\"获取弹幕中...\",\"下载弹幕\");let s=0;const l=await Promise.allSettled(t.map((async e=>{const i=await n(o,e.input);return s++,a.message=`获取弹幕中... (${s}/${t.length})`,{name:`${e.input.title}.${o}`,data:i}}))),c=l.filter((t=>\"fulfilled\"===t.status)),d=l.filter((t=>\"rejected\"===t.status));return a.message=`获取完成. 成功 ${c.length} 个, 失败 ${d.length} 个.`,c.map((t=>t.value))},component:()=>Promise.resolve().then(i.bind(i,257)).then((t=>t.default))})}))}},urlInclude:o.videoAndBangumiUrls,widget:{condition:t.hasVideo,component:()=>Promise.resolve().then(i.bind(i,982)).then((t=>t.default))},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),n=n.component}()}));",
      "metadata": {
        "name": "downloadDanmaku",
        "displayName": "下载弹幕",
        "description": {
          "zh-CN": "启用下载弹幕支持, 在视频和番剧页面中可从功能面板里下载弹幕. 请注意 ASS 弹幕下载不会包含高级弹幕, 字幕弹幕等."
        },
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          }
        ],
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "liveAutoDraw": {
      "code": "!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"live/auto-draw\"]=e():t[\"live/auto-draw\"]=e()}(self,(function(){return function(){\"use strict\";var t,e,n={156:function(t){t.exports=coreApis.observer},569:function(t){t.exports=coreApis.spinQuery}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var c=o[t]={exports:{}};return n[t](c,c.exports,r),c.exports}e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var c=Object.create(null);r.r(c);var i={};t=t||[null,e({}),e([]),e(e)];for(var u=2&o&&n;\"object\"==typeof u&&!~t.indexOf(u);u=e(u))Object.getOwnPropertyNames(u).forEach((function(t){i[t]=function(){return n[t]}}));return i.default=function(){return n},r.d(c,i),c},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var c={};return function(){r.d(c,{component:function(){return e}});var t=coreApis.utils.urls;const e={name:\"liveAutoDraw\",displayName:\"直播间自动抽奖\",description:{\"zh-CN\":\"在当前直播间有抽奖活动时, 自动点击抽奖按钮. 注意只适用于少量抽奖, 那种99+限量抽奖可能跟不上其他人的手速(\"},tags:[componentsTags.live],entry:async()=>{const{sq:t}=await Promise.resolve().then(r.t.bind(r,569,23)),{childListSubtree:e,attributes:n}=await Promise.resolve().then(r.t.bind(r,156,23)),o=await t((()=>dq(\".chat-popups-section\")),(t=>null!==t&&null===t.querySelector(\"chat-draw-area\")));o?e(o,(()=>{console.log(\"draw button = \",dq(\".chat-popups-section .draw>span:nth-child(3)\"));const t=dq(\".chat-popups-section .draw>span:nth-child(3)\");if(null===t){const t=dq(\".chat-popups-section .function-bar>span:nth-child(3)\");if(null!==t){const[e]=n(t,(()=>{\"none\"!==t.style.display&&(e.disconnect(),t.click())}))}}null!==t&&t.click()})):console.warn(\"[自动领奖] 未能找到弹窗容器\")},urlInclude:t.liveUrls,commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),c=c.component}()}));",
      "metadata": {
        "name": "liveAutoDraw",
        "displayName": "直播间自动抽奖",
        "description": {
          "zh-CN": "在当前直播间有抽奖活动时, 自动点击抽奖按钮. 注意只适用于少量抽奖, 那种99+限量抽奖可能跟不上其他人的手速("
        },
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          }
        ],
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "badgeHelper": {
      "code": "!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"live/badge-helper\"]=n():e[\"live/badge-helper\"]=n()}(self,(function(){return function(){var e,n,t={930:function(e,n,t){\"use strict\";t.d(n,{j9:function(){return c},Dx:function(){return p},KK:function(){return s},eB:function(){return d}});var o=t(663),l=t(109),a=coreApis.utils.log;function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}class r{constructor(e=!1,n=0){this.isActive=e,this.id=n}static parseJson(e,n){const t=JSON.parse(e);return 0!==t.code?((0,a.logError)(`${n.errorMessage} 错误码:${t.code} ${t.message||\"\"}`),n.errorAction(t)):n.successAction(t)}}class c extends r{constructor(e){const{medal:{medal_id:n,level:t,medal_name:o,wearing_status:l,is_lighted:a},anchor_info:{nick_name:r},room_info:{room_id:c}}=e;super(1===l,n),i(this,\"level\",void 0),i(this,\"name\",void 0),i(this,\"upName\",void 0),i(this,\"roomID\",void 0),i(this,\"isLighted\",void 0),this.level=t,this.name=o,this.upName=r,this.roomID=c,this.isLighted=a}async activate(){return r.parseJson(await(0,o.postTextWithCredentials)(\"https://api.live.bilibili.com/xlive/web-room/v1/fansMedal/wear\",(0,l.formData)({medal_id:this.id,csrf_token:(0,l.getCsrf)(),csrf:(0,l.getCsrf)()})),{successAction:()=>(this.isActive=!0,!0),errorAction:()=>!1,errorMessage:\"佩戴勋章失败.\"})}async deactivate(){return r.parseJson(await(0,o.postTextWithCredentials)(\"https://api.live.bilibili.com/xlive/web-room/v1/fansMedal/take_off\",(0,l.formData)({csrf_token:(0,l.getCsrf)(),csrf:(0,l.getCsrf)()})),{successAction:()=>(this.isActive=!1,!0),errorAction:()=>!1,errorMessage:\"卸下勋章失败.\"})}}const s=async()=>{const{getTextWithCredentials:e}=await Promise.resolve().then(t.t.bind(t,663,23));return r.parseJson(await e(`https://api.live.bilibili.com/xlive/app-ucenter/v1/fansMedal/panel?page=1&page_size=256&target_id=${(0,l.getUID)()}`),{successAction:e=>(e.data.list??[]).concat(e.data.special_list??[]).map((e=>new c(e))),errorAction:()=>[],errorMessage:\"无法获取勋章列表.\"})};class p extends r{constructor(e){const{id:n,cid:t,wear:o,css:l,name:a,source:r}=e;super(o,l),i(this,\"tid\",void 0),i(this,\"cid\",void 0),i(this,\"name\",void 0),i(this,\"source\",void 0),i(this,\"imageUrl\",void 0),this.tid=n,this.cid=t,this.name=a,this.source=r,p.getImageMap().then((e=>{this.imageUrl=e[this.id]}))}static async getImageMap(){if(void 0===p.imageMap){const{getTextWithCredentials:e}=await Promise.resolve().then(t.t.bind(t,663,23));return r.parseJson(await e(\"https://api.live.bilibili.com/rc/v1/Title/webTitles\"),{successAction:e=>(p.imageMap={},e.data.forEach((e=>{p.imageMap[e.identification]=e.web_pic_url})),p.imageMap),errorAction:()=>({}),errorMessage:\"获取头衔图片失败.\"})}return p.imageMap}async activate(){return r.parseJson(await(0,o.postTextWithCredentials)(\"https://api.live.bilibili.com/i/ajaxWearTitle\",`id=${this.tid}&cid=${this.cid}&csrf=${(0,l.getCsrf)()}&csrf_token=${(0,l.getCsrf)()}`),{successAction:()=>(this.isActive=!0,!0),errorAction:()=>!1,errorMessage:\"佩戴头衔失败.\"})}async deactivate(){return r.parseJson(await(0,o.postTextWithCredentials)(\"https://api.live.bilibili.com/i/ajaxCancelWearTitle\",`csrf=${(0,l.getCsrf)()}&csrf_token=${(0,l.getCsrf)()}`),{successAction:()=>(this.isActive=!1,!0),errorAction:()=>!1,errorMessage:\"卸下头衔失败.\"})}}i(p,\"imageMap\",void 0);const d=async()=>{const{getTextWithCredentials:e}=await Promise.resolve().then(t.t.bind(t,663,23));return r.parseJson(await e(\"https://api.live.bilibili.com/i/api/ajaxTitleInfo?page=1&pageSize=256&had=1\"),{successAction:e=>lodash.get(e,\"data.list\",[]).map((e=>new p(e))),errorAction:()=>[],errorMessage:\"无法获取头衔列表.\"})}},256:function(e,n,t){var o=t(645)((function(e){return e[1]}));o.push([e.id,\".badge-popup {\\n  top: 50%;\\n  left: calc(100% + 8px);\\n  transform: scale(0.9) translateY(-50%);\\n  transform-origin: left;\\n  padding: 4px;\\n  max-height: calc(100vh - 150px);\\n  background-color: #fff;\\n  color: black;\\n  border-radius: 8px;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);\\n  border: 1px solid rgba(136,136,136,0.13333);\\n  box-sizing: border-box;\\n  overflow: auto;\\n  scrollbar-width: none !important;\\n  overscroll-behavior: contain;\\n  border-radius: 4px;\\n}\\nbody.dark .badge-popup {\\n  background-color: #282828;\\n  color: #eee;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.2);\\n}\\n.badge-popup::-webkit-scrollbar {\\n  height: 0 !important;\\n  width: 0 !important;\\n}\\n.badge-popup.open {\\n  transform: scale(1) translateY(-50%);\\n}\\nbody.settings-panel-dock-right .badge-popup {\\n  right: calc(100% + 8px);\\n  left: unset;\\n  transform-origin: right;\\n}\\n.badge-popup, .badge-popup * {\\n  transition: 0.2s ease-out;\\n}\\n.badge-popup ul {\\n  list-style: none;\\n  margin: 0;\\n  padding: 0;\\n  display: grid;\\n  grid-template-columns: repeat(2, 1fr);\\n}\\n.badge-popup ul li {\\n  border-radius: 4px;\\n  cursor: pointer;\\n  padding: 6px 8px;\\n  display: flex;\\n  justify-content: center;\\n}\\n.badge-popup ul li:hover {\\n  background-color: rgba(136,136,136,0.13333);\\n}\\n.badge-popup ul li.active {\\n  box-shadow: 0 0 0px 1px var(--theme-color), 0 0 0px 3px var(--theme-color-20);\\n}\\n.badge-popup ul li.gray:not(:hover) {\\n  filter: grayscale(1);\\n}\\n.badge-popup ul li .title-image {\\n  display: inline-block;\\n  vertical-align: middle;\\n  height: 20px;\\n}\\n.badge-popup ul li .fans-medal-item {\\n  display: flex !important;\\n  height: 14px;\\n  line-height: 14px;\\n  color: #fff;\\n  border: 1px solid #f6be18;\\n  background-color: #f6be18;\\n  border-left: 0;\\n  white-space: nowrap;\\n  border-radius: 2px;\\n  flex-shrink: 0;\\n  font-size: 12px;\\n}\\n.badge-popup ul li .fans-medal-item .label {\\n  width: 40px;\\n  text-align: center;\\n  padding: 0 2px;\\n  color: #fff;\\n  border-radius: 1px 0 0 1px;\\n  background-color: #f6be18;\\n}\\n.badge-popup ul li .fans-medal-item .level {\\n  width: 16px;\\n  background-color: #fff;\\n  text-align: center;\\n  color: #f6be18;\\n  border-radius: 0 1px 1px 0;\\n}\\n.badge-popup ul li .fans-medal-item .label,\\n.badge-popup ul li .fans-medal-item .level {\\n  cursor: pointer;\\n  position: relative;\\n  display: block;\\n  float: left;\\n}\\n.badge-popup ul li .level-1 {\\n  border-color: #48b6a5;\\n  background-color: #48b6a5;\\n}\\n.badge-popup ul li .level-1 .label {\\n  background-color: #48b6a5;\\n}\\n.badge-popup ul li .level-1 .level {\\n  color: #48b6a5;\\n}\\n.badge-popup ul li .level-2 {\\n  border-color: #48b6a5;\\n  background-color: #48b6a5;\\n}\\n.badge-popup ul li .level-2 .label {\\n  background-color: #48b6a5;\\n}\\n.badge-popup ul li .level-2 .level {\\n  color: #48b6a5;\\n}\\n.badge-popup ul li .level-3 {\\n  border-color: #48b6a5;\\n  background-color: #48b6a5;\\n}\\n.badge-popup ul li .level-3 .label {\\n  background-color: #48b6a5;\\n}\\n.badge-popup ul li .level-3 .level {\\n  color: #48b6a5;\\n}\\n.badge-popup ul li .level-4 {\\n  border-color: #48b6a5;\\n  background-color: #48b6a5;\\n}\\n.badge-popup ul li .level-4 .label {\\n  background-color: #48b6a5;\\n}\\n.badge-popup ul li .level-4 .level {\\n  color: #48b6a5;\\n}\\n.badge-popup ul li .level-5 {\\n  border-color: #5896de;\\n  background-color: #5896de;\\n}\\n.badge-popup ul li .level-5 .label {\\n  background-color: #5896de;\\n}\\n.badge-popup ul li .level-5 .level {\\n  color: #5896de;\\n}\\n.badge-popup ul li .level-6 {\\n  border-color: #5896de;\\n  background-color: #5896de;\\n}\\n.badge-popup ul li .level-6 .label {\\n  background-color: #5896de;\\n}\\n.badge-popup ul li .level-6 .level {\\n  color: #5896de;\\n}\\n.badge-popup ul li .level-7 {\\n  border-color: #5896de;\\n  background-color: #5896de;\\n}\\n.badge-popup ul li .level-7 .label {\\n  background-color: #5896de;\\n}\\n.badge-popup ul li .level-7 .level {\\n  color: #5896de;\\n}\\n.badge-popup ul li .level-8 {\\n  border-color: #5896de;\\n  background-color: #5896de;\\n}\\n.badge-popup ul li .level-8 .label {\\n  background-color: #5896de;\\n}\\n.badge-popup ul li .level-8 .level {\\n  color: #5896de;\\n}\\n.badge-popup ul li .level-9 {\\n  border-color: #a068f1;\\n  background-color: #a068f1;\\n}\\n.badge-popup ul li .level-9 .label {\\n  background-color: #a068f1;\\n}\\n.badge-popup ul li .level-9 .level {\\n  color: #a068f1;\\n}\\n.badge-popup ul li .level-10 {\\n  border-color: #a068f1;\\n  background-color: #a068f1;\\n}\\n.badge-popup ul li .level-10 .label {\\n  background-color: #a068f1;\\n}\\n.badge-popup ul li .level-10 .level {\\n  color: #a068f1;\\n}\\n.badge-popup ul li .level-11 {\\n  border-color: #a068f1;\\n  background-color: #a068f1;\\n}\\n.badge-popup ul li .level-11 .label {\\n  background-color: #a068f1;\\n}\\n.badge-popup ul li .level-11 .level {\\n  color: #a068f1;\\n}\\n.badge-popup ul li .level-12 {\\n  border-color: #a068f1;\\n  background-color: #a068f1;\\n}\\n.badge-popup ul li .level-12 .label {\\n  background-color: #a068f1;\\n}\\n.badge-popup ul li .level-12 .level {\\n  color: #a068f1;\\n}\\n.badge-popup ul li .level-13 {\\n  border-color: #ff86b2;\\n  background-color: #ff86b2;\\n}\\n.badge-popup ul li .level-13 .label {\\n  background-color: #ff86b2;\\n}\\n.badge-popup ul li .level-13 .level {\\n  color: #ff86b2;\\n}\\n.badge-popup ul li .level-14 {\\n  border-color: #ff86b2;\\n  background-color: #ff86b2;\\n}\\n.badge-popup ul li .level-14 .label {\\n  background-color: #ff86b2;\\n}\\n.badge-popup ul li .level-14 .level {\\n  color: #ff86b2;\\n}\\n.badge-popup ul li .level-15 {\\n  border-color: #ff86b2;\\n  background-color: #ff86b2;\\n}\\n.badge-popup ul li .level-15 .label {\\n  background-color: #ff86b2;\\n}\\n.badge-popup ul li .level-15 .level {\\n  color: #ff86b2;\\n}\\n.badge-popup ul li .level-16 {\\n  border-color: #ff86b2;\\n  background-color: #ff86b2;\\n}\\n.badge-popup ul li .level-16 .label {\\n  background-color: #ff86b2;\\n}\\n.badge-popup ul li .level-16 .level {\\n  color: #ff86b2;\\n}\\n.badge-popup ul li .level-17 {\\n  border-color: #f6be18;\\n  background-color: #f6be18;\\n}\\n.badge-popup ul li .level-17 .label {\\n  background-color: #f6be18;\\n}\\n.badge-popup ul li .level-17 .level {\\n  color: #f6be18;\\n}\\n.badge-popup ul li .level-18 {\\n  border-color: #f6be18;\\n  background-color: #f6be18;\\n}\\n.badge-popup ul li .level-18 .label {\\n  background-color: #f6be18;\\n}\\n.badge-popup ul li .level-18 .level {\\n  color: #f6be18;\\n}\\n.badge-popup ul li .level-19 {\\n  border-color: #f6be18;\\n  background-color: #f6be18;\\n}\\n.badge-popup ul li .level-19 .label {\\n  background-color: #f6be18;\\n}\\n.badge-popup ul li .level-19 .level {\\n  color: #f6be18;\\n}\\n.badge-popup ul li .level-20 {\\n  border-color: #f6be18;\\n  background-color: #f6be18;\\n}\\n.badge-popup ul li .level-20 .label {\\n  background-color: #f6be18;\\n}\\n.badge-popup ul li .level-20 .level {\\n  color: #f6be18;\\n}\\n.badge-popup.medal ul {\\n  grid-template-columns: repeat(2, 1fr);\\n  grid-template-columns: repeat(var(--medal-columns, 2), 1fr);\\n}\\n.badge-popup.title ul {\\n  grid-template-columns: repeat(2, 1fr);\\n  grid-template-columns: repeat(var(--title-columns, 2), 1fr);\\n}\",\"\"]),e.exports=o},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(e,t,o){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var l={};if(o)for(var a=0;a<this.length;a++){\n// eslint-disable-next-line prefer-destructuring\nvar i=this[a][0];null!=i&&(l[i]=!0)}for(var r=0;r<e.length;r++){var c=[].concat(e[r]);o&&l[c[0]]||(t&&(c[2]?c[2]=\"\".concat(t,\" and \").concat(c[2]):c[2]=t),n.push(c))}},n}},379:function(e,n,t){\"use strict\";var o,l=function(){return void 0===o&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\no=Boolean(window&&document&&document.all&&!window.atob)),o},a=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),i=[];function r(e){for(var n=-1,t=0;t<i.length;t++)if(i[t].identifier===e){n=t;break}return n}function c(e,n){for(var t={},o=[],l=0;l<e.length;l++){var a=e[l],c=n.base?a[0]+n.base:a[0],s=t[c]||0,p=\"\".concat(c,\" \").concat(s);t[c]=s+1;var d=r(p),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(i[d].references++,i[d].updater(u)):i.push({identifier:p,updater:v(u,n),references:1}),o.push(p)}return o}function s(e){var n=document.createElement(\"style\"),o=e.attributes||{};if(void 0===o.nonce){var l=t.nc;l&&(o.nonce=l)}if(Object.keys(o).forEach((function(e){n.setAttribute(e,o[e])})),\"function\"==typeof e.insert)e.insert(n);else{var i=a(e.insert||\"head\");if(!i)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");i.appendChild(n)}return n}var p,d=(p=[],function(e,n){return p[e]=n,p.filter(Boolean).join(\"\\n\")});function u(e,n,t,o){var l=t?\"\":o.media?\"@media \".concat(o.media,\" {\").concat(o.css,\"}\"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(n,l);else{var a=document.createTextNode(l),i=e.childNodes;i[n]&&e.removeChild(i[n]),i.length?e.insertBefore(a,i[n]):e.appendChild(a)}}function b(e,n,t){var o=t.css,l=t.media,a=t.sourceMap;if(l?e.setAttribute(\"media\",l):e.removeAttribute(\"media\"),a&&\"undefined\"!=typeof btoa&&(o+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a)))),\" */\")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var f=null,g=0;function v(e,n){var t,o,l;if(n.singleton){var a=g++;t=f||(f=s(n)),o=u.bind(null,t,a,!1),l=u.bind(null,t,a,!0)}else t=s(n),o=b.bind(null,t,n),l=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else l()}}e.exports=function(e,n){(n=n||{}).singleton||\"boolean\"==typeof n.singleton||(n.singleton=l());var t=c(e=e||[],n);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var o=0;o<t.length;o++){var l=r(t[o]);i[l].references--}for(var a=c(e,n),s=0;s<t.length;s++){var p=r(t[s]);0===i[p].references&&(i[p].updater(),i.splice(p,1))}t=a}}}},995:function(e,n,t){\"use strict\";t.r(n),t.d(n,{default:function(){return v}});var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"div\",{staticClass:\"multiple-widgets\"},[t(\"VPopup\",{ref:\"medalPopup\",staticClass:\"badge-popup widgets-popup medal\",attrs:{\"trigger-element\":e.$refs.medalButton},model:{value:e.medalOpen,callback:function(n){e.medalOpen=n},expression:\"medalOpen\"}},[t(\"ul\",e._l(e.medalList,(function(n){return t(\"li\",{key:n.id,class:{active:n.isActive,gray:!n.isLighted},attrs:{\"data-id\":n.id,title:n.upName},on:{click:function(t){return e.toggleBadge(n,e.medalList)}}},[t(\"div\",{staticClass:\"fans-medal-item\",class:[\"level-\"+n.level]},[t(\"span\",{staticClass:\"label\"},[e._v(e._s(n.name))]),e._v(\" \"),t(\"span\",{staticClass:\"level\"},[e._v(e._s(n.level))])])])})),0)]),e._v(\" \"),t(\"DefaultWidget\",{ref:\"medalButton\",attrs:{icon:\"mdi-medal\"},on:{click:function(n){e.medalOpen=!e.medalOpen}}},[t(\"span\",[e._v(\"更换勋章\")])]),e._v(\" \"),t(\"VPopup\",{ref:\"titlePopup\",staticClass:\"badge-popup widgets-popup title\",attrs:{\"trigger-element\":e.$refs.titleButton},model:{value:e.titleOpen,callback:function(n){e.titleOpen=n},expression:\"titleOpen\"}},[t(\"ul\",e._l(e.titleList,(function(n){return t(\"li\",{key:n.id,class:{active:n.isActive},attrs:{\"data-id\":n.id},on:{click:function(t){return e.toggleBadge(n,e.titleList)}}},[t(\"img\",{staticClass:\"title-image\",attrs:{src:n.imageUrl}})])})),0)]),e._v(\" \"),t(\"DefaultWidget\",{ref:\"titleButton\",attrs:{icon:\"mdi-script-outline\"},on:{click:function(n){e.titleOpen=!e.titleOpen}}},[t(\"span\",[e._v(\"更换头衔\")])])],1)};o._withStripped=!0;var l=t(407),a=coreApis.utils.sort,i=coreApis.ui,r=t(930);const{options:c}=(0,l.getComponentSettings)(\"badgeHelper\");var s=Vue.extend({components:{DefaultWidget:i.DefaultWidget,VPopup:i.VPopup},data:()=>({medalList:[],titleList:[],medalOpen:!1,titleOpen:!1}),async mounted(){await(async()=>{const e=this.loadMedalList();await r.Dx.getImageMap();const n=this.loadTitleList();return Promise.all([e,n])})(),this.updateColumnsCount()},methods:{updateColumnsCount(){const e=this.$el,n=Math.min(Math.ceil(this.medalList.length/12),6);e.style.setProperty(\"--medal-columns\",n.toString());const t=Math.min(Math.ceil(this.titleList.length/12),6);e.style.setProperty(\"--title-columns\",t.toString())},async loadMedalList(){this.medalList=(await(0,r.KK)()).sort((0,a.descendingSort)((e=>e.level))).slice(0,c.maxBadgeCount)},async loadTitleList(){this.titleList=(await(0,r.eB)()).slice(0,c.maxBadgeCount)},async toggleBadge(e,n){if(console.log(e),e.isActive)e.isActive=!1,await e.deactivate();else{const t=n.find((e=>e.isActive));t&&(t.isActive=!1),e.isActive=!0,await e.activate(),e instanceof r.j9&&(c.defaultMedalID=e.id)}e instanceof r.j9?await this.loadMedalList():e instanceof r.Dx&&await this.loadTitleList()}}}),p=t(379),d=t.n(p),u=t(256),b=t.n(u),f={insert:\"head\",singleton:!1};d()(b(),f),b().locals;var g=function(e,n,t,o,l,a,i,r){var c,s=\"function\"==typeof e?e.options:e;if(n&&(s.render=n,s.staticRenderFns=t,s._compiled=!0),o&&(s.functional=!0),a&&(s._scopeId=\"data-v-\"+a),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),l&&l.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},s._ssrRegister=c):l&&(c=r?function(){l.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:l),c)if(s.functional){s._injectStyles=c;var p=s.render;s.render=function(e,n){return c.call(n),p(e,n)}}else{var d=s.beforeCreate;s.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:s}}(s,o,[],!1,null,null,null);g.options.__file=\"registry/lib/components/live/badge-helper/BadgeHelper.vue\";var v=g.exports},663:function(e){\"use strict\";e.exports=coreApis.ajax},407:function(e){\"use strict\";e.exports=coreApis.settings},109:function(e){\"use strict\";e.exports=coreApis.utils}},o={};function l(e){var n=o[e];if(void 0!==n)return n.exports;var a=o[e]={id:e,exports:{}};return t[e](a,a.exports,l),a.exports}l.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(n,{a:n}),n},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},l.t=function(t,o){if(1&o&&(t=this(t)),8&o)return t;if(\"object\"==typeof t&&t){if(4&o&&t.__esModule)return t;if(16&o&&\"function\"==typeof t.then)return t}var a=Object.create(null);l.r(a);var i={};e=e||[null,n({}),n([]),n(n)];for(var r=2&o&&t;\"object\"==typeof r&&!~e.indexOf(r);r=n(r))Object.getOwnPropertyNames(r).forEach((function(e){i[e]=function(){return t[e]}}));return i.default=function(){return t},l.d(a,i),a},l.d=function(e,n){for(var t in n)l.o(n,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},l.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var a={};return function(){\"use strict\";l.d(a,{component:function(){return t}});var e=l(109),n=l(930);const t={name:\"badgeHelper\",displayName:\"直播勋章快速更换\",description:{\"zh-CN\":\"在直播区中, 可从功能面板中直接切换勋章和头衔. 默认加载 256 个 (同时也是上限), 可在选项中修改.\"},entry:()=>(async()=>{const{getUID:e}=await Promise.resolve().then(l.t.bind(l,109,23));if(!e())return;const{getComponentSettings:t}=await Promise.resolve().then(l.t.bind(l,407,23)),{options:o}=t(\"badgeHelper\");if(!o.autoMatchMedal)return;const a=document.URL.match(/^https:\\/\\/live\\.bilibili\\.com\\/(blanc\\/)?([\\d]+)/);if(!a)return;const i=parseInt(a[2]);if(Number.isNaN(i))return void console.warn(\"roomID not found\");const r=await(0,n.KK)();if(!o.defaultMedalID){const e=r.find((e=>e.isActive));e&&(o.defaultMedalID=e.id,console.log(`set defaultMedalID to activeMedal (${e.id})`))}const c=o.defaultMedalID?r.find((e=>e.id===o.defaultMedalID)):r.find((e=>e.isActive)),s=r.find((e=>e.roomID===i));s?(await s.activate(),console.log(`activated matchMedal (${s.id})`)):c&&(await c.activate(),console.log(`no matchMedal, fallback to defaultMedal (${c.id})`))})(),reload:e.none,unload:e.none,tags:[componentsTags.live],widget:{component:()=>Promise.resolve().then(l.bind(l,995)).then((e=>e.default)),condition:()=>Boolean((0,e.getUID)())},options:{autoMatchMedal:{defaultValue:!0,displayName:\"自动佩戴当前直播间勋章\"},maxBadgeCount:{defaultValue:256,displayName:\"最大加载数量\",validator:e=>lodash.clamp(e,1,256)},defaultMedalID:{displayName:\"默认勋章ID\",hidden:!0,defaultValue:0}},urlInclude:[\"//live.bilibili.com\"],commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),a=a.component}()}));",
      "metadata": {
        "name": "badgeHelper",
        "displayName": "直播勋章快速更换",
        "description": {
          "zh-CN": "在直播区中, 可从功能面板中直接切换勋章和头衔. 默认加载 256 个 (同时也是上限), 可在选项中修改."
        },
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          }
        ],
        "options": {
          "autoMatchMedal": {
            "defaultValue": true,
            "displayName": "自动佩戴当前直播间勋章"
          },
          "maxBadgeCount": {
            "defaultValue": 256,
            "displayName": "最大加载数量",
            "validator": "e=>lodash.clamp(e,1,256)"
          },
          "defaultMedalID": {
            "displayName": "默认勋章ID",
            "hidden": true,
            "defaultValue": 0
          }
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {
          "autoMatchMedal": true,
          "maxBadgeCount": 256,
          "defaultMedalID": 0
        }
      }
    },
    "liveDanmakuSendbar": {
      "code": "!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"live/danmaku-sendbar\"]=n():e[\"live/danmaku-sendbar\"]=n()}(self,(function(){return function(){var e,n,t={281:function(e,n,t){\"use strict\";t.d(n,{M6:function(){return r},Jd:function(){return o},xO:function(){return a}});const r=\".control-panel-ctnr .chat-input-ctnr .chat-input\",o=\".control-panel-ctnr .chat-input-ctnr ~ .bottom-actions .bl-button--primary\",a=\".left-area\"},667:function(e,n,t){var r=t(645)((function(e){return e[1]}));r.push([e.id,\".live-web-player-controller .danmaku-send-bar {\\n  display: none;\\n}\\n.live-web-player-controller {\\n  background-image: linear-gradient(to bottom, transparent 20%, rgba(0, 0, 0, 0.9));\\n}\\n@media screen and (min-width: 1038px) {\\n.player-full-win:not(.danmaku-send-bar-unloaded) .live-web-player-controller .control-area .danmaku-send-bar {\\n    display: flex;\\n    margin: 0 24px;\\n    flex: 1 1 0;\\n    height: 24px;\\n    justify-content: center;\\n    align-items: center;\\n}\\n.player-full-win:not(.danmaku-send-bar-unloaded) .live-web-player-controller .control-area .danmaku-send-bar input {\\n    outline: none !important;\\n    border: none;\\n    border-bottom: 2px solid rgba(255,255,255,0.53333);\\n    background-color: transparent;\\n    color: #fff;\\n    padding: 4px;\\n    line-height: normal;\\n    flex: 1;\\n    width: 0;\\n    max-width: 400px;\\n    min-width: 70px;\\n}\\n.player-full-win:not(.danmaku-send-bar-unloaded) .live-web-player-controller .control-area .danmaku-send-bar input[focus-within] {\\n    border-color: var(--theme-color);\\n}\\n.player-full-win:not(.danmaku-send-bar-unloaded) .live-web-player-controller .control-area .danmaku-send-bar input:focus-within {\\n    border-color: var(--theme-color);\\n}\\n.player-full-win:not(.danmaku-send-bar-unloaded) .live-web-player-controller .control-area .danmaku-send-bar input::-webkit-input-placeholder {\\n    color: rgba(255,255,255,0.53333) !important;\\n}\\n.player-full-win:not(.danmaku-send-bar-unloaded) .live-web-player-controller .control-area .right-area {\\n    flex: 0 0 auto !important;\\n}\\n}\",\"\"]),e.exports=r},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(e,t,r){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var o={};if(r)for(var a=0;a<this.length;a++){\n// eslint-disable-next-line prefer-destructuring\nvar i=this[a][0];null!=i&&(o[i]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&o[u[0]]||(t&&(u[2]?u[2]=\"\".concat(t,\" and \").concat(u[2]):u[2]=t),n.push(u))}},n}},379:function(e,n,t){\"use strict\";var r,o=function(){return void 0===r&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\nr=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),i=[];function l(e){for(var n=-1,t=0;t<i.length;t++)if(i[t].identifier===e){n=t;break}return n}function u(e,n){for(var t={},r=[],o=0;o<e.length;o++){var a=e[o],u=n.base?a[0]+n.base:a[0],s=t[u]||0,c=\"\".concat(u,\" \").concat(s);t[u]=s+1;var d=l(c),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(i[d].references++,i[d].updater(f)):i.push({identifier:c,updater:h(f,n),references:1}),r.push(c)}return r}function s(e){var n=document.createElement(\"style\"),r=e.attributes||{};if(void 0===r.nonce){var o=t.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),\"function\"==typeof e.insert)e.insert(n);else{var i=a(e.insert||\"head\");if(!i)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");i.appendChild(n)}return n}var c,d=(c=[],function(e,n){return c[e]=n,c.filter(Boolean).join(\"\\n\")});function f(e,n,t,r){var o=t?\"\":r.media?\"@media \".concat(r.media,\" {\").concat(r.css,\"}\"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(n,o);else{var a=document.createTextNode(o),i=e.childNodes;i[n]&&e.removeChild(i[n]),i.length?e.insertBefore(a,i[n]):e.appendChild(a)}}function p(e,n,t){var r=t.css,o=t.media,a=t.sourceMap;if(o?e.setAttribute(\"media\",o):e.removeAttribute(\"media\"),a&&\"undefined\"!=typeof btoa&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a)))),\" */\")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var v=null,m=0;function h(e,n){var t,r,o;if(n.singleton){var a=m++;t=v||(v=s(n)),r=f.bind(null,t,a,!1),o=f.bind(null,t,a,!0)}else t=s(n),r=p.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||\"boolean\"==typeof n.singleton||(n.singleton=o());var t=u(e=e||[],n);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var r=0;r<t.length;r++){var o=l(t[r]);i[o].references--}for(var a=u(e,n),s=0;s<t.length;s++){var c=l(t[s]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}t=a}}}},83:function(e,n,t){\"use strict\";t.r(n),t.d(n,{default:function(){return m}});var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"div\",{staticClass:\"danmaku-send-bar\"},[t(\"input\",{attrs:{type:\"text\",placeholder:\"发个弹幕呗~\",maxlength:\"30\"},domProps:{value:e.value},on:{keydown:function(n){return!n.type.indexOf(\"key\")&&e._k(n.keyCode,\"enter\",13,n.key,\"Enter\")?null:e.send()},input:function(n){return e.updateValue(n.target.value)}}})])};r._withStripped=!0;var o=coreApis.spinQuery,a=t(109),i=t(281);let l=!1;var u=Vue.extend({data:()=>({originalTextArea:null,sendButton:null,value:\"\"}),async mounted(){const e=await(0,o.select)(i.M6),n=await(0,o.select)(i.Jd);if(!e||!n)throw new Error(`[danmakuSendBar] ref elements not found. originalTextArea = ${null===e} sendButton = ${null===n}`);if(this.originalTextArea=e,this.sendButton=n,this.value=e.value,e.addEventListener(\"input\",this.listenChange),e.addEventListener(\"change\",this.listenChange),!l){const n=Object.getOwnPropertyDescriptors(HTMLTextAreaElement.prototype).value;Object.defineProperty(e,\"value\",{...n,set(t){n.set?.call(this,t),(0,a.raiseEvent)(e,\"input\")}}),l=!0}},beforeDestroy(){this.originalTextArea.removeEventListener(\"input\",this.listenChange),this.originalTextArea.removeEventListener(\"change\",this.listenChange)},methods:{updateValue(e){this.originalTextArea.value=e,(0,a.raiseEvent)(this.originalTextArea,\"input\")},send(){this.sendButton.disabled||(this.value=\"\",this.sendButton.click())},listenChange(e){this.value=e.target.value}}}),s=t(379),c=t.n(s),d=t(667),f=t.n(d),p={insert:\"head\",singleton:!1};c()(f(),p),f().locals;var v=function(e,n,t,r,o,a,i,l){var u,s=\"function\"==typeof e?e.options:e;if(n&&(s.render=n,s.staticRenderFns=t,s._compiled=!0),r&&(s.functional=!0),a&&(s._scopeId=\"data-v-\"+a),i?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},s._ssrRegister=u):o&&(u=l?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),u)if(s.functional){s._injectStyles=u;var c=s.render;s.render=function(e,n){return u.call(n),c(e,n)}}else{var d=s.beforeCreate;s.beforeCreate=d?[].concat(d,u):[u]}return{exports:e,options:s}}(u,r,[],!1,null,null,null);v.options.__file=\"registry/lib/components/live/danmaku-sendbar/DanmakuSendbar.vue\";var m=v.exports},109:function(e){\"use strict\";e.exports=coreApis.utils}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={id:e,exports:{}};return t[e](a,a.exports,o),a.exports}o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,{a:n}),n},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(t,r){if(1&r&&(t=this(t)),8&r)return t;if(\"object\"==typeof t&&t){if(4&r&&t.__esModule)return t;if(16&r&&\"function\"==typeof t.then)return t}var a=Object.create(null);o.r(a);var i={};e=e||[null,n({}),n([]),n(n)];for(var l=2&r&&t;\"object\"==typeof l&&!~e.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach((function(e){i[e]=function(){return t[e]}}));return i.default=function(){return t},o.d(a,i),a},o.d=function(e,n){for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var a={};return function(){\"use strict\";o.d(a,{component:function(){return i}});var e=coreApis.componentApis.live.liveControlBar,n=o(109),t=coreApis.utils.urls,r=o(281);const i={name:\"liveDanmakuSendbar\",displayName:\"直播弹幕发送栏\",tags:[componentsTags.live],description:{\"zh-CN\":\"在直播的网页全屏和全屏模式状态下, 在底部显示弹幕栏.\"},entry:async()=>{if(!(0,n.getUID)())return;let t;(0,e.waitForControlBar)({callback:async e=>{const n=dq(e,r.xO);if(!n)throw new Error(\"[danmakuSendBar] leftController not found\");if(!dq(e,\".danmaku-send-bar\")){if(!t){const{mountVueComponent:e}=await Promise.resolve().then(o.t.bind(o,109,23)),n=await Promise.resolve().then(o.bind(o,83));t=e(n).$el}n.insertAdjacentElement(\"afterend\",t)}}})},reload:()=>document.body.classList.remove(\"danmaku-send-bar-unloaded\"),unload:()=>document.body.classList.add(\"danmaku-send-bar-unloaded\"),urlInclude:t.liveUrls,commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),a=a.component}()}));",
      "metadata": {
        "name": "liveDanmakuSendbar",
        "displayName": "直播弹幕发送栏",
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          }
        ],
        "description": {
          "zh-CN": "在直播的网页全屏和全屏模式状态下, 在底部显示弹幕栏."
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "liveGiftBox": {
      "code": "!function(n,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"live/gift-box\"]=e():n[\"live/gift-box\"]=e()}(self,(function(){return function(){var n={894:function(n,e,t){var o=t(645)((function(n){return n[1]}));o.push([n.id,\".player-full-win .gift-control-section {\\n  display: block !important;\\n  left: unset;\\n  bottom: unset;\\n  top: 100vh;\\n  right: 302px;\\n}\\n.player-full-win .z-gift-package .wrap {\\n  right: 0;\\n  bottom: 74px;\\n}\\n.player-full-win.hide-aside-area .gift-control-section {\\n  right: 0;\\n}\\n\\n.live-web-player-controller .fullscreen-gift-box {\\n  display: none;\\n}\\n\\n@media screen and (min-width: 1038px) {\\n  .player-full-win:not(.fullscreen-gift-box-unloaded) .gift-control-panel .z-gift-package .arrow-bottom.popup::before, .player-full-win:not(.fullscreen-gift-box-unloaded) .gift-control-panel .z-gift-package .arrow-bottom.popup::after {\\n    left: 50% !important;\\n  }\\n  .player-full-win:not(.fullscreen-gift-box-unloaded) .live-web-player-controller .control-area .fullscreen-gift-box {\\n    display: flex;\\n    align-self: center;\\n    margin: 0 3px;\\n    padding: 0 3px;\\n    line-height: 36px;\\n    cursor: pointer;\\n    color: #FDFDFD;\\n  }\\n  .player-full-win:not(.fullscreen-gift-box-unloaded) .live-web-player-controller .control-area .fullscreen-gift-box:hover {\\n    color: #FFF;\\n  }\\n}\",\"\"]),n.exports=o},645:function(n){\"use strict\";\n// eslint-disable-next-line func-names\nn.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=n(e);return e[2]?\"@media \".concat(e[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\ne.i=function(n,t,o){\"string\"==typeof n&&(\n// eslint-disable-next-line no-param-reassign\nn=[[null,n,\"\"]]);var r={};if(o)for(var l=0;l<this.length;l++){\n// eslint-disable-next-line prefer-destructuring\nvar i=this[l][0];null!=i&&(r[i]=!0)}for(var a=0;a<n.length;a++){var c=[].concat(n[a]);o&&r[c[0]]||(t&&(c[2]?c[2]=\"\".concat(t,\" and \").concat(c[2]):c[2]=t),e.push(c))}},e}},564:function(n,e,t){var o=t(894);o&&o.__esModule&&(o=o.default),n.exports=\"string\"==typeof o?o:o.toString()}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var l=e[o]={id:o,exports:{}};return n[o](l,l.exports,t),l.exports}t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,{a:e}),e},t.d=function(n,e){for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)};var o={};return function(){\"use strict\";t.d(o,{component:function(){return c}});var n=coreApis.componentApis.live.liveControlBar,e=coreApis.style,r=coreApis.utils.urls,l=t(564),i=t.n(l);const a=\"fullscreen-gift-box\",c={name:\"liveGiftBox\",displayName:\"直播全屏包裹\",description:{\"zh-CN\":\"在直播的网页全屏(不能是全屏)模式下往控制栏添加包裹按钮.\"},urlInclude:r.liveUrls,tags:[componentsTags.live],entry:async()=>{let t;(0,n.waitForControlBar)({init:()=>(0,e.addStyle)(i(),\"fullscreen-gift-box\"),callback:async n=>{const e=dq(n,\".right-area\");if(e){if(!dq(e,\".fullscreen-gift-box\")){if(!t){const n=\".gift-package\";t=document.createElement(\"div\"),t.innerHTML=\"包裹\",t.classList.add(a),t.addEventListener(\"click\",(()=>{dq(n)?.click()}))}e.appendChild(t)}}else console.warn(\"[fullscreenGiftBox] ref elements not found\",null===e)}})},reload:()=>document.body.classList.remove(\"fullscreen-gift-box-unloaded\"),unload:()=>document.body.classList.add(\"fullscreen-gift-box-unloaded\"),commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),o=o.component}()}));",
      "metadata": {
        "name": "liveGiftBox",
        "displayName": "直播全屏包裹",
        "description": {
          "zh-CN": "在直播的网页全屏(不能是全屏)模式下往控制栏添加包裹按钮."
        },
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          }
        ],
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "liveHomeMute": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"live/home-mute\"]=t():e[\"live/home-mute\"]=t()}(self,(function(){return function(){\"use strict\";var e,t,n={569:function(e){e.exports=coreApis.spinQuery},109:function(e){e.exports=coreApis.utils}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,r),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var i=Object.create(null);r.r(i);var c={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&n;\"object\"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){c[e]=function(){return n[e]}}));return c.default=function(){return n},r.d(i,c),i},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){r.d(i,{component:function(){return o}});var e=coreApis.settings,t=coreApis.style;const n=/^https:\\/\\/live\\.bilibili\\.com\\/(index\\.html)?$/,o={name:\"liveHomeMute\",displayName:\"直播首页静音\",tags:[componentsTags.live],description:{\"zh-CN\":\"禁止直播首页的推荐直播间自动开始播放.\"},entry:async({metadata:n})=>{const o=\"hide-home-live\";(0,e.addComponentListener)(`${n.name}.hide`,(e=>{e?(0,t.addStyle)(\".player-area-ctnr,#player-header { display: none !important }\",o):(0,t.removeStyle)(o)}),!0)},options:{hide:{displayName:\"隐藏首页直播板块\",defaultValue:!1}},urlInclude:[n],plugin:{displayName:\"直播首页静音 - 提前执行\",description:{\"zh-CN\":\"提前执行代码以尽快静音.\"},async setup(){const{matchUrlPattern:e}=await Promise.resolve().then(r.t.bind(r,109,23));if(!e(n))return;const{select:t}=await Promise.resolve().then(r.t.bind(r,569,23));t(\"video\").then((e=>{e.muted=!0}))}},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "liveHomeMute",
        "displayName": "直播首页静音",
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          }
        ],
        "description": {
          "zh-CN": "禁止直播首页的推荐直播间自动开始播放."
        },
        "options": {
          "hide": {
            "displayName": "隐藏首页直播板块",
            "defaultValue": false
          }
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {
          "hide": false
        }
      }
    },
    "livePip": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"live/pip\"]=t():e[\"live/pip\"]=t()}(self,(function(){return function(){var e={580:function(e,t,n){var r=n(645)((function(e){return e[1]}));r.push([e.id,\".live-pip .be-icon {\\n  transform: scale(0.9);\\n}\",\"\"]),e.exports=r},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(e,n,r){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var o={};if(r)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[i][0];null!=c&&(o[c]=!0)}for(var a=0;a<e.length;a++){var u=[].concat(e[a]);r&&o[u[0]]||(n&&(u[2]?u[2]=\"\".concat(n,\" and \").concat(u[2]):u[2]=n),t.push(u))}},t}},379:function(e,t,n){\"use strict\";var r,o=function(){return void 0===r&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\nr=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),c=[];function a(e){for(var t=-1,n=0;n<c.length;n++)if(c[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],u=t.base?i[0]+t.base:i[0],s=n[u]||0,l=\"\".concat(u,\" \").concat(s);n[u]=s+1;var f=a(l),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(c[f].references++,c[f].updater(d)):c.push({identifier:l,updater:h(d,t),references:1}),r.push(l)}return r}function s(e){var t=document.createElement(\"style\"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),\"function\"==typeof e.insert)e.insert(t);else{var c=i(e.insert||\"head\");if(!c)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");c.appendChild(t)}return t}var l,f=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join(\"\\n\")});function d(e,t,n,r){var o=n?\"\":r.media?\"@media \".concat(r.media,\" {\").concat(r.css,\"}\"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,o);else{var i=document.createTextNode(o),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(i,c[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute(\"media\",o):e.removeAttribute(\"media\"),i&&\"undefined\"!=typeof btoa&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i)))),\" */\")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var v=null,m=0;function h(e,t){var n,r,o;if(t.singleton){var i=m++;n=v||(v=s(t)),r=d.bind(null,n,i,!1),o=d.bind(null,n,i,!0)}else n=s(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||\"boolean\"==typeof t.singleton||(t.singleton=o());var n=u(e=e||[],t);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=a(n[r]);c[o].references--}for(var i=u(e,t),s=0;s<n.length;s++){var l=a(n[s]);0===c[l].references&&(c[l].updater(),c.splice(l,1))}n=i}}}},573:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return d}});var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)(\"DefaultWidget\",{staticClass:\"live-pip\",attrs:{name:\"画中画\",icon:\"mdi-picture-in-picture-bottom-right\"},on:{click:function(t){return e.togglePip()}}})};r._withStripped=!0;var o=coreApis.ui,i=Vue.extend({components:{DefaultWidget:o.DefaultWidget},methods:{async togglePip(){document.pictureInPictureElement?document.exitPictureInPicture():dq(\"video\")?.requestPictureInPicture()}}}),c=n(379),a=n.n(c),u=n(580),s=n.n(u),l={insert:\"head\",singleton:!1};a()(s(),l),s().locals;var f=function(e,t,n,r,o,i,c,a){var u,s=\"function\"==typeof e?e.options:e;if(t&&(s.render=t,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),i&&(s._scopeId=\"data-v-\"+i),c?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(c)},s._ssrRegister=u):o&&(u=a?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),u)if(s.functional){s._injectStyles=u;var l=s.render;s.render=function(e,t){return u.call(t),l(e,t)}}else{var f=s.beforeCreate;s.beforeCreate=f?[].concat(f,u):[u]}return{exports:e,options:s}}(i,r,[],!1,null,null,null);f.options.__file=\"registry/lib/components/live/pip/LivePip.vue\";var d=f.exports}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};return function(){\"use strict\";n.d(r,{component:function(){return t}});var e=coreApis.utils.urls;const t={name:\"livePip\",displayName:\"直播画中画\",description:{\"zh-CN\":\"在直播间的功能面板中启用画中画支持, 不过现在好像 b 站已经直接支持了, 后续可能会删掉这个功能.\"},entry:none,tags:[componentsTags.live],widget:{component:()=>Promise.resolve().then(n.bind(n,573)).then((e=>e.default)),condition:()=>\"requestPictureInPicture\"in HTMLVideoElement.prototype},urlInclude:e.liveUrls,commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),r=r.component}()}));",
      "metadata": {
        "name": "livePip",
        "displayName": "直播画中画",
        "description": {
          "zh-CN": "在直播间的功能面板中启用画中画支持, 不过现在好像 b 站已经直接支持了, 后续可能会删掉这个功能."
        },
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          }
        ],
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "removeLiveWatermark": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"live/remove-watermark\"]=t():e[\"live/remove-watermark\"]=t()}(self,(function(){return function(){var e,t,n={585:function(e,t,n){var o=n(645)((function(e){return e[1]}));o.push([e.id,\".live-player-ctnr .web-player-icon-roomStatus,\\n.bilibili-live-player-video-logo {\\n  display: none !important;\\n}\",\"\"]),e.exports=o},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(e,n,o){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[i][0];null!=c&&(r[c]=!0)}for(var u=0;u<e.length;u++){var a=[].concat(e[u]);o&&r[a[0]]||(n&&(a[2]?a[2]=\"\".concat(n,\" and \").concat(a[2]):a[2]=n),t.push(a))}},t}},980:function(e,t,n){var o=n(585);o&&o.__esModule&&(o=o.default),e.exports=\"string\"==typeof o?o:o.toString()}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={id:e,exports:{}};return n[e](i,i.exports,r),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var i=Object.create(null);r.r(i);var c={};e=e||[null,t({}),t([]),t(t)];for(var u=2&o&&n;\"object\"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){c[e]=function(){return n[e]}}));return c.default=function(){return n},r.d(i,c),i},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return n}});var e=coreApis.componentApis.styledComponent,t=coreApis.utils.urls;const n={...(0,e.toggleStyle)(\"removeLiveWatermark\",(()=>Promise.resolve().then(r.t.bind(r,980,23)))),displayName:\"删除直播水印\",tags:[componentsTags.live,componentsTags.style],description:{\"zh-CN\":\"删除观看直播时角落的水印.\"},urlInclude:t.liveUrls,commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "removeLiveWatermark",
        "displayName": "删除直播水印",
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          },
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          }
        ],
        "description": {
          "zh-CN": "删除观看直播时角落的水印."
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "autoHideSidebar": {
      "code": "!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"style/auto-hide-sidebar\"]=e():t[\"style/auto-hide-sidebar\"]=e()}(self,(function(){return function(){var t,e,n={285:function(t,e,n){var o=n(645)((function(t){return t[1]}));o.push([t.id,'body .be-settings::before {\\n  content: \"\";\\n  position: fixed;\\n  width: 8px;\\n  height: 100vh;\\n  top: 0;\\n  left: 0;\\n}\\nbody .be-settings > .sidebar {\\n  transition: transform 0.2s ease-out;\\n}\\nbody .be-settings:not(:hover) > .sidebar {\\n  transform: translateX(calc(-100% * var(--direction))) translateY(-50%);\\n}\\nbody.settings-panel-dock-right .be-settings::before {\\n  left: unset;\\n  right: 0;\\n}',\"\"]),t.exports=o},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?\"@media \".concat(e[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\ne.i=function(t,n,o){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[i][0];null!=a&&(r[a]=!0)}for(var c=0;c<t.length;c++){var s=[].concat(t[c]);o&&r[s[0]]||(n&&(s[2]?s[2]=\"\".concat(n,\" and \").concat(s[2]):s[2]=n),e.push(s))}},e}},879:function(t,e,n){var o=n(285);o&&o.__esModule&&(o=o.default),t.exports=\"string\"==typeof o?o:o.toString()}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var i=o[t]={id:t,exports:{}};return n[t](i,i.exports,r),i.exports}e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var i=Object.create(null);r.r(i);var a={};t=t||[null,e({}),e([]),e(e)];for(var c=2&o&&n;\"object\"==typeof c&&!~t.indexOf(c);c=e(c))Object.getOwnPropertyNames(c).forEach((function(t){a[t]=function(){return n[t]}}));return a.default=function(){return n},r.d(i,a),i},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return t}});const t={name:\"autoHideSidebar\",entry:none,displayName:\"自动隐藏侧栏\",instantStyles:[{name:\"autoHideSidebar\",style:()=>Promise.resolve().then(r.t.bind(r,879,23)),important:!0}],tags:[componentsTags.style,componentsTags.general],description:{\"zh-CN\":\"自动隐藏脚本的侧栏 (功能和设置图标). 设置面板停靠在右侧时不建议使用, 因为网页的滚动条会占用右边缘的触发区域.\"},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "autoHideSidebar",
        "displayName": "自动隐藏侧栏",
        "tags": [
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          },
          {
            "name": "general",
            "displayName": "通用",
            "color": "#888",
            "icon": "mdi-progress-wrench",
            "order": 8
          }
        ],
        "description": {
          "zh-CN": "自动隐藏脚本的侧栏 (功能和设置图标). 设置面板停靠在右侧时不建议使用, 因为网页的滚动条会占用右边缘的触发区域."
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "elegantScrollbar": {
      "code": "!function(t,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"style/scrollbar\"]=n():t[\"style/scrollbar\"]=n()}(self,(function(){return function(){var t,n,e={858:function(t,n,e){var r=e(645)((function(t){return t[1]}));r.push([t.id,\"html ::-webkit-scrollbar {\\n  width: 5px !important;\\n  height: 5px !important;\\n}\\nhtml ::-webkit-scrollbar-corner,\\nhtml ::-webkit-scrollbar-track {\\n  background: transparent !important;\\n}\\nhtml ::-webkit-resizer,\\nhtml ::-webkit-scrollbar-thumb {\\n  background: #aaa;\\n  border-radius: 3px;\\n}\\nhtml ::-webkit-scrollbar-thumb:hover {\\n  background: #888;\\n}\\nhtml,\\nhtml * {\\n  scrollbar-color: #aaa transparent;\\n  scrollbar-width: thin !important;\\n}\",\"\"]),t.exports=r},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=t(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(e,\"}\"):e})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(t,e,r){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var o={};if(r)for(var a=0;a<this.length;a++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[a][0];null!=c&&(o[c]=!0)}for(var i=0;i<t.length;i++){var u=[].concat(t[i]);r&&o[u[0]]||(e&&(u[2]?u[2]=\"\".concat(e,\" and \").concat(u[2]):u[2]=e),n.push(u))}},n}},227:function(t,n,e){var r=e(858);r&&r.__esModule&&(r=r.default),t.exports=\"string\"==typeof r?r:r.toString()}},r={};function o(t){var n=r[t];if(void 0!==n)return n.exports;var a=r[t]={id:t,exports:{}};return e[t](a,a.exports,o),a.exports}n=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if(\"object\"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&\"function\"==typeof e.then)return e}var a=Object.create(null);o.r(a);var c={};t=t||[null,n({}),n([]),n(n)];for(var i=2&r&&e;\"object\"==typeof i&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((function(t){c[t]=function(){return e[t]}}));return c.default=function(){return e},o.d(a,c),a},o.d=function(t,n){for(var e in n)o.o(n,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var a={};return function(){\"use strict\";o.d(a,{component:function(){return t}});const t={name:\"elegantScrollbar\",entry:none,displayName:\"使用细滚动条\",description:\"使用浏览器的滚动条风格替代系统的滚动条, 不过 macOS 系统滚动条比浏览器做得好一些, 因此不建议 macOS 使用此功能.\",tags:[componentsTags.style,componentsTags.general],instantStyles:[{name:\"elegant-scrollbar\",style:()=>Promise.resolve().then(o.t.bind(o,227,23))}],commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),a=a.component}()}));",
      "metadata": {
        "name": "elegantScrollbar",
        "displayName": "使用细滚动条",
        "description": "使用浏览器的滚动条风格替代系统的滚动条, 不过 macOS 系统滚动条比浏览器做得好一些, 因此不建议 macOS 使用此功能.",
        "tags": [
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          },
          {
            "name": "general",
            "displayName": "通用",
            "color": "#888",
            "icon": "mdi-progress-wrench",
            "order": 8
          }
        ],
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "removePromotions": {
      "code": "!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"utils/remove-promotions\"]=n():e[\"utils/remove-promotions\"]=n()}(self,(function(){return function(){var e,n,t={123:function(e,n,t){var o=t(645)((function(e){return e[1]}));o.push([e.id,\"#slide_ad,\\n.v-wrap .vcd,\\n.ad-report,\\n#home_popularize .l-con,\\n#home_popularize .adpos,\\n.gg-floor-module,\\n.home-app-download,\\n.bilibili-player-promote-wrap,\\n.bili-header-m .nav-menu .nav-con .nav-item .text-red,\\n.mobile-link-l,\\n.video-page-game-card,\\n.international-home .banner-card,\\n.bypb-window .operate-card,\\n.gg-window .operate-card,\\n#reportFirst2 .extension,\\n.video-page-special-card,\\n.mascot,\\n.rank-container .cm-module,\\nbody:not(.preserve-event-banner) .activity-m,\\nbody.remove-game-match-module .bili-wrapper > .home-match,\\nbody.remove-game-match-module #reportFirst3,\\n.home-content .ad-panel,\\n.recommend-list .rec-list > :not(.video-page-card),\\n.eva-extension-area,\\n.eva-banner {\\n  display: none !important;\\n}\\n\\n.recommend-list .rec-list > :not(.video-page-card) + .video-page-card {\\n  padding-top: 0 !important;\\n}\\n\\n#home_popularize {\\n  position: relative !important;\\n}\\n\\n.popularize-module .online,\\n.gg-window .online {\\n  position: absolute !important;\\n  top: 50% !important;\\n  right: 0.5% !important;\\n  transform: translateY(-100%) !important;\\n}\\n\\n.gg-window .online {\\n  right: 0 !important;\\n  padding: 0 16px !important;\\n}\\n\\n#reportFirst2 {\\n  position: relative;\\n  margin-bottom: 4px;\\n}\\n\\n.blocked-ads {\\n  width: 440px;\\n  height: 220px;\\n  display: flex;\\n  color: #888;\\n  background-color: rgba(136,136,136,0.13333);\\n  font-size: 24pt;\\n  font-weight: bold;\\n  align-items: center;\\n  justify-content: space-evenly;\\n}\\n\\n.blocked-ads.new {\\n  width: 100%;\\n  height: 100%;\\n  background-color: #eee;\\n}\\n\\nbody.dark .blocked-ads.new {\\n  background-color: #333;\\n}\",\"\"]),e.exports=o},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(e,t,o){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[i][0];null!=a&&(r[a]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);o&&r[s[0]]||(t&&(s[2]?s[2]=\"\".concat(t,\" and \").concat(s[2]):s[2]=t),n.push(s))}},n}},775:function(e,n,t){var o=t(123);o&&o.__esModule&&(o=o.default),e.exports=\"string\"==typeof o?o:o.toString()},407:function(e){\"use strict\";e.exports=coreApis.settings},569:function(e){\"use strict\";e.exports=coreApis.spinQuery}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var i=o[e]={id:e,exports:{}};return t[e](i,i.exports,r),i.exports}n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(t,o){if(1&o&&(t=this(t)),8&o)return t;if(\"object\"==typeof t&&t){if(4&o&&t.__esModule)return t;if(16&o&&\"function\"==typeof t.then)return t}var i=Object.create(null);r.r(i);var a={};e=e||[null,n({}),n([]),n(n)];for(var c=2&o&&t;\"object\"==typeof c&&!~e.indexOf(c);c=n(c))Object.getOwnPropertyNames(c).forEach((function(e){a[e]=function(){return t[e]}}));return a.default=function(){return t},r.d(i,a),i},r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return e}});const e={name:\"removePromotions\",displayName:\"删除广告\",entry:async({settings:e,metadata:n})=>{const{addComponentListener:t}=await Promise.resolve().then(r.t.bind(r,407,23));if(\"https://www.bilibili.com/\"===document.URL.replace(window.location.search,\"\")){const{selectAll:n,select:t}=await Promise.resolve().then(r.t.bind(r,569,23));t(\".eva-extension-area\").then((e=>{e&&(e.parentElement.style.margin=\"12px\")})),n(\".gg-pic\").then((n=>{0!==n.length&&n.forEach((n=>{const t=n.parentElement;t.style.display=\"none\";const o=[...t.parentElement.childNodes].indexOf(t)+1,r=t.parentElement.parentElement.querySelector(`.pic li:nth-child(${o})`);if(r){r.style.display=\"flex\";const n=r.querySelector(\"a:not(.more-text)\");n.insertAdjacentHTML(\"afterend\",`\\n            <div class=\"blocked-ads\">${e.options.showPlaceholder?\"🚫已屏蔽广告\":\"\"}</div>\\n          `),n.style.visibility=\"hidden\";[r.querySelector(\"a.more-text\"),r.querySelector(\"img\")].forEach((e=>e.style.display=\"none\"))}}))})),t(\".focus-carousel.home-slide\").then((n=>{n&&dqa(n,\".gg-icon,.bypb-icon\").map((e=>e.parentElement.parentElement)).forEach((n=>{n.style.display=\"none\",n.insertAdjacentHTML(\"afterend\",`\\n            <div class=\"blocked-ads new\">${e.options.showPlaceholder?\"🚫已屏蔽广告\":\"\"}</div>\\n          `)}))}))}t(`${n.name}.preserveEventBanner`,(e=>{document.body.classList.toggle(\"preserve-event-banner\",e)}),!0)},instantStyles:[{name:\"removePromotions\",style:()=>Promise.resolve().then(r.t.bind(r,775,23))}],tags:[componentsTags.utils],description:{\"zh-CN\":'\\n删除站内的各种广告. 包括首页的推广模块, 手机 app 推荐, 视频页面右侧的广告等. 注意: 首页推广模块删除后留下空白区域是正常现象, 如果觉得怪可以开启 `占位文本` 选项.\\n\\n- `占位文本`: 删除首页推广模块的广告后显示\"🚫已屏蔽广告\"来替代空白区域.\\n- `保留活动横幅`: 保留视频页面的活动横幅.\\n'.trim()},options:{showPlaceholder:{displayName:\"占位文本\",defaultValue:!0},preserveEventBanner:{displayName:\"保留活动横幅\",defaultValue:!1}},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "removePromotions",
        "displayName": "删除广告",
        "tags": [
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          }
        ],
        "description": {
          "zh-CN": "删除站内的各种广告. 包括首页的推广模块, 手机 app 推荐, 视频页面右侧的广告等. 注意: 首页推广模块删除后留下空白区域是正常现象, 如果觉得怪可以开启 `占位文本` 选项.\n\n- `占位文本`: 删除首页推广模块的广告后显示\"🚫已屏蔽广告\"来替代空白区域.\n- `保留活动横幅`: 保留视频页面的活动横幅."
        },
        "options": {
          "showPlaceholder": {
            "displayName": "占位文本",
            "defaultValue": true
          },
          "preserveEventBanner": {
            "displayName": "保留活动横幅",
            "defaultValue": false
          }
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {
          "showPlaceholder": true,
          "preserveEventBanner": false
        }
      }
    },
    "columnUnlock": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"utils/column-unlock\"]=t():e[\"utils/column-unlock\"]=t()}(self,(function(){return function(){\"use strict\";var e,t,o={163:function(e){e.exports=coreApis.style}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var c=n[e]={exports:{}};return o[e](c,c.exports,r),c.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(o,n){if(1&n&&(o=this(o)),8&n)return o;if(\"object\"==typeof o&&o){if(4&n&&o.__esModule)return o;if(16&n&&\"function\"==typeof o.then)return o}var c=Object.create(null);r.r(c);var u={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&o;\"object\"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){u[e]=function(){return o[e]}}));return u.default=function(){return o},r.d(c,u),c},r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var c={};return function(){r.d(c,{component:function(){return u}});let e=!1,t=!0;const o=\"column-unlock\",n=async()=>{t=!0;const{addStyle:n}=await Promise.resolve().then(r.t.bind(r,163,23));n(\".article-holder { user-select: text !important }\",o),e||(e=!0,document.addEventListener(\"copy\",(e=>{t&&e.stopImmediatePropagation()}),{capture:!0}))},u={name:\"columnUnlock\",displayName:\"专栏文字选择\",entry:n,reload:n,unload:async()=>{document.getElementById(o)?.remove(),t=!1},tags:[componentsTags.utils],description:{\"zh-CN\":\"使专栏的文字可以选择.\"},urlInclude:[\"//www.bilibili.com/read/\"],commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),c=c.component}()}));",
      "metadata": {
        "name": "columnUnlock",
        "displayName": "专栏文字选择",
        "tags": [
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          }
        ],
        "description": {
          "zh-CN": "使专栏的文字可以选择."
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "urlParamsClean": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"utils/url-params-clean\"]=t():e[\"utils/url-params-clean\"]=t()}(self,(function(){return function(){\"use strict\";var e,t,r={270:function(e){e.exports=coreApis.lifeCycle},156:function(e){e.exports=coreApis.observer}},o={};function n(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return r[e](i,i.exports,n),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if(\"object\"==typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&\"function\"==typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;\"object\"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(i,a),i},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){n.d(i,{component:function(){return r}});var e=coreApis.pluginApis.data,t=coreApis.utils;const r={name:\"urlParamsClean\",displayName:\"网址参数清理\",entry:async()=>{if((0,t.isNotHtml)())return;const[r]=(0,e.registerAndGetData)(\"urlParamsClean.noClean\",[\"videocard_series\"]),[o]=(0,e.registerAndGetData)(\"urlParamsClean.params\",[\"spm_id_from\",\"from_source\",\"from_spmid\",\"from\",\"seid\",\"share_source\",\"share_medium\",\"share_plat\",\"share_tag\",\"share_session_id\",\"bbid\",\"ts\",\"timestamp\",\"unique_k\",\"rt\",\"tdsourcetag\",\"accept_quality\",\"broadcast_type\",\"current_qn\",\"current_quality\",\"playurl_h264\",\"playurl_h265\",\"quality_description\",\"network\",\"network_status\",\"platform_network_status\",\"p2p_type\",\"referfrom\",\"visit_id\",\"bsource\",\"spm\",\"hotRank\"]),[i]=(0,e.registerAndGetData)(\"urlParamsClean.siteSpecifiedParams\",[{match:/\\/\\/www\\.bilibili\\.com\\/audio\\/(au[\\d]+|mycollection)/,param:\"type\"},{match:/\\/\\/live\\.bilibili\\.com\\//,param:\"session_id\"},{match:/\\/\\/www\\.bilibili\\.com\\/bangumi\\//,param:\"theme\"}]),{fullyLoaded:a}=await Promise.resolve().then(n.t.bind(n,270,23)),{urlChange:s}=await Promise.resolve().then(n.t.bind(n,156,23));a((()=>{\"text/html\"===document.contentType&&s((()=>(()=>{const e=window.location.search.substring(1).split(\"&\");if(e.some((e=>r.some((t=>e.includes(t))))))return;const t=e.filter((e=>!o.some((t=>e.startsWith(`${t}=`)))&&!i.some((({match:t,param:r})=>document.URL.match(t)&&e.startsWith(`${r}=`))))).join(\"&\"),n=document.URL.replace(window.location.search,\"\")+(t?`?${t}`:\"\");n!==document.URL&&(console.log(\"[URL params clean]\",document.URL,n),window.history.replaceState({},document.title,n))})()))}))},description:{\"zh-CN\":\"自动删除网址中的多余跟踪参数.\"},tags:[componentsTags.utils],urlExclude:[/game\\.bilibili\\.com\\/fgo/],commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "urlParamsClean",
        "displayName": "网址参数清理",
        "description": {
          "zh-CN": "自动删除网址中的多余跟踪参数."
        },
        "tags": [
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          }
        ],
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "keymap": {
      "code": "!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"utils/keymap\"]=n():e[\"utils/keymap\"]=n()}(self,(function(){return function(){var e,n,t={323:function(e,n,t){\"use strict\";t.d(n,{Nw:function(){return u},vN:function(){return l},$j:function(){return s},kW:function(){return d}});var i=coreApis.componentApis.video.playerAgent,r=t(407),o=t(269);const s=(e,n)=>{const{event:t}=n,i=new MouseEvent(\"click\",{...lodash.pick(t,\"ctrlKey\",\"shiftKey\",\"altKey\",\"metaKey\")});if(\"string\"==typeof e){const n=dq(e);if(!n)return!1;n.dispatchEvent(i)}else{if(!e)return!1;e.dispatchEvent(i)}return!0},a=e=>n=>s(e,n),l=e=>()=>i.playerAgent.changeTime(\"number\"==typeof e?e:e());let c;const d=async(e,n)=>{let t=dq(\".keymap-tip\");if(!t){const r=await i.playerAgent.query.playerArea();if(!r)return;r.insertAdjacentHTML(\"afterbegin\",`\\n      <div class=\"keymap-tip-container\">\\n        <i class=\"keymap-tip-icon mdi ${n}\"></i>\\n        <div class=\"keymap-tip\">${e}</div>\\n      </div>\\n    `),t=dq(\".keymap-tip\")}t.innerHTML=e;const r=dq(\".keymap-tip-container\"),o=dq(r,\".mdi\");o.classList.remove(...o.classList.values()),o.classList.add(\"mdi\",n),c&&clearTimeout(c),r.classList.add(\"show\"),c=window.setTimeout((()=>{r.classList.remove(\"show\")}),2e3)},p={fullscreen:{displayName:\"全屏\",run:()=>i.playerAgent.fullscreen()},webFullscreen:{displayName:\"网页全屏\",run:()=>i.playerAgent.webFullscreen()},wideScreen:{displayName:\"宽屏\",run:()=>i.playerAgent.widescreen()},volumeUp:{displayName:\"增加音量\",run:()=>{const e=i.playerAgent.changeVolume(10);return lodash.isNil(e)?e:(d(`${e}%`,\"mdi-volume-high\"),!0)}},volumeDown:{displayName:\"降低音量\",run:()=>{const e=i.playerAgent.changeVolume(-10);return lodash.isNil(e)?e:(0===e?d(\"静音\",\"mdi-volume-off\"):d(`${e}%`,\"mdi-volume-high\"),!0)}},mute:{displayName:\"静音\",run:()=>{const e=i.playerAgent.toggleMute();return lodash.isNil(e)?e:(e?d(\"已静音\",\"mdi-volume-off\"):d(\"已取消静音\",\"mdi-volume-high\"),!0)}},pictureInPicture:{displayName:\"画中画\",run:()=>i.playerAgent.togglePip()},coin:{displayName:\"投币\",run:a(\".video-toolbar .coin,.tool-bar .coin-info, .video-toolbar-module .coin-box, .play-options-ul > li:nth-child(2)\")},favorite:{displayName:\"收藏\",run:a(\".video-toolbar .collect, .video-toolbar-module .fav-box, .play-options-ul > li:nth-child(3)\")},pause:{displayName:\"暂停/播放\",run:()=>i.playerAgent.togglePlay()},like:{displayName:\"点赞\",run:(()=>{let e=!0;return n=>{const{event:t}=n,i=dq(\".video-toolbar .like, .tool-bar .like-info\");if(!i)return!1;t.preventDefault();const r=(e,n)=>{const t=new CustomEvent(e,n);i.dispatchEvent(t)};return e=!0,setTimeout((()=>e=!1),200),r(\"mousedown\",t),document.body.addEventListener(\"keyup\",(n=>{n.preventDefault(),r(\"mouseup\",n),e&&r(\"click\",n)}),{once:!0}),!0}})()},danmaku:{displayName:\"弹幕开关\",run:()=>i.playerAgent.toggleDanmaku()},longJumpBackward:{displayName:\"长倒退\",run:()=>i.playerAgent.changeTime(-(0,r.getComponentSettings)(\"keymap\").options.longJumpSeconds)},longJumpForward:{displayName:\"长前进\",run:()=>i.playerAgent.changeTime((0,r.getComponentSettings)(\"keymap\").options.longJumpSeconds)},jumpBackward:{displayName:\"倒退\",run:()=>i.playerAgent.changeTime(-5)},jumpForward:{displayName:\"前进\",run:()=>i.playerAgent.changeTime(5)},playerMenu:{displayName:\"播放器菜单\",run:()=>{const e=i.playerAgent.query.video.container.sync();if(!e)return null;const n=e.getBoundingClientRect();return e.dispatchEvent(new MouseEvent(\"contextmenu\",{bubbles:!0,cancelable:!1,view:unsafeWindow,button:2,buttons:0,clientX:n.x+n.width/2-88.325,clientY:n.y+n.height/2-97})),!0}},seekBegin:{displayName:\"回开头\",run:()=>i.playerAgent.seek(0)},sendComment:{displayName:\"发送评论\",ignoreTyping:!1,run:()=>{const e=document.activeElement?.nextElementSibling;return e?(e.click(),!0):null}}},[u]=(0,o.registerAndGetData)(\"keymap.actions\",p)},445:function(e,n,t){\"use strict\";t.d(n,{Wb:function(){return r},um:function(){return o}});var i=t(269);const r={fullscreen:\"f\",webFullscreen:\"w\",wideScreen:\"t\",volumeUp:\"arrowUp\",volumeDown:\"arrowDown\",mute:\"m\",pictureInPicture:\"p\",coin:\"c\",favorite:\"s\",pause:\"space\",like:\"l\",playerMenu:\"`\",longJumpForward:\"j\",longJumpBackward:\"shift j\",jumpBackward:\"arrowLeft\",jumpForward:\"arrowRight\",danmaku:\"d\",seekBegin:\"0\",sendComment:\"ctrl enter\"},[,o]=(0,i.registerAndGetData)(\"keymap.presets\",r,{Default:{},YouTube:{like:\"\",pause:\"space k\",longJumpForward:\"l\",longJumpBackward:\"j\",seekBegin:\"0 Home\"},HTML5Player:{coin:\"shift c\",danmaku:\"shift d\",fullscreen:\"enter\",webFullscreen:\"shift enter\",pictureInPicture:\"shift p\",longJumpBackward:\"ctrl arrowLeft\",longJumpForward:\"ctrl arrowRight\"},PotPlayer:{coin:\"shift c\",danmaku:\"shift d\",fullscreen:\"enter\",webFullscreen:\"6\",longJumpBackward:\"ctrl arrowLeft\",longJumpForward:\"ctrl arrowRight\",seekBegin:\"backspace\"}})},527:function(e,n,t){\"use strict\";t.r(n),t.d(n,{loadKeymapSettings:function(){return o},toggleKeymapSettings:function(){return s}});var i=t(109);let r;const o=async e=>{if(r)return;const n=await Promise.resolve().then(t.bind(t,166)).then((e=>e.default));r=(0,i.mountVueComponent)(n),e&&(r.triggerElement=e),document.body.insertAdjacentElement(\"beforeend\",r.$el)},s=async e=>{r||await o(e),r.popupOpen=!r.popupOpen}},298:function(e,n,t){var i=t(645)((function(e){return e[1]}));i.push([e.id,\".keymap-extra-options {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  justify-content: center;\\n}\\n.keymap-extra-options .keymap-settings-button .be-icon {\\n  margin-right: 8px;\\n}\",\"\"]),e.exports=i},418:function(e,n,t){var i=t(645)((function(e){return e[1]}));i.push([e.id,\".keymap-settings-popup {\\n  background-color: #fff;\\n  color: black;\\n  border-radius: 8px;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.05);\\n  border: 1px solid rgba(136,136,136,0.13333);\\n  box-sizing: border-box;\\n  transition: 0.2s ease-out;\\n  width: 550px;\\n  top: 50%;\\n  left: 50%;\\n  z-index: 100002;\\n  transform: translateX(-50%) translateY(-50%) scale(0.9);\\n  display: flex;\\n  flex-direction: column;\\n}\\nbody.dark .keymap-settings-popup {\\n  background-color: #282828;\\n  color: #eee;\\n  box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.2);\\n}\\nbody.dark .keymap-settings-popup {\\n  background-color: #222;\\n}\\n.keymap-settings-popup.open {\\n  transform: translateX(-50%) translateY(-50%) scale(1);\\n}\\n.keymap-settings {\\n  font-size: 12px;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 12px 12px 0 18px;\\n}\\n.keymap-settings-header {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  margin-bottom: 8px;\\n}\\n.keymap-settings-header-title {\\n  flex: 1 0 auto;\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n.keymap-settings-header-title .be-icon {\\n  margin-right: 6px;\\n}\\n.keymap-settings-header-help, .keymap-settings-header-close {\\n  display: flex;\\n  padding: 6px;\\n  cursor: pointer;\\n  transition: 0.2s ease-out;\\n  color: inherit;\\n}\\n.keymap-settings-header-help:hover, .keymap-settings-header-close:hover {\\n  color: var(--theme-color);\\n}\\n.keymap-settings-content {\\n  flex: 1 0 auto;\\n  max-height: calc(100vh - 200px);\\n  overflow: auto;\\n  padding-bottom: 12px;\\n}\\n.keymap-settings-content .keymap-settings-grid .grid-header,\\n.keymap-settings-content .keymap-settings-grid .grid-row {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  grid-gap: 8px;\\n  gap: 8px;\\n  justify-content: space-between;\\n  height: 24px;\\n  box-sizing: content-box;\\n}\\n.keymap-settings-content .keymap-settings-grid .grid-header > *,\\n.keymap-settings-content .keymap-settings-grid .grid-row > * {\\n  flex: 1 0 0;\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n}\\n.keymap-settings-content .keymap-settings-grid .grid-header {\\n  margin-bottom: 4px;\\n  padding: 4px 0 6px 0;\\n  border-bottom: 1px solid rgba(136,136,136,0.13333);\\n  position: sticky;\\n  top: 0;\\n  z-index: 1;\\n  background-color: #fff;\\n}\\nbody.dark .keymap-settings-content .keymap-settings-grid .grid-header {\\n  background-color: #222;\\n}\",\"\"]),e.exports=i},88:function(e,n,t){var i=t(645)((function(e){return e[1]}));i.push([e.id,\".keymap-settings-grid .grid-row {\\n  padding: 2px 0;\\n}\\n.keymap-settings-grid .grid-row .row-name,\\n.keymap-settings-grid .grid-row .row-default-binding,\\n.keymap-settings-grid .grid-row .row-preset-binding {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  overflow: auto;\\n  scrollbar-width: none !important;\\n  overscroll-behavior: contain;\\n}\\n.keymap-settings-grid .grid-row .row-name::-webkit-scrollbar,\\n.keymap-settings-grid .grid-row .row-default-binding::-webkit-scrollbar,\\n.keymap-settings-grid .grid-row .row-preset-binding::-webkit-scrollbar {\\n  height: 0 !important;\\n  width: 0 !important;\\n}\\n.keymap-settings-grid .grid-row .row-name.not-set, .keymap-settings-grid .grid-row .row-name.overwritten,\\n.keymap-settings-grid .grid-row .row-default-binding.not-set,\\n.keymap-settings-grid .grid-row .row-default-binding.overwritten,\\n.keymap-settings-grid .grid-row .row-preset-binding.not-set,\\n.keymap-settings-grid .grid-row .row-preset-binding.overwritten {\\n  opacity: 0.25;\\n}\\n.keymap-settings-grid .grid-row .row-custom-binding .be-button {\\n  padding: 4px;\\n  margin-right: 4px;\\n}\\n.keymap-settings-grid .grid-row .row-custom-binding .be-icon {\\n  margin: 0;\\n}\\n.keymap-settings-grid .grid-row .row-custom-binding .be-textbox {\\n  margin-right: 6px;\\n  flex: 1 0 auto;\\n}\\n.keymap-settings-grid .grid-row .row-custom-binding .custom-binding-edit,\\n.keymap-settings-grid .grid-row .row-custom-binding .custom-binding-add {\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 0;\\n  gap: 0;\\n  flex: 1 0 auto;\\n}\",\"\"]),e.exports=i},156:function(e,n,t){var i=t(645)((function(e){return e[1]}));i.push([e.id,\".keymap-tip-container {\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  transform: translate(-50%, -50%);\\n  padding: 8px 16px;\\n  background-color: rgba(0,0,0,0.66667);\\n  color: white;\\n  pointer-events: none;\\n  opacity: 0;\\n  z-index: 100;\\n  display: flex;\\n  align-items: center;\\n  font-size: 14pt;\\n  border-radius: 4px;\\n  transition: 0.2s ease-out;\\n}\\nbody.player-mode-blackmask .keymap-tip-container {\\n  z-index: 10017;\\n}\\n.keymap-tip-container.show {\\n  opacity: 1;\\n}\\n.keymap-tip-container i {\\n  line-height: 1;\\n  margin-right: 8px;\\n  font-size: 18pt;\\n}\\n\\n.bilibili-player .bilibili-player-area .bilibili-player-video-wrap .bilibili-player-volumeHint {\\n  background-color: rgba(0,0,0,0.66667);\\n  color: white;\\n}\\n.bilibili-player .bilibili-player-area .bilibili-player-video-wrap .bilibili-player-volumeHint-icon {\\n  line-height: 1;\\n}\",\"\"]),e.exports=i},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(e,t,i){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(i)for(var o=0;o<this.length;o++){\n// eslint-disable-next-line prefer-destructuring\nvar s=this[o][0];null!=s&&(r[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);i&&r[l[0]]||(t&&(l[2]?l[2]=\"\".concat(t,\" and \").concat(l[2]):l[2]=t),n.push(l))}},n}},379:function(e,n,t){\"use strict\";var i,r=function(){return void 0===i&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\ni=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),s=[];function a(e){for(var n=-1,t=0;t<s.length;t++)if(s[t].identifier===e){n=t;break}return n}function l(e,n){for(var t={},i=[],r=0;r<e.length;r++){var o=e[r],l=n.base?o[0]+n.base:o[0],c=t[l]||0,d=\"\".concat(l,\" \").concat(c);t[l]=c+1;var p=a(d),u={css:o[1],media:o[2],sourceMap:o[3]};-1!==p?(s[p].references++,s[p].updater(u)):s.push({identifier:d,updater:y(u,n),references:1}),i.push(d)}return i}function c(e){var n=document.createElement(\"style\"),i=e.attributes||{};if(void 0===i.nonce){var r=t.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){n.setAttribute(e,i[e])})),\"function\"==typeof e.insert)e.insert(n);else{var s=o(e.insert||\"head\");if(!s)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");s.appendChild(n)}return n}var d,p=(d=[],function(e,n){return d[e]=n,d.filter(Boolean).join(\"\\n\")});function u(e,n,t,i){var r=t?\"\":i.media?\"@media \".concat(i.media,\" {\").concat(i.css,\"}\"):i.css;if(e.styleSheet)e.styleSheet.cssText=p(n,r);else{var o=document.createTextNode(r),s=e.childNodes;s[n]&&e.removeChild(s[n]),s.length?e.insertBefore(o,s[n]):e.appendChild(o)}}function g(e,n,t){var i=t.css,r=t.media,o=t.sourceMap;if(r?e.setAttribute(\"media\",r):e.removeAttribute(\"media\"),o&&\"undefined\"!=typeof btoa&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o)))),\" */\")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var m=null,f=0;function y(e,n){var t,i,r;if(n.singleton){var o=f++;t=m||(m=c(n)),i=u.bind(null,t,o,!1),r=u.bind(null,t,o,!0)}else t=c(n),i=g.bind(null,t,n),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return i(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;i(e=n)}else r()}}e.exports=function(e,n){(n=n||{}).singleton||\"boolean\"==typeof n.singleton||(n.singleton=r());var t=l(e=e||[],n);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var i=0;i<t.length;i++){var r=a(t[i]);s[r].references--}for(var o=l(e,n),c=0;c<t.length;c++){var d=a(t[c]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}t=o}}}},224:function(e,n,t){var i=t(156);i&&i.__esModule&&(i=i.default),e.exports=\"string\"==typeof i?i:i.toString()},708:function(e,n,t){\"use strict\";t.r(n),t.d(n,{default:function(){return g}});var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"div\",{staticClass:\"keymap-extra-options\"},[t(\"VButton\",{ref:\"button\",staticClass:\"keymap-settings-button\",on:{mouseover:function(n){return e.loadSettings()},click:function(n){return e.toggleSettings()}}},[t(\"VIcon\",{attrs:{icon:\"mdi-keyboard-settings-outline\",size:18}}),e._v(\"\\n    快捷键设置\\n  \")],1)],1)};i._withStripped=!0;var r=t(643),o=t(527),s=Vue.extend({components:{VButton:r.VButton,VIcon:r.VIcon},data:()=>({popupOpen:!1}),methods:{async loadSettings(){await(0,o.loadKeymapSettings)(this.$refs.button)},async toggleSettings(){await(0,o.toggleKeymapSettings)(this.$refs.button)}}}),a=t(379),l=t.n(a),c=t(298),d=t.n(c),p={insert:\"head\",singleton:!1},u=(l()(d(),p),d().locals,(0,t(900).Z)(s,i,[],!1,null,null,null));u.options.__file=\"registry/lib/components/utils/keymap/settings/ExtraOptions.vue\";var g=u.exports},166:function(e,n,t){\"use strict\";t.r(n),t.d(n,{default:function(){return B}});var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"VPopup\",{staticClass:\"keymap-settings-popup be-settings-extra-options\",attrs:{fixed:\"\",\"trigger-element\":e.triggerElement},model:{value:e.popupOpen,callback:function(n){e.popupOpen=n},expression:\"popupOpen\"}},[t(\"div\",{staticClass:\"keymap-settings\"},[t(\"div\",{staticClass:\"keymap-settings-header\"},[t(\"div\",{staticClass:\"keymap-settings-header-title\"},[t(\"VIcon\",{attrs:{icon:\"mdi-keyboard-settings-outline\"}}),e._v(\"\\n        快捷键设置\\n      \")],1),e._v(\" \"),t(\"a\",{staticClass:\"keymap-settings-header-help\",attrs:{href:\"https://github.com/the1812/Bilibili-Evolved/blob/preview/registry/lib/components/utils/keymap/help.md\",target:\"_blank\",title:\"查看帮助\"}},[t(\"VIcon\",{attrs:{size:18,icon:\"mdi-help-circle-outline\"}})],1),e._v(\" \"),t(\"div\",{staticClass:\"keymap-settings-header-close\",attrs:{title:\"关闭\"}},[t(\"VIcon\",{attrs:{size:18,icon:\"close\"},on:{click:function(n){e.popupOpen=!1}}})],1)]),e._v(\" \"),t(\"div\",{staticClass:\"keymap-settings-content\"},[t(\"div\",{staticClass:\"keymap-settings-grid\"},[t(\"div\",{staticClass:\"grid-header\"},[t(\"div\",{staticClass:\"header-name\"},[e._v(\"\\n            动作\\n          \")]),e._v(\" \"),t(\"div\",{staticClass:\"header-default-binding\"},[e._v(\"\\n            默认按键\\n          \")]),e._v(\" \"),t(\"div\",{staticClass:\"header-preset-binding\"},[t(\"VDropdown\",{attrs:{items:e.presetOptions,\"key-mapper\":function(e){return e}},scopedSlots:e._u([{key:\"item\",fn:function(n){var t=n.item;return[e._v(\"\\n                \"+e._s(t)+\"\\n              \")]}}]),model:{value:e.selectedPreset,callback:function(n){e.selectedPreset=n},expression:\"selectedPreset\"}})],1),e._v(\" \"),t(\"div\",{staticClass:\"header-custom-binding\"},[e._v(\"\\n            自定义按键\\n          \")])]),e._v(\" \"),e._l(e.rows,(function(n){return t(\"KeymapSettingsRow\",{key:n.name,attrs:{row:n,\"selected-preset\":e.selectedPreset}})}))],2)])])])};i._withStripped=!0;var r=t(407),o=t(643),s=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"div\",{staticClass:\"grid-row\"},[t(\"div\",{staticClass:\"row-name\",attrs:{title:e.row.name}},[e._v(\"\\n    \"+e._s(e.row.displayName)+\"\\n  \")]),e._v(\" \"),t(\"div\",{staticClass:\"row-default-binding\",class:{overwritten:e.isOverwrittern(e.presets[e.selectedPreset],e.customKeyBindings),\"not-set\":void 0===e.presetBase[e.row.name]}},[e._v(\"\\n    \"+e._s(e.showReadonlyKey(e.presetBase))+\"\\n  \")]),e._v(\" \"),t(\"div\",{staticClass:\"row-preset-binding\",class:{overwritten:e.isOverwrittern(e.customKeyBindings),\"not-set\":void 0===e.presets[e.selectedPreset][e.row.name]}},[e._v(\"\\n    \"+e._s(e.showReadonlyKey(e.presets[e.selectedPreset]))+\"\\n  \")]),e._v(\" \"),t(\"div\",{staticClass:\"row-custom-binding\"},[e.editable?t(\"div\",{staticClass:\"custom-binding-edit\"},[t(\"TextBox\",{ref:\"customBindingTextBox\",attrs:{placeholder:\"禁用\",\"change-on-blur\":\"\",text:e.customKeyBindings[e.row.name]},on:{change:e.updateCustomBinding}}),e._v(\" \"),t(\"VButton\",{attrs:{type:\"transparent\",title:\"删除自定义键位\"},on:{click:function(n){return e.removeCustomBinding()}}},[t(\"VIcon\",{attrs:{icon:\"mdi-trash-can-outline\",size:16}})],1)],1):t(\"div\",{staticClass:\"custom-binding-add\"},[t(\"VButton\",{attrs:{type:\"transparent\",title:\"添加自定义键位\"},on:{click:function(n){return e.addCustomBinding()}}},[t(\"VIcon\",{attrs:{icon:\"mdi-plus\",size:16}})],1)],1)])])};s._withStripped=!0;var a=t(445);const l=(0,r.getComponentSettings)(\"keymap\").options;var c=Vue.extend({components:{TextBox:o.TextBox,VButton:o.VButton,VIcon:o.VIcon},props:{row:{type:Object,required:!0},selectedPreset:{type:String,required:!0}},data:()=>({presets:a.um,presetBase:a.Wb,customKeyBindings:l.customKeyBindings,editable:!1}),created(){this.checkEditable()},methods:{checkEditable(){this.editable=void 0!==this.customKeyBindings[this.row.name]},showReadonlyKey(e){const{name:n}=this.row,t=e[n];return void 0===t?\"继承\":\"\"===t?\"禁用\":t},isOverwrittern(...e){const{name:n}=this.row;return e.some((e=>void 0!==e[n]))},async addCustomBinding(){const{name:e}=this.row;this.customKeyBindings[e]=\"\",this.checkEditable(),await this.$nextTick(),this.$refs.customBindingTextBox.focus()},removeCustomBinding(){const{name:e}=this.row;delete this.customKeyBindings[e],this.checkEditable()},updateCustomBinding(e){console.log(\"update\",e);const{name:n}=this.row;this.customKeyBindings[n]=e}}}),d=t(379),p=t.n(d),u=t(88),g=t.n(u),m={insert:\"head\",singleton:!1},f=(p()(g(),m),g().locals,t(900)),y=(0,f.Z)(c,s,[],!1,null,null,null);y.options.__file=\"registry/lib/components/utils/keymap/settings/KeymapSettingsRow.vue\";var h=y.exports,b=t(323);const v=(0,r.getComponentSettings)(\"keymap\").options;console.log(a.um,b.Nw,v.preset,v.customKeyBindings);var w=Vue.extend({components:{VIcon:o.VIcon,VDropdown:o.VDropdown,VPopup:o.VPopup,KeymapSettingsRow:h},props:{triggerElement:{type:HTMLElement,default:null}},data:()=>({popupOpen:!1,actions:b.Nw,presets:a.um,customKeyBindings:v.customKeyBindings}),computed:{selectedPreset:{get:()=>v.preset,set(e){v.preset=e}},rows(){return Object.entries(this.actions).map((([e,n])=>({name:e,...n})))},presetOptions(){return Object.keys(this.presets)}}}),k=t(418),x=t.n(k),_={insert:\"head\",singleton:!1},C=(p()(x(),_),x().locals,(0,f.Z)(w,i,[],!1,null,null,null));C.options.__file=\"registry/lib/components/utils/keymap/settings/KeymapSettings.vue\";var B=C.exports},900:function(e,n,t){\"use strict\";function i(e,n,t,i,r,o,s,a){var l,c=\"function\"==typeof e?e.options:e;if(n&&(c.render=n,c.staticRenderFns=t,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId=\"data-v-\"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,n){return l.call(n),d(e,n)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:c}}t.d(n,{Z:function(){return i}})},269:function(e){\"use strict\";e.exports=coreApis.pluginApis.data},407:function(e){\"use strict\";e.exports=coreApis.settings},643:function(e){\"use strict\";e.exports=coreApis.ui},109:function(e){\"use strict\";e.exports=coreApis.utils}},i={};function r(e){var n=i[e];if(void 0!==n)return n.exports;var o=i[e]={id:e,exports:{}};return t[e](o,o.exports,r),o.exports}r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,{a:n}),n},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(t,i){if(1&i&&(t=this(t)),8&i)return t;if(\"object\"==typeof t&&t){if(4&i&&t.__esModule)return t;if(16&i&&\"function\"==typeof t.then)return t}var o=Object.create(null);r.r(o);var s={};e=e||[null,n({}),n([]),n(n)];for(var a=2&i&&t;\"object\"==typeof a&&!~e.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((function(e){s[e]=function(){return t[e]}}));return s.default=function(){return t},r.d(o,s),o},r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var o={};return function(){\"use strict\";r.d(o,{component:function(){return u}});var e=coreApis.componentApis.styledComponent,n=r(407),t=r(323),i=r(109),s=coreApis.utils.urls;const a=[\"shift\",\"alt\",\"ctrl\",\"meta\"],l=lodash.once((e=>{const n=s.watchlaterUrls.some((e=>(0,i.matchUrlPattern)(e))),r=s.mediaListUrls.some((e=>(0,i.matchUrlPattern)(e))),o={enable:!0,bindings:e};return document.body.addEventListener(\"keydown\",(e=>{o.enable&&o.bindings.forEach((o=>{if(0===o.keys.length)return;if(!1!==o.action.ignoreTyping&&(0,i.isTyping)())return;const s=e.key.toLowerCase(),l=dq(\".bilibili-player-sphere-control\");if(null!==l&&\"none\"!==l.style.display&&[\"w\",\"a\",\"s\",\"d\"].includes(s))return;if(a.some((n=>{const t=o.keys.includes(n);if(o.keys.includes(`[${n}]`))return!1;return t!==e[`${n}Key`]})))return;const c=o.keys.filter((e=>!a.includes(e.toLowerCase()))).map((e=>e.toLowerCase()));if(!(c.includes(e.key.toLowerCase())||c.includes(e.code.toLowerCase())))return;const d=o.action.run({binding:o,isWatchlater:n,isMediaList:r,event:e,clickElement:t.$j,changeVideoTime:t.vN,showTip:t.kW}),p=!lodash.isNil(d);(o.action.prevent??p)&&(e.stopPropagation(),e.preventDefault())}))})),o}));var c=r(445);let d=null;const p=(0,e.styledComponentEntry)((()=>Promise.resolve().then(r.t.bind(r,224,23))),(async({settings:e})=>{const i=()=>{const n=e.options.preset,i=c.um[n]||{},r=(e=>Object.entries(e).map((([e,n])=>({keys:n.split(\" \").filter((e=>\"\"!==e)),action:t.Nw[e]||none}))))({...c.Wb,...i,...e.options.customKeyBindings});d?d.bindings=r:d=l(r)};(0,n.addComponentListener)(\"keymap.preset\",i,!0),(0,n.addComponentListener)(\"keymap.customKeyBindings\",i)})),u={name:\"keymap\",displayName:\"快捷键扩展\",tags:[componentsTags.video,componentsTags.utils],entry:p,unload:()=>{d&&(d.enable=!1)},reload:()=>{d&&(d.enable=!0)},description:{\"zh-CN\":\"为脚本的功能和 b 站的功能启用键盘快捷键支持, 快捷键列表可在`快捷键设置`中查看和配置.\"},extraOptions:()=>Promise.resolve().then(r.bind(r,708)).then((e=>e.default)),options:{longJumpSeconds:{defaultValue:85,displayName:\"长跳跃秒数\"},customKeyBindings:{defaultValue:{},displayName:\"自定义键位\",hidden:!0},preset:{defaultValue:\"Default\",displayName:\"预设\",hidden:!0}},plugin:{displayName:\"快捷键扩展 - 搜索支持\",setup:({addData:e})=>{e(\"launchBar.actions\",(e=>{e.push({name:\"keymapSettings\",getActions:async()=>[{name:\"快捷键扩展设置\",description:\"Keymap Settings\",icon:\"mdi-keyboard-settings-outline\",action:async()=>{const{toggleKeymapSettings:e}=await Promise.resolve().then(r.bind(r,527));e()}}]})}))}},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),o=o.component}()}));",
      "metadata": {
        "name": "keymap",
        "displayName": "快捷键扩展",
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          },
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          }
        ],
        "description": {
          "zh-CN": "为脚本的功能和 b 站的功能启用键盘快捷键支持, 快捷键列表可在`快捷键设置`中查看和配置."
        },
        "extraOptions": "()=>Promise.resolve().then(r.bind(r,708)).then((e=>e.default))",
        "options": {
          "longJumpSeconds": {
            "defaultValue": 85,
            "displayName": "长跳跃秒数"
          },
          "customKeyBindings": {
            "defaultValue": {},
            "displayName": "自定义键位",
            "hidden": true
          },
          "preset": {
            "defaultValue": "Default",
            "displayName": "预设",
            "hidden": true
          }
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {
          "longJumpSeconds": 85,
          "customKeyBindings": {},
          "preset": "Default"
        }
      }
    },
    "viewCover": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"utils/view-cover\"]=t():e[\"utils/view-cover\"]=t()}(self,(function(){return function(){\"use strict\";var e={761:function(e,t,o){o.r(t),o.d(t,{default:function(){return u}});var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)(\"DefaultWidget\",{staticClass:\"view-cover\",attrs:{disabled:!e.imageUrl,name:\"查看封面\",icon:\"mdi-image-outline\"},on:{click:function(t){return e.viewCover()}}})};n._withStripped=!0;var i=coreApis.ajax,r=coreApis.observer,s=coreApis.spinQuery,a=coreApis.utils.log,c=coreApis.ui,l=coreApis.componentApis.video.videoInfo;var d=function(e,t,o,n,i,r,s,a){var c,l=\"function\"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=o,l._compiled=!0),n&&(l.functional=!0),r&&(l._scopeId=\"data-v-\"+r),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(e,t){return c.call(t),d(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:l}}(Vue.extend({components:{DefaultWidget:c.DefaultWidget},data:()=>({imageUrl:\"\"}),async mounted(){if(document.URL.includes(\"live.bilibili.com\")){const e=\".header-info-ctnr .room-cover, .header-info-ctnr .avatar\",t=await(0,s.select)(e);if(!t)return;const o=t.getAttribute(\"href\").match(/space\\.bilibili\\.com\\/([\\d]+)/);if(o&&o[1]){const e=`https://api.live.bilibili.com/room/v1/Room/getRoomInfoOld?mid=${o[1]}`,t=await(0,i.getJson)(e);this.imageUrl=t.data.cover.replace(\"http:\",\"https:\")}}else(0,r.videoChange)((async()=>{const{aid:e}=unsafeWindow,t=new l.VideoInfo(e);try{await t.fetchInfo()}catch(e){throw(0,a.logError)(e),e}this.imageUrl=t.coverUrl.replace(\"http:\",\"https:\")}))},methods:{async viewCover(){(0,c.showImage)(this.imageUrl)}}}),n,[],!1,null,null,null);d.options.__file=\"registry/lib/components/utils/view-cover/ViewCover.vue\";var u=d.exports}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var n={};return function(){o.d(n,{component:function(){return t}});var e=coreApis.utils.urls;const t={name:\"viewCover\",displayName:\"查看封面\",tags:[componentsTags.utils,componentsTags.video],entry:none,reload:none,unload:none,widget:{component:()=>Promise.resolve().then(o.bind(o,761)).then((e=>e.default))},description:{\"zh-CN\":\"在视频页面中, 可从功能面板中查看封面.\"},urlInclude:[...e.videoAndBangumiUrls],commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),n=n.component}()}));",
      "metadata": {
        "name": "viewCover",
        "displayName": "查看封面",
        "tags": [
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          },
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          }
        ],
        "description": {
          "zh-CN": "在视频页面中, 可从功能面板中查看封面."
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "bvidConvert": {
      "code": "!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"video/bvid-convert\"]=n():e[\"video/bvid-convert\"]=n()}(self,(function(){return function(){var e={309:function(e,n,t){var i=t(645)((function(e){return e[1]}));i.push([e.id,\".bvid-convert {\\n  order: -1;\\n  flex-direction: column;\\n  border-radius: 4px;\\n  padding: 6px 8px;\\n  width: 100%;\\n  -webkit-user-select: text;\\n          user-select: text;\\n  box-sizing: border-box;\\n  box-shadow: 0 0 0 1px rgba(136,136,136,0.26667);\\n  background-color: #fff;\\n}\\nbody.dark .bvid-convert {\\n  background-color: #333;\\n}\\n.bvid-convert-item {\\n  font-size: 14px;\\n  display: flex;\\n  align-items: center;\\n  grid-gap: 6px;\\n  gap: 6px;\\n}\\n.bvid-convert-item-copy {\\n  transition: transform 0.3s ease-out;\\n  cursor: pointer;\\n}\\n.bvid-convert-item-copy:active {\\n  transform: scale(0.9);\\n}\",\"\"]),e.exports=i},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(e,t,i){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var o={};if(i)for(var r=0;r<this.length;r++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[r][0];null!=c&&(o[c]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&o[s[0]]||(t&&(s[2]?s[2]=\"\".concat(t,\" and \").concat(s[2]):s[2]=t),n.push(s))}},n}},379:function(e,n,t){\"use strict\";var i,o=function(){return void 0===i&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\ni=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),c=[];function a(e){for(var n=-1,t=0;t<c.length;t++)if(c[t].identifier===e){n=t;break}return n}function s(e,n){for(var t={},i=[],o=0;o<e.length;o++){var r=e[o],s=n.base?r[0]+n.base:r[0],d=t[s]||0,u=\"\".concat(s,\" \").concat(d);t[s]=d+1;var l=a(u),f={css:r[1],media:r[2],sourceMap:r[3]};-1!==l?(c[l].references++,c[l].updater(f)):c.push({identifier:u,updater:m(f,n),references:1}),i.push(u)}return i}function d(e){var n=document.createElement(\"style\"),i=e.attributes||{};if(void 0===i.nonce){var o=t.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){n.setAttribute(e,i[e])})),\"function\"==typeof e.insert)e.insert(n);else{var c=r(e.insert||\"head\");if(!c)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");c.appendChild(n)}return n}var u,l=(u=[],function(e,n){return u[e]=n,u.filter(Boolean).join(\"\\n\")});function f(e,n,t,i){var o=t?\"\":i.media?\"@media \".concat(i.media,\" {\").concat(i.css,\"}\"):i.css;if(e.styleSheet)e.styleSheet.cssText=l(n,o);else{var r=document.createTextNode(o),c=e.childNodes;c[n]&&e.removeChild(c[n]),c.length?e.insertBefore(r,c[n]):e.appendChild(r)}}function v(e,n,t){var i=t.css,o=t.media,r=t.sourceMap;if(o?e.setAttribute(\"media\",o):e.removeAttribute(\"media\"),r&&\"undefined\"!=typeof btoa&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))),\" */\")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var p=null,b=0;function m(e,n){var t,i,o;if(n.singleton){var r=b++;t=p||(p=d(n)),i=f.bind(null,t,r,!1),o=f.bind(null,t,r,!0)}else t=d(n),i=v.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return i(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;i(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||\"boolean\"==typeof n.singleton||(n.singleton=o());var t=s(e=e||[],n);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var i=0;i<t.length;i++){var o=a(t[i]);c[o].references--}for(var r=s(e,n),d=0;d<t.length;d++){var u=a(t[d]);0===c[u].references&&(c[u].updater(),c.splice(u,1))}t=r}}}},238:function(e,n,t){\"use strict\";t.r(n),t.d(n,{default:function(){return p}});var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t(\"div\",{staticClass:\"bvid-convert\"},[e.aid&&e.bvid?[t(\"div\",{staticClass:\"bvid-convert-item\"},[e._v(\"\\n      \"+e._s(e.aid)+\"\\n      \"),t(\"div\",{staticClass:\"bvid-convert-item-copy\",attrs:{title:\"复制链接\"},on:{click:function(n){return e.copyLink(\"aid\")}}},[t(\"VIcon\",{attrs:{size:16,icon:e.aidCopyed?\"mdi-check\":\"mdi-link\"}})],1)]),e._v(\" \"),t(\"div\",{staticClass:\"bvid-convert-item\"},[e._v(\"\\n      \"+e._s(e.bvid)+\"\\n      \"),t(\"div\",{staticClass:\"bvid-convert-item-copy\",attrs:{title:\"复制链接\"},on:{click:function(n){return e.copyLink(\"bvid\")}}},[t(\"VIcon\",{attrs:{size:16,icon:e.bvidCopyed?\"mdi-check\":\"mdi-link\"}})],1)])]:e._e()],2)};i._withStripped=!0;var o=coreApis.observer,r=t(569),c=coreApis.ui,a=Vue.extend({components:{VIcon:c.VIcon},data:()=>({aid:\"\",aidCopyed:!1,bvid:\"\",bvidCopyed:!1}),async mounted(){(0,o.videoChange)((async()=>{this.aid=`av${unsafeWindow.aid}`,this.bvid=unsafeWindow.bvid;const e=await(0,r.select)(\".av-link,.bv-link,.bvid-link\");e&&(this.bvid=e.innerHTML.trim())}))},methods:{async copyLink(e){if(this[`${e}Copyed`])return;const n=window.location.search,t=document.URL.replace(n,\"\").replace(/\\/[^\\/]+$/,`/${this[e]}`)+n;await navigator.clipboard.writeText(t),this[`${e}Copyed`]=!0,setTimeout((()=>this[`${e}Copyed`]=!1),1e3)}}}),s=t(379),d=t.n(s),u=t(309),l=t.n(u),f={insert:\"head\",singleton:!1};d()(l(),f),l().locals;var v=function(e,n,t,i,o,r,c,a){var s,d=\"function\"==typeof e?e.options:e;if(n&&(d.render=n,d.staticRenderFns=t,d._compiled=!0),i&&(d.functional=!0),r&&(d._scopeId=\"data-v-\"+r),c?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(c)},d._ssrRegister=s):o&&(s=a?function(){o.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(d.functional){d._injectStyles=s;var u=d.render;d.render=function(e,n){return s.call(n),u(e,n)}}else{var l=d.beforeCreate;d.beforeCreate=l?[].concat(l,s):[s]}return{exports:e,options:d}}(a,i,[],!1,null,null,null);v.options.__file=\"registry/lib/components/video/bvid-convert/BvidConvert.vue\";var p=v.exports},569:function(e){\"use strict\";e.exports=coreApis.spinQuery}},n={};function t(i){var o=n[i];if(void 0!==o)return o.exports;var r=n[i]={id:i,exports:{}};return e[i](r,r.exports,t),r.exports}t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";t.d(i,{component:function(){return o}});var e=t(569),n=coreApis.utils.urls;const o={name:\"bvidConvert\",displayName:\"BV 号转换\",entry:none,description:{\"zh-CN\":\"在功能面板中显示视频的 AV 号和 BV 号.\"},tags:[componentsTags.video,componentsTags.utils],widget:{component:()=>Promise.resolve().then(t.bind(t,238)).then((e=>e.default)),condition:e.hasVideo},urlInclude:n.videoAndBangumiUrls,commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "bvidConvert",
        "displayName": "BV 号转换",
        "description": {
          "zh-CN": "在功能面板中显示视频的 AV 号和 BV 号."
        },
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          },
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          }
        ],
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "fullFeedsContent": {
      "code": "!function(t,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"feeds/full-content\"]=n():t[\"feeds/full-content\"]=n()}(self,(function(){return function(){var t,n,e={521:function(t,n,e){var o=e(645)((function(t){return t[1]}));o.push([t.id,\".card .main-content .expand-btn,\\n.card .main-content .content-ellipsis {\\n  display: none !important;\\n}\\n.card .main-content .content-full {\\n  display: block !important;\\n  height: auto !important;\\n}\",\"\"]),t.exports=o},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=t(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(e,\"}\"):e})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(t,e,o){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[i][0];null!=c&&(r[c]=!0)}for(var u=0;u<t.length;u++){var f=[].concat(t[u]);o&&r[f[0]]||(e&&(f[2]?f[2]=\"\".concat(e,\" and \").concat(f[2]):f[2]=e),n.push(f))}},n}},223:function(t,n,e){var o=e(521);o&&o.__esModule&&(o=o.default),t.exports=\"string\"==typeof o?o:o.toString()}},o={};function r(t){var n=o[t];if(void 0!==n)return n.exports;var i=o[t]={id:t,exports:{}};return e[t](i,i.exports,r),i.exports}n=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},r.t=function(e,o){if(1&o&&(e=this(e)),8&o)return e;if(\"object\"==typeof e&&e){if(4&o&&e.__esModule)return e;if(16&o&&\"function\"==typeof e.then)return e}var i=Object.create(null);r.r(i);var c={};t=t||[null,n({}),n([]),n(n)];for(var u=2&o&&e;\"object\"==typeof u&&!~t.indexOf(u);u=n(u))Object.getOwnPropertyNames(u).forEach((function(t){c[t]=function(){return e[t]}}));return c.default=function(){return e},r.d(i,c),i},r.d=function(t,n){for(var e in n)r.o(n,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return e}});var t=coreApis.componentApis.styledComponent,n=coreApis.utils.urls;const e={...(0,t.toggleStyle)(\"fullFeedsContent\",(()=>Promise.resolve().then(r.t.bind(r,223,23)))),displayName:\"展开动态内容\",description:{\"zh-CN\":\"不管内容多长, 总是完全展开动态的内容.\"},tags:[componentsTags.style,componentsTags.feeds],urlInclude:n.feedsUrlsWithoutDetail,commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "fullFeedsContent",
        "displayName": "展开动态内容",
        "description": {
          "zh-CN": "不管内容多长, 总是完全展开动态的内容."
        },
        "tags": [
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          },
          {
            "name": "feeds",
            "displayName": "动态",
            "color": "#00ACC1",
            "icon": "mdi-pinwheel-outline",
            "order": 3
          }
        ],
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "unfoldFeeds": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"feeds/unfold\"]=t():e[\"feeds/unfold\"]=t()}(self,(function(){return function(){\"use strict\";var e,t,o={23:function(e){e.exports=coreApis.componentApis.feeds.api}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var f=n[e]={exports:{}};return o[e](f,f.exports,r),f.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(o,n){if(1&n&&(o=this(o)),8&n)return o;if(\"object\"==typeof o&&o){if(4&n&&o.__esModule)return o;if(16&n&&\"function\"==typeof o.then)return o}var f=Object.create(null);r.r(f);var c={};e=e||[null,t({}),t([]),t(t)];for(var u=2&n&&o;\"object\"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){c[e]=function(){return o[e]}}));return c.default=function(){return o},r.d(f,c),f},r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var f={};return function(){r.d(f,{component:function(){return t}});var e=coreApis.utils.urls;const t={name:\"unfoldFeeds\",displayName:\"动态反折叠\",tags:[componentsTags.feeds],description:{\"zh-CN\":\"自动展开被折叠的动态.\"},urlInclude:e.feedsUrlsWithoutDetail,entry:async()=>{const{forEachFeedsCard:e}=await Promise.resolve().then(r.t.bind(r,23,23));e({added:e=>{dq(e.element,\".fold-hoverable\")?.click()}})},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),f=f.component}()}));",
      "metadata": {
        "name": "unfoldFeeds",
        "displayName": "动态反折叠",
        "tags": [
          {
            "name": "feeds",
            "displayName": "动态",
            "color": "#00ACC1",
            "icon": "mdi-pinwheel-outline",
            "order": 3
          }
        ],
        "description": {
          "zh-CN": "自动展开被折叠的动态."
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "foldComments": {
      "code": "!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"feeds/fold-comments\"]=n():e[\"feeds/fold-comments\"]=n()}(self,(function(){return function(){var e,n,t={244:function(e,n,t){var o=t(645)((function(e){return e[1]}));o.push([e.id,\".panel-area .bb-comment .fold-comment {\\n  position: sticky;\\n  bottom: 0;\\n  height: 40px;\\n  width: calc(100% + 48px);\\n  font-size: 14px;\\n  transform: translateX(-24px);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background-color: white;\\n  color: #99a2aa;\\n  cursor: pointer;\\n  transition: all 0.2s ease-out;\\n  z-index: 110;\\n  border-radius: 4px;\\n}\\n.panel-area .bb-comment .fold-comment:hover {\\n  color: black;\\n}\\nbody.dark .panel-area .bb-comment .fold-comment {\\n  background-color: #444;\\n  color: #eee;\\n}\\nbody.dark .panel-area .bb-comment .fold-comment:hover {\\n  color: var(--theme-color);\\n}\",\"\"]),e.exports=o},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(e,t,o){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(o)for(var c=0;c<this.length;c++){\n// eslint-disable-next-line prefer-destructuring\nvar i=this[c][0];null!=i&&(r[i]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);o&&r[s[0]]||(t&&(s[2]?s[2]=\"\".concat(t,\" and \").concat(s[2]):s[2]=t),n.push(s))}},n}},895:function(e,n,t){var o=t(244);o&&o.__esModule&&(o=o.default),e.exports=\"string\"==typeof o?o:o.toString()},23:function(e){\"use strict\";e.exports=coreApis.componentApis.feeds.api},156:function(e){\"use strict\";e.exports=coreApis.observer}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var c=o[e]={id:e,exports:{}};return t[e](c,c.exports,r),c.exports}n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(t,o){if(1&o&&(t=this(t)),8&o)return t;if(\"object\"==typeof t&&t){if(4&o&&t.__esModule)return t;if(16&o&&\"function\"==typeof t.then)return t}var c=Object.create(null);r.r(c);var i={};e=e||[null,n({}),n([]),n(n)];for(var a=2&o&&t;\"object\"==typeof a&&!~e.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((function(e){i[e]=function(){return t[e]}}));return i.default=function(){return t},r.d(c,i),c},r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var c={};return function(){\"use strict\";r.d(c,{component:function(){return n}});var e=coreApis.componentApis.styledComponent;const n={name:\"foldComments\",displayName:\"快速收起评论\",description:{\"zh-CN\":\"动态里查看评论区时, 在底部添加一个`收起评论`按钮, 这样就不用再回到上面收起了.\"},urlInclude:coreApis.utils.urls.feedsUrlsWithoutDetail,tags:[componentsTags.feeds],entry:(0,e.styledComponentEntry)((()=>Promise.resolve().then(r.t.bind(r,895,23))),(async()=>{const{forEachFeedsCard:e}=await Promise.resolve().then(r.t.bind(r,23,23)),{childList:n}=await Promise.resolve().then(r.t.bind(r,156,23));e({added:e=>(e=>{const t=n=>{const t=document.createElement(\"div\");t.classList.add(\"fold-comment\"),t.innerHTML=\"收起评论\";const o=n.querySelector(\".bb-comment\");null===o.querySelector(\".fold-comment\")&&(null!==o?(t.addEventListener(\"click\",(()=>{const n=e.querySelector(\".button-bar\").children[1];null!==n&&(n.click(),e.scrollIntoView())})),o.insertAdjacentElement(\"beforeend\",t)):console.error(\"未找到评论区\"))},o=e.querySelector(\".panel-area\");if(null===o&&console.log(e),0===o.childElementCount){const[e]=n(o,(n=>{n.length>0&&(t(o),e.disconnect())}))}else t(o)})(e.element)})})),commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),c=c.component}()}));",
      "metadata": {
        "name": "foldComments",
        "displayName": "快速收起评论",
        "description": {
          "zh-CN": "动态里查看评论区时, 在底部添加一个`收起评论`按钮, 这样就不用再回到上面收起了."
        },
        "tags": [
          {
            "name": "feeds",
            "displayName": "动态",
            "color": "#00ACC1",
            "icon": "mdi-pinwheel-outline",
            "order": 3
          }
        ],
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "disableFeedsDetails": {
      "code": "!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"feeds/disable-details\"]=e():t[\"feeds/disable-details\"]=e()}(self,(function(){return function(){var t,e,n={840:function(t,e,n){var o=n(645)((function(t){return t[1]}));o.push([t.id,\".card[data-did] .content {\\n  cursor: text;\\n}\\n.card[data-did] .content .details {\\n  font-size: 12px;\\n  opacity: 0.6;\\n  cursor: pointer;\\n  display: block;\\n}\",\"\"]),t.exports=o},274:function(t,e,n){var o=n(645)((function(t){return t[1]}));o.push([t.id,\".card[data-did] .content .details {\\n  display: none;\\n}\",\"\"]),t.exports=o},645:function(t){\"use strict\";\n// eslint-disable-next-line func-names\nt.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?\"@media \".concat(e[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\ne.i=function(t,n,o){\"string\"==typeof t&&(\n// eslint-disable-next-line no-param-reassign\nt=[[null,t,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);o&&r[c[0]]||(n&&(c[2]?c[2]=\"\".concat(n,\" and \").concat(c[2]):c[2]=n),e.push(c))}},e}},94:function(t,e,n){var o=n(840);o&&o.__esModule&&(o=o.default),t.exports=\"string\"==typeof o?o:o.toString()},377:function(t,e,n){var o=n(274);o&&o.__esModule&&(o=o.default),t.exports=\"string\"==typeof o?o:o.toString()},23:function(t){\"use strict\";t.exports=coreApis.componentApis.feeds.api},163:function(t){\"use strict\";t.exports=coreApis.style}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var i=o[t]={id:t,exports:{}};return n[t](i,i.exports,r),i.exports}e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var i=Object.create(null);r.r(i);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&o&&n;\"object\"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((function(t){a[t]=function(){return n[t]}}));return a.default=function(){return n},r.d(i,a),i},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return a}});var t=coreApis.utils.urls;let e=!0;const n=\"disable-feeds-details-style\",o=async()=>{const{addImportantStyle:t}=await Promise.resolve().then(r.t.bind(r,163,23)),{default:e}=await Promise.resolve().then(r.t.bind(r,94,23));t(e,n)},a={name:\"disableFeedsDetails\",displayName:\"禁止跳转动态详情\",tags:[componentsTags.feeds],urlInclude:t.feedsUrls,description:{\"zh-CN\":\"禁止动态点击后跳转详情页, 方便选择其中的文字.\"},entry:async()=>{const{addImportantStyle:t}=await Promise.resolve().then(r.t.bind(r,163,23)),{forEachFeedsCard:n}=await Promise.resolve().then(r.t.bind(r,23,23)),{default:i}=await Promise.resolve().then(r.t.bind(r,377,23));t(i,\"disable-feeds-details-init-style\"),o();n({added:t=>{const{element:n}=t;n.addEventListener(\"click\",(t=>{if(t.ctrlKey||!e)return;const o=dqa(n,\".content\"),r=t.target;if(r.hasAttribute(\"click-title\"))return;dqa(n,\".im-popup\").some((t=>t.contains(r)))||o.some((t=>t===r||t.contains(r)))&&t.stopImmediatePropagation()}),{capture:!0});const o=dq(n,\".post-content\");if(!o)return;if(![\".video-container\",\".bangumi-container\",\".media-list\",\".article-container\"].some((t=>dq(o,t)))&&!dq(o,\".details\")&&o.classList.contains(\"repost\")){const t=dq(o,\".content\");if(!t)return;const e=document.createElement(\"div\");e.classList.add(\"details\"),e.setAttribute(\"click-title\",\"详情\"),e.innerHTML='\\n        详情<i class=\"mdi mdi-chevron-right\" click-title></i>\\n      ',t.insertAdjacentElement(\"beforeend\",e)}}})},unload:()=>{document.getElementById(n)?.remove(),e=!1},reload:()=>{o(),e=!0},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "disableFeedsDetails",
        "displayName": "禁止跳转动态详情",
        "tags": [
          {
            "name": "feeds",
            "displayName": "动态",
            "color": "#00ACC1",
            "icon": "mdi-pinwheel-outline",
            "order": 3
          }
        ],
        "description": {
          "zh-CN": "禁止动态点击后跳转详情页, 方便选择其中的文字."
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "fullVideoDescription": {
      "code": "!function(e,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports[\"video/full-description\"]=n():e[\"video/full-description\"]=n()}(self,(function(){return function(){var e={998:function(e,n,t){var o=t(645)((function(e){return e[1]}));o.push([e.id,\".video-desc .info,\\n.video-desc .desc-info,\\n.play-up-info .play-up-self {\\n  height: auto !important;\\n}\\n\\n.video-desc .btn,\\n.video-desc .toggle-btn,\\n.play-up-info .play-up-self-btn {\\n  display: none !important;\\n}\",\"\"]),e.exports=o},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?\"@media \".concat(n[2],\" {\").concat(t,\"}\"):t})).join(\"\")},\n// eslint-disable-next-line func-names\nn.i=function(e,t,o){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[i][0];null!=c&&(r[c]=!0)}for(var s=0;s<e.length;s++){var a=[].concat(e[s]);o&&r[a[0]]||(t&&(a[2]?a[2]=\"\".concat(t,\" and \").concat(a[2]):a[2]=t),n.push(a))}},n}},290:function(e,n,t){var o=t(998);o&&o.__esModule&&(o=o.default),e.exports=\"string\"==typeof o?o:o.toString()}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={id:o,exports:{}};return e[o](i,i.exports,t),i.exports}t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)};var o={};return function(){\"use strict\";t.d(o,{component:function(){return d}});var e=coreApis.utils.urls,n=coreApis.observer,r=coreApis.spinQuery,i=coreApis.style,c=t(290),s=t.n(c);const a=\"fullVideoDescription\",u=()=>{(0,i.addStyle)(s(),a),(0,n.videoChange)((async()=>{if(!await(0,r.select)(\".video-desc\"))return;(await(0,r.select)('.video-desc .btn[report-id=\"abstract_spread\"], .video-desc .toggle-btn'))?.click()}))},d={name:a,entry:u,reload:u,unload:()=>{(0,i.removeStyle)(a)},displayName:\"展开视频简介\",tags:[componentsTags.video,componentsTags.style],description:{\"zh-CN\":\"总是展开完整的视频简介.\"},urlInclude:e.videoAndBangumiUrls,commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),o=o.component}()}));",
      "metadata": {
        "name": "fullVideoDescription",
        "displayName": "展开视频简介",
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          },
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          }
        ],
        "description": {
          "zh-CN": "总是展开完整的视频简介."
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "extendFeedsLive": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"feeds/extend-live\"]=t():e[\"feeds/extend-live\"]=t()}(self,(function(){return function(){var e,t,n={67:function(e,t,n){var i=n(645)((function(e){return e[1]}));i.push([e.id,\".live-up-list {\\n  max-height: calc(100vh - 380px);\\n  overflow: auto;\\n  scrollbar-width: none !important;\\n  overscroll-behavior: contain;\\n}\\nbody.feeds-filter-side-block-profile .live-up-list {\\n  max-height: calc(100vh - 180px);\\n}\\n.live-up-list::-webkit-scrollbar {\\n  height: 0 !important;\\n  width: 0 !important;\\n}\\n.live-up-list .live-detail[data-live-title] {\\n  color: black;\\n}\\nbody.dark .live-up-list .live-detail[data-live-title] {\\n  color: #eee;\\n}\\n.live-up-list .live-detail[data-live-title] .up-name {\\n  font-size: 13px !important;\\n  opacity: 0.6;\\n}\\n.live-up-list .live-detail[data-live-title]::before {\\n  content: attr(data-live-title);\\n  color: black;\\n  line-height: 1.5;\\n  display: block;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\nbody.dark .live-up-list .live-detail[data-live-title]::before {\\n  color: #eee;\\n}\",\"\"]),e.exports=i},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(e,n,i){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var o={};if(i)for(var r=0;r<this.length;r++){\n// eslint-disable-next-line prefer-destructuring\nvar l=this[r][0];null!=l&&(o[l]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);i&&o[s[0]]||(n&&(s[2]?s[2]=\"\".concat(n,\" and \").concat(s[2]):s[2]=n),t.push(s))}},t}},134:function(e,t,n){var i=n(67);i&&i.__esModule&&(i=i.default),e.exports=\"string\"==typeof i?i:i.toString()},663:function(e){\"use strict\";e.exports=coreApis.ajax},30:function(e){\"use strict\";e.exports=coreApis.componentApis.feeds.disableProfilePopup},569:function(e){\"use strict\";e.exports=coreApis.spinQuery}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={id:e,exports:{}};return n[e](r,r.exports,o),r.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if(\"object\"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&\"function\"==typeof n.then)return n}var r=Object.create(null);o.r(r);var l={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;\"object\"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){l[e]=function(){return n[e]}}));return l.default=function(){return n},o.d(r,l),r},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};return function(){\"use strict\";o.d(r,{component:function(){return e}});const e={name:\"extendFeedsLive\",displayName:\"直播信息扩充\",description:{\"zh-CN\":\"在动态的`正在直播`中, 为每一个直播间加上标题, 并且能够显示超过10个的直播间.\"},entry:(0,coreApis.componentApis.styledComponent.styledComponentEntry)((()=>Promise.resolve().then(o.t.bind(o,134,23))),(async()=>{const{select:e}=await Promise.resolve().then(o.t.bind(o,569,23)),t=await e(\".live-up-list\");if(null===t)return;const{getPages:n,getJsonWithCredentials:i}=await Promise.resolve().then(o.t.bind(o,663,23)),r=await n({api:e=>i(`https://api.live.bilibili.com/relation/v1/feed/feed_list?page=${e}&pagesize=24`),getList:e=>lodash.get(e,\"data.list\",[]),getTotal:e=>lodash.get(e,\"data.results\",0)}),l=dqa(t,\".up-name\").map((e=>e.innerText.trim())),a=r.filter((e=>l.includes(e.uname))),s=r.filter((e=>!l.includes(e.uname))),c=t.children[0];s.forEach((e=>{if(dqa(t,\".up-name\").some((t=>t.innerText.trim()===e.uname)))return;const n=c.cloneNode(!0);dqa(n,\"a[href]\").forEach((t=>t.setAttribute(\"href\",`https://live.bilibili.com/${e.roomid}`)));dq(n,\".live-up-img\").style.backgroundImage=`url(${e.face})`;const i=dq(n,\".live-name\");i.innerHTML=e.title,i.title=e.title;const o=dq(n,\".up-name\");o.innerHTML=e.uname,o.title=e.uname,t.insertAdjacentElement(\"beforeend\",n)}));const{disableProfilePopup:u}=await Promise.resolve().then(o.t.bind(o,30,23));u(),console.log(a,s)})),tags:[componentsTags.feeds,componentsTags.live],urlInclude:[/^https:\\/\\/t\\.bilibili\\.com\\/$/],commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),r=r.component}()}));",
      "metadata": {
        "name": "extendFeedsLive",
        "displayName": "直播信息扩充",
        "description": {
          "zh-CN": "在动态的`正在直播`中, 为每一个直播间加上标题, 并且能够显示超过10个的直播间."
        },
        "tags": [
          {
            "name": "feeds",
            "displayName": "动态",
            "color": "#00ACC1",
            "icon": "mdi-pinwheel-outline",
            "order": 3
          },
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          }
        ],
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "feedsFilter": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"feeds/filter\"]=t():e[\"feeds/filter\"]=t()}(self,(function(){return function(){var e,t,n={151:function(e,t,n){\"use strict\";n.r(t),n.d(t,{hasBlockedPattern:function(){return s}});const i=(e,t)=>!(!e||!t)&&(e.startsWith(\"/\")&&e.endsWith(\"/\")?new RegExp(e.slice(1,e.length-1)).test(t):t.includes(e)),s=(e,t)=>{const n=e.match(/(.+) up:([^ ]+)/);return n?i(n[1],t.text)&&i(n[2],t.username):i(e,t.text)}},420:function(e,t,n){var i=n(645)((function(e){return e[1]}));i.push([e.id,'body.enable-feeds-filter:not(.disable-feeds-filter):not(.by-type).feeds-filter-block-repost .feed-card .card[data-type=\"1\"] {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter):not(.by-type).feeds-filter-block-textWithImages .feed-card .card[data-type=\"2\"] {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter):not(.by-type).feeds-filter-block-text .feed-card .card[data-type=\"4\"] {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter):not(.by-type).feeds-filter-block-video .feed-card .card[data-type=\"8\"] {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter):not(.by-type).feeds-filter-block-miniVideo .feed-card .card[data-type=\"16\"] {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter):not(.by-type).feeds-filter-block-column .feed-card .card[data-type=\"64\"] {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter):not(.by-type).feeds-filter-block-audio .feed-card .card[data-type=\"256\"] {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter):not(.by-type).feeds-filter-block-bangumi .feed-card .card[data-type=\"512\"] {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter):not(.by-type).feeds-filter-block-liveRecord .feed-card .card[data-type=\"2047\"] {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter):not(.by-type).feeds-filter-block-share .feed-card .card[data-type=\"2048\"] {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter):not(.by-type).feeds-filter-block-self-repost .feed-card .card[data-self-repost] {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter) .left-panel .scroll-content > *,\\nbody.enable-feeds-filter:not(.disable-feeds-filter) .right-panel .scroll-content > * {\\n  margin: 0 !important;\\n  margin-bottom: 8px !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter) .left-panel > :not(:last-child) {\\n  margin: 0 !important;\\n  margin-bottom: 8px !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter) .left-panel .user-panel.f-left {\\n  float: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter).feeds-filter-side-block-profile .left-panel .user-wrapper {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter).feeds-filter-side-block-following-tags .left-panel .tag-panel,\\nbody.enable-feeds-filter:not(.disable-feeds-filter).feeds-filter-side-block-following-tags .right-panel .dyn-topic-panel,\\nbody.enable-feeds-filter:not(.disable-feeds-filter).feeds-filter-side-block-following-tags .right-panel .new-topic-panel {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter).feeds-filter-side-block-notice .right-panel .notice-panel {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter).feeds-filter-side-block-live .left-panel .live-panel {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter).feeds-filter-side-block-trending-tags .right-panel .tag-panel {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter).feeds-filter-side-block-most-viewed .card-list .most-viewed-panel {\\n  display: none !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter) .feed-card .card.pattern-block {\\n  display: none !important;\\n}\\n.feeds-filter {\\n  background-color: white;\\n  font-size: 12px;\\n  width: 100%;\\n  padding: 12px 16px;\\n  border-radius: 4px;\\n  box-sizing: border-box;\\n  display: none;\\n  flex-direction: column;\\n  max-height: 80vh;\\n  overflow: auto;\\n  scrollbar-width: none !important;\\n  overscroll-behavior: contain;\\n}\\n.feeds-filter::-webkit-scrollbar {\\n  height: 0 !important;\\n  width: 0 !important;\\n}\\nbody.enable-feeds-filter:not(.disable-feeds-filter) .feeds-filter {\\n  display: flex;\\n}\\n.feeds-filter, .feeds-filter * {\\n  transition: 0.2s ease-out;\\n  transition-property: border-color, color, background-color;\\n}\\nbody.dark .feeds-filter {\\n  color: #eee;\\n  background-color: #444;\\n}\\n.feeds-filter .feeds-filter-header {\\n  cursor: pointer;\\n  margin-bottom: 14px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n.feeds-filter .feeds-filter-header h1 {\\n  font-weight: normal;\\n  font-size: 14px;\\n  margin: 0;\\n}\\n.feeds-filter.collapse .feeds-filter-header {\\n  margin-bottom: 0;\\n}\\n.feeds-filter.collapse .feeds-filter-header .be-icon {\\n  transform: rotate(180deg);\\n}\\n.feeds-filter.collapse > :not(.feeds-filter-header) {\\n  display: none;\\n}\\n.feeds-filter h2 {\\n  font-weight: bold;\\n  font-size: 13px;\\n  margin: 0;\\n  margin-bottom: 8px;\\n}\\n.feeds-filter .filter-type-switch {\\n  flex: 0 0 49%;\\n}\\n.feeds-filter .filter-side-card-switch {\\n  flex: 0 0 100%;\\n}\\n.feeds-filter .filter-types {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: space-between;\\n  margin-bottom: 18px;\\n}\\nbody.by-type .feeds-filter h2:nth-of-type(1),\\nbody.by-type .feeds-filter .filter-types {\\n  display: none;\\n}\\n.feeds-filter .filter-patterns:not(:empty) {\\n  margin-bottom: 4px;\\n}\\n.feeds-filter .filter-patterns .pattern {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 4px 6px;\\n  border-radius: 4px;\\n  font-size: 12px;\\n  border: 1px solid rgba(136,136,136,0.26667);\\n}\\n.feeds-filter .filter-patterns .pattern:not(:last-child) {\\n  margin-bottom: 4px;\\n}\\n.feeds-filter .filter-patterns .pattern .be-icon {\\n  cursor: pointer;\\n}\\n.feeds-filter .add-pattern {\\n  display: flex;\\n  align-items: center;\\n  margin-bottom: 18px;\\n}\\n.feeds-filter .add-pattern input {\\n  font-size: 12px;\\n}\\n.feeds-filter .add-pattern .be-button {\\n  margin-left: 6px;\\n  padding: 4px 6px;\\n}',\"\"]),e.exports=i},866:function(e,t,n){var i=n(645)((function(e){return e[1]}));i.push([e.id,\".feeds-filter-swtich:not(:last-child) {\\n  margin-bottom: 4px;\\n}\\n.feeds-filter-swtich label {\\n  cursor: pointer;\\n  margin: 0;\\n  padding: 4px 6px;\\n  border-radius: 4px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  border: 1px solid rgba(136,136,136,0.26667);\\n}\\n.feeds-filter-swtich label .name {\\n  font-size: 12px;\\n}\\n.feeds-filter-swtich label .disabled {\\n  color: var(--theme-color) !important;\\n}\\n.feeds-filter-swtich label:hover {\\n  background-color: rgba(136,136,136,0.13333);\\n}\\n.feeds-filter-swtich label input {\\n  display: none;\\n}\\n.feeds-filter-swtich label .be-icon.disabled {\\n  display: none;\\n}\\n.feeds-filter-swtich label.disabled .be-icon {\\n  display: none;\\n}\\n.feeds-filter-swtich label.disabled .be-icon.disabled {\\n  display: block;\\n}\",\"\"]),e.exports=i},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(e,n,i){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var s={};if(i)for(var r=0;r<this.length;r++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[r][0];null!=a&&(s[a]=!0)}for(var o=0;o<e.length;o++){var l=[].concat(e[o]);i&&s[l[0]]||(n&&(l[2]?l[2]=\"\".concat(n,\" and \").concat(l[2]):l[2]=n),t.push(l))}},t}},379:function(e,t,n){\"use strict\";var i,s=function(){return void 0===i&&(\n// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n// @see https://github.com/webpack-contrib/style-loader/issues/177\ni=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function o(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},i=[],s=0;s<e.length;s++){var r=e[s],l=t.base?r[0]+t.base:r[0],d=n[l]||0,c=\"\".concat(l,\" \").concat(d);n[l]=d+1;var f=o(c),p={css:r[1],media:r[2],sourceMap:r[3]};-1!==f?(a[f].references++,a[f].updater(p)):a.push({identifier:c,updater:m(p,t),references:1}),i.push(c)}return i}function d(e){var t=document.createElement(\"style\"),i=e.attributes||{};if(void 0===i.nonce){var s=n.nc;s&&(i.nonce=s)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),\"function\"==typeof e.insert)e.insert(t);else{var a=r(e.insert||\"head\");if(!a)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");a.appendChild(t)}return t}var c,f=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join(\"\\n\")});function p(e,t,n,i){var s=n?\"\":i.media?\"@media \".concat(i.media,\" {\").concat(i.css,\"}\"):i.css;if(e.styleSheet)e.styleSheet.cssText=f(t,s);else{var r=document.createTextNode(s),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function u(e,t,n){var i=n.css,s=n.media,r=n.sourceMap;if(s?e.setAttribute(\"media\",s):e.removeAttribute(\"media\"),r&&\"undefined\"!=typeof btoa&&(i+=\"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))),\" */\")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var b=null,y=0;function m(e,t){var n,i,s;if(t.singleton){var r=y++;n=b||(b=d(t)),i=p.bind(null,n,r,!1),s=p.bind(null,n,r,!0)}else n=d(t),i=u.bind(null,n,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||\"boolean\"==typeof t.singleton||(t.singleton=s());var n=l(e=e||[],t);return function(e){if(e=e||[],\"[object Array]\"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var s=o(n[i]);a[s].references--}for(var r=l(e,t),d=0;d<n.length;d++){var c=o(n[d]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=r}}}},135:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return x}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"feeds-filter\",class:{collapse:e.collapse}},[n(\"div\",{staticClass:\"feeds-filter-header\",on:{click:function(t){e.collapse=!e.collapse}}},[n(\"h1\",[e._v(\"动态过滤\")]),e._v(\" \"),n(\"VIcon\",{attrs:{icon:\"mdi-chevron-up\"}})],1),e._v(\" \"),n(\"h2\",[e._v(\"类型\")]),e._v(\" \"),n(\"div\",{staticClass:\"filter-types\"},e._l(e.allTypes,(function(e){var t=e[0],i=e[1];return n(\"FilterTypeSwitch\",{key:i.id,attrs:{name:t,type:i}})})),1),e._v(\" \"),n(\"h2\",[e._v(\"关键词\")]),e._v(\" \"),n(\"div\",{staticClass:\"filter-patterns\"},e._l(e.patterns,(function(t){return n(\"div\",{key:t,staticClass:\"pattern\"},[e._v(\"\\n      \"+e._s(t)+\"\\n      \"),n(\"VIcon\",{attrs:{title:\"删除\",icon:\"mdi-trash-can-outline\",size:16},nativeOn:{click:function(n){return e.deletePattern(t)}}})],1)})),0),e._v(\" \"),n(\"div\",{staticClass:\"add-pattern\"},[n(\"TextBox\",{attrs:{placeholder:\"支持正则表达式 /^xxx$/\",type:\"text\"},on:{keydown:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.addPattern(e.newPattern)}},model:{value:e.newPattern,callback:function(t){e.newPattern=t},expression:\"newPattern\"}}),e._v(\" \"),n(\"VButton\",{attrs:{type:\"transparent\"},nativeOn:{click:function(t){return e.addPattern(e.newPattern)}}},[n(\"VIcon\",{attrs:{title:\"添加\",icon:\"mdi-plus\",size:18}})],1)],1),e._v(\" \"),n(\"h2\",[e._v(\"侧边栏\")]),e._v(\" \"),n(\"div\",{staticClass:\"filter-side-card\"},e._l(Object.entries(e.allSideCards),(function(t){var i=t[0],s=t[1];return n(\"div\",{key:i,staticClass:\"filter-side-card-switch feeds-filter-swtich\",on:{click:function(t){return e.toggleBlockSide(i)}}},[n(\"label\",{class:{disabled:e.sideDisabled(i)}},[n(\"span\",{staticClass:\"name\",class:{disabled:e.sideDisabled(i)}},[e._v(e._s(s.displayName))]),e._v(\" \"),n(\"VIcon\",{staticClass:\"disabled\",attrs:{size:16,icon:\"mdi-cancel\"}}),e._v(\" \"),n(\"VIcon\",{attrs:{size:16,icon:\"mdi-check\"}})],1)])})),0)])};i._withStripped=!0;var s=n(407),r=n(569),a=coreApis.observer,o=n(643),l=n(151);const d=(0,s.getComponentSettings)(\"feedsFilter\").options,c={0:{className:\"profile\",displayName:\"个人资料\"},1:{className:\"following-tags\",displayName:\"话题\"},2:{className:\"notice\",displayName:\"公告栏\"},3:{className:\"live\",displayName:\"正在直播\"},5:{className:\"most-viewed\",displayName:\"关注栏\"}};let f;const p=\"feeds-filter-side-block-\";var u=Vue.extend({components:{FilterTypeSwitch:()=>Promise.resolve().then(n.bind(n,179)),VIcon:o.VIcon,TextBox:o.TextBox,VButton:o.VButton},data:()=>({allTypes:[],patterns:[...d.patterns],newPattern:\"\",allSideCards:c,blockSideCards:[...d.sideCards],collapse:!0}),watch:{patterns(){d.patterns=this.patterns,f&&f.cards.forEach((e=>this.updateCard(lodash.clone(e))))}},async mounted(){this.updateBlockSide();const e=await(0,r.select)(\".feed-card .tab-bar\");if(!e)return void console.error(\"tabBar not found\");const t=e.querySelector(\".tab:nth-child(1) .tab-text\");(0,a.attributes)(t,(()=>{document.body.classList.toggle(\"by-type\",!t.classList.contains(\"selected\"))})),document.body.classList.add(\"enable-feeds-filter\");const{feedsCardsManager:i,feedsCardTypes:s}=await Promise.resolve().then(n.t.bind(n,23,23));if(!await i.startWatching())return void console.error(\"feedsCardsManager.startWatching() failed\");this.allTypes=Object.entries(s).concat(Object.entries({\"self-repost\":{id:-1,name:\"自转发\"}})).filter((([,e])=>e.id<=2048)).map((([e,t])=>[e,lodash.clone(t)])),i.cards.forEach((e=>this.updateCard(lodash.clone(e)))),i.addEventListener(\"addCard\",(e=>{const t=e.detail;this.updateCard(t)})),f=i},methods:{updateCard(e){d.patterns.some((t=>(0,l.hasBlockedPattern)(t,e)))?e.element.classList.add(\"pattern-block\"):e.element.classList.remove(\"pattern-block\")},deletePattern(e){const t=d.patterns.indexOf(e);-1!==t&&this.patterns.splice(t,1)},addPattern(e){e&&!this.patterns.includes(e)&&this.patterns.push(e),this.newPattern=\"\"},updateBlockSide(){Object.entries(c).forEach((([e,t])=>{const n=p+t.className;document.body.classList[this.blockSideCards.includes(e)?\"add\":\"remove\"](n)}))},toggleBlockSide(e){const t=this.blockSideCards.indexOf(e),n=c[e];-1!==t?(this.blockSideCards.splice(t,1),document.body.classList.remove(p+n.className)):(this.blockSideCards.push(e),document.body.classList.add(p+n.className)),d.sideCards=this.blockSideCards},sideDisabled(e){return this.blockSideCards.includes(e)}}}),b=n(379),y=n.n(b),m=n(420),h=n.n(m),v={insert:\"head\",singleton:!1},g=(y()(h(),v),h().locals,(0,n(900).Z)(u,i,[],!1,null,null,null));g.options.__file=\"registry/lib/components/feeds/filter/FeedsFilterCard.vue\";var x=g.exports},179:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return b}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"filter-type-switch feeds-filter-swtich\"},[n(\"label\",{class:{disabled:e.disabled}},[n(\"span\",{staticClass:\"name\",class:{disabled:e.disabled}},[e._v(e._s(e.type.name))]),e._v(\" \"),n(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.disabled,expression:\"disabled\"}],attrs:{type:\"checkbox\"},domProps:{checked:Array.isArray(e.disabled)?e._i(e.disabled,null)>-1:e.disabled},on:{change:function(t){var n=e.disabled,i=t.target,s=!!i.checked;if(Array.isArray(n)){var r=e._i(n,null);i.checked?r<0&&(e.disabled=n.concat([null])):r>-1&&(e.disabled=n.slice(0,r).concat(n.slice(r+1)))}else e.disabled=s}}}),e._v(\" \"),e.disabled?n(\"VIcon\",{staticClass:\"disabled\",attrs:{size:16,icon:\"mdi-cancel\"}}):n(\"VIcon\",{attrs:{size:16,icon:\"mdi-check\"}})],1)])};i._withStripped=!0;var s=n(407),r=n(643);const{options:a}=(0,s.getComponentSettings)(\"feedsFilter\");var o=Vue.extend({components:{VIcon:r.VIcon},props:{name:{type:String,required:!0},type:{type:Object,required:!0}},data(){const e=this.type.id>=0?\"types\":\"specialTypes\";return{disabled:a[e].includes(this.type.id),optionKey:e}},watch:{disabled(e){this.setFilter(e)}},created(){this.setFilter(this.disabled,!1)},methods:{setFilter(e,t=!0){if(document.body.classList[e?\"add\":\"remove\"](`feeds-filter-block-${this.name}`),t)if(e)a[this.optionKey].push(this.type.id);else{const e=a[this.optionKey].indexOf(this.type.id);-1!==e&&a[this.optionKey].splice(e,1)}}}}),l=n(379),d=n.n(l),c=n(866),f=n.n(c),p={insert:\"head\",singleton:!1},u=(d()(f(),p),f().locals,(0,n(900).Z)(o,i,[],!1,null,null,null));u.options.__file=\"registry/lib/components/feeds/filter/FilterTypeSwitch.vue\";var b=u.exports},900:function(e,t,n){\"use strict\";function i(e,t,n,i,s,r,a,o){var l,d=\"function\"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),i&&(d.functional=!0),r&&(d._scopeId=\"data-v-\"+r),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=l):s&&(l=o?function(){s.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(e,t){return l.call(t),c(e,t)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,l):[l]}return{exports:e,options:d}}n.d(t,{Z:function(){return i}})},23:function(e){\"use strict\";e.exports=coreApis.componentApis.feeds.api},407:function(e){\"use strict\";e.exports=coreApis.settings},569:function(e){\"use strict\";e.exports=coreApis.spinQuery},643:function(e){\"use strict\";e.exports=coreApis.ui},109:function(e){\"use strict\";e.exports=coreApis.utils}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={id:e,exports:{}};return n[e](r,r.exports,s),r.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},s.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if(\"object\"==typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&\"function\"==typeof n.then)return n}var r=Object.create(null);s.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&n;\"object\"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},s.d(r,a),r},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};return function(){\"use strict\";s.d(r,{component:function(){return n}});const e=[{username:\"title\",text:\"epTitle\"},{username:\"upName\",text:[\"title\",\"dynamic\"]},{username:[\"username\",\"repostUsername\"],text:[\"text\",\"repostText\"]}],t={name:\"feeds.contentFilters.patterns\",displayName:\"动态关键词过滤\",setup:({addData:t})=>{t(\"feeds.contentFilters\",(async t=>{const{getComponentSettings:n}=await Promise.resolve().then(s.t.bind(s,407,23)),{hasBlockedPattern:i}=await Promise.resolve().then(s.bind(s,151));t.push({filter:t=>{const{patterns:s}=n(\"feedsFilter\").options;return t.filter((t=>{const n=e.find((e=>Object.values(e).every((e=>Array.isArray(e)?e.some((e=>e in t)):e in t)))),r=Object.fromEntries(Object.entries(n).map((([e,n])=>Array.isArray(n)?[e,n.map((e=>t[e]??\"\")).join(\"\\n\").trim()]:[e,t[n].trim()])));return s.every((e=>!i(e,r)))}))}})}))}},n={name:\"feedsFilter\",displayName:\"动态过滤器\",description:{\"zh-CN\":\"按照类型或者关键词过滤动态首页的内容, 也可以移除动态页的一些侧边卡片.\"},entry:async()=>{const{select:e}=await Promise.resolve().then(s.t.bind(s,569,23)),t=await e(\".home-container .left-panel\");if(null===t)return;const n=await Promise.resolve().then(s.bind(s,135)),{mountVueComponent:i}=await Promise.resolve().then(s.t.bind(s,109,23));t.insertAdjacentElement(\"afterbegin\",i(n).$el)},tags:[componentsTags.feeds],options:{types:{defaultValue:[],displayName:\"过滤动态类型\",hidden:!0},patterns:{defaultValue:[],displayName:\"过滤关键词\",hidden:!0},sideCards:{defaultValue:[],displayName:\"过滤侧边栏\",hidden:!0},specialTypes:{defaultValue:[],displayName:\"过滤特殊动态类型\",hidden:!0}},reload:()=>document.body.classList.remove(\"disable-feeds-filter\"),unload:()=>document.body.classList.add(\"disable-feeds-filter\"),urlInclude:[/^https:\\/\\/t\\.bilibili\\.com\\/$/],plugin:t,commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),r=r.component}()}));",
      "metadata": {
        "name": "feedsFilter",
        "displayName": "动态过滤器",
        "description": {
          "zh-CN": "按照类型或者关键词过滤动态首页的内容, 也可以移除动态页的一些侧边卡片."
        },
        "tags": [
          {
            "name": "feeds",
            "displayName": "动态",
            "color": "#00ACC1",
            "icon": "mdi-pinwheel-outline",
            "order": 3
          }
        ],
        "options": {
          "types": {
            "defaultValue": [],
            "displayName": "过滤动态类型",
            "hidden": true
          },
          "patterns": {
            "defaultValue": [],
            "displayName": "过滤关键词",
            "hidden": true
          },
          "sideCards": {
            "defaultValue": [],
            "displayName": "过滤侧边栏",
            "hidden": true
          },
          "specialTypes": {
            "defaultValue": [],
            "displayName": "过滤特殊动态类型",
            "hidden": true
          }
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {
          "types": [],
          "patterns": [],
          "sideCards": [],
          "specialTypes": []
        }
      }
    },
    "darkModeFollowSystem": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"style/dark-mode/follow-system\"]=t():e[\"style/dark-mode/follow-system\"]=t()}(self,(function(){return function(){\"use strict\";var e,t,o={407:function(e){e.exports=coreApis.settings}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return o[e](r,r.exports,n),r.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},n.t=function(o,i){if(1&i&&(o=this(o)),8&i)return o;if(\"object\"==typeof o&&o){if(4&i&&o.__esModule)return o;if(16&i&&\"function\"==typeof o.then)return o}var r=Object.create(null);n.r(r);var c={};e=e||[null,t({}),t([]),t(t)];for(var l=2&i&&o;\"object\"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){c[e]=function(){return o[e]}}));return c.default=function(){return o},n.d(r,c),r},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};return function(){n.d(r,{component:function(){return t}});var e=coreApis.lifeCycle;const t={name:\"darkModeFollowSystem\",displayName:\"夜间模式跟随系统\",entry:()=>{unsafeWindow.addEventListener(e.LifeCycleEventTypes.End,(async()=>{const{getComponentSettings:e}=await Promise.resolve().then(n.t.bind(n,407,23)),t=e(\"darkMode\"),o=matchMedia(\"(prefers-color-scheme: dark)\"),i=e=>{e!==t.enabled&&(t.enabled=e)};i(o.matches),o.addEventListener(\"change\",(e=>{i(e.matches)}))}))},urlExclude:[\"//member.bilibili.com/v2\",\"//member.bilibili.com/video/upload.html\",\"//member.bilibili.com/article-text/home\",\"//www.bilibili.com/audio/submit/\",\"//member.bilibili.com/studio/bs-editor/projects\",\"//www.bilibili.com/s/video/\",\"//member.bilibili.com/platform\",\"//live.bilibili.com/p/html/live-lottery/anchor-join.html\",\"//account.bilibili.com/subtitle/edit/#/editor\",\"/york/allowance-charge\",\"//cm.bilibili.com/quests/#/task\"],tags:[componentsTags.style,componentsTags.general],description:{\"zh-CN\":\"\\n使夜间模式同步系统设置的亮 / 暗主题, 请勿和 `夜间模式计划时段` 一同使用.\\n\\n> 注：在某些浏览器 (如 `Microsoft Edge`) 中，夜间模式仅会同步浏览器的亮 / 暗主题.\\n    \".trim()},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),r=r.component}()}));",
      "metadata": {
        "name": "darkModeFollowSystem",
        "displayName": "夜间模式跟随系统",
        "tags": [
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          },
          {
            "name": "general",
            "displayName": "通用",
            "color": "#888",
            "icon": "mdi-progress-wrench",
            "order": 8
          }
        ],
        "description": {
          "zh-CN": "使夜间模式同步系统设置的亮 / 暗主题, 请勿和 `夜间模式计划时段` 一同使用.\n\n> 注：在某些浏览器 (如 `Microsoft Edge`) 中，夜间模式仅会同步浏览器的亮 / 暗主题."
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "simplifyLiveroom": {
      "code": "!function(i,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"style/simplify/live\"]=t():i[\"style/simplify/live\"]=t()}(self,(function(){return function(){var i,t,e={496:function(i,t,e){\"use strict\";e.r(t),e.d(t,{setupSkinSimplify:function(){return l}});var n=coreApis.settings,o=coreApis.spinQuery,r=coreApis.observer;class a{constructor(i,t){var e,a,s;this.skinSelectors=i,this.skinClass=t,e=this,a=\"skinDisabled\",s=(0,n.getComponentSettings)(\"simplifyLiveroom\").options.skin,a in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s,i.forEach((i=>{(0,o.select)(i).then((e=>{e&&(0,r.attributes)(i,(i=>{i.forEach((i=>{\"class\"===i.attributeName&&(this.skinDisabled&&e.classList.contains(t)?e.classList.remove(t):this.skinDisabled||e.classList.contains(t)||e.classList.add(t))}))}))}))}))}setSkin(i){this.skinDisabled=!i,this.skinSelectors.forEach((t=>{(0,o.select)(t).then((t=>t.classList[i?\"add\":\"remove\"](this.skinClass)))}))}}const s=[new a([\"#head-info-vm\",\"#gift-control-vm\",\"#rank-list-vm\",\"#rank-list-ctnr-box\",\".gift-panel.base-panel\",\".gift-panel.extend-panel\",\".seeds-wrap>div:first-child\",\".gift-section>div:last-child\",\".z-gift-package>div>div\",\".right-action\",\".control-panel-ctnr\"],\"live-skin-coloration-area\"),new a([\".rank-list-ctnr .tabs\"],\"isHundred\"),new a([\".rank-list-ctnr .tab-content > div\"],\"hundred\")],l=()=>{(0,n.addComponentListener)(\"simplifyLiveroom.skin\",(i=>{s.forEach((t=>t.setSkin(i)))}),!0)}},180:function(i,t,e){var n=e(645)((function(i){return i[1]}));n.push([i.id,\".simplifyLiveroom-switch-vip .vip-icon, .simplifyLiveroom-switch-fansMedal .fans-medal-item-ctnr, .simplifyLiveroom-switch-title .title-label, .simplifyLiveroom-switch-userLevel .user-level-icon, .simplifyLiveroom-switch-guard .chat-history-panel .guard-icon, .simplifyLiveroom-switch-systemMessage .system-msg, .simplifyLiveroom-switch-systemMessage .announcement-wrapper, .simplifyLiveroom-switch-welcomeMessage .welcome-guard, .simplifyLiveroom-switch-welcomeMessage .welcome-msg, .simplifyLiveroom-switch-popup .chat-popups-section, .simplifyLiveroom-switch-popup #chat-draw-area-vm, .simplifyLiveroom-switch-giftMessage .chat-item.gift-item, .simplifyLiveroom-switch-giftMessage .chat-history-panel .penury-gift-msg, .simplifyLiveroom-switch-guardPurchase .chat-item.guard-buy, .simplifyLiveroom-switch-eventsBanner .z-section-blocks .left-container .flip-view, .simplifyLiveroom-switch-eventsBanner .activity-pushing-out, .simplifyLiveroom-switch-userEffect .live-room-app .aside-area .activity-welcome-section, .simplifyLiveroom-switch-kanban .live-haruna-ctnr, .simplifyLiveroom-switch-enterPrompt .chat-item.important-prompt-item, .simplifyLiveroom-switch-enterPrompt .chat-history-panel .brush-prompt, .simplifyLiveroom-switch-enterPrompt .chat-item.convention-msg, .simplifyLiveroom-switch-pk .chaos-pk, .simplifyLiveroom-switch-topRank .chat-item.top3-notice, .simplifyLiveroom-switch-topRank .chat-item .rank-icon {\\n  display: none !important;\\n}\\n\\n.simplifyLiveroom-switch-headerPanel .control-panel-ctnr .dialog-ctnr {\\n  z-index: 800 !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .player-ctnr .room-info-ctnr {\\n  display: inline-flex !important;\\n  flex: 1 0 auto;\\n  align-items: center !important;\\n  margin-left: 12px !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .head-info-section {\\n  height: 52px !important;\\n  box-sizing: content-box !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .header-info-ctnr {\\n  display: flex !important;\\n  padding: 10px 24px 10px 12px !important;\\n  height: auto !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .header-info-ctnr .face-pendants {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .header-info-ctnr .avatar {\\n  height: 32px;\\n  width: 32px;\\n}\\n.simplifyLiveroom-switch-headerPanel .room-cover {\\n  width: 32px !important;\\n  height: 32px !important;\\n  border-radius: 50% !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr {\\n  display: flex !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row {\\n  display: flex !important;\\n  align-items: center !important;\\n  flex: 1 0 auto !important;\\n  flex-direction: row-reverse !important;\\n  position: static !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .left-ctnr,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .normal-mode,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .left-ctnr,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .normal-mode {\\n  position: absolute !important;\\n  left: 50% !important;\\n  transform: translateX(-50%) !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .live-area,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .area-text,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .live-area,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .area-text {\\n  display: inline-flex !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .right-ctnr,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .upper-right-ctnr,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .right-ctnr,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .upper-right-ctnr {\\n  position: static !important;\\n  transform: none !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .live-title,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .room-title,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .live-title,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .room-title {\\n  display: flex !important;\\n  align-items: center !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .live-title .text,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .room-title .text,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .live-title .text,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .room-title .text {\\n  line-height: normal !important;\\n}\\n@media screen and (max-width: 1750px) {\\n  .simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .live-title .title-length-limit,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .upper-row .room-title .title-length-limit,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .live-title .title-length-limit,\\n.simplifyLiveroom-switch-headerPanel .room-info-upper-row .room-title .title-length-limit {\\n    max-width: 250px !important;\\n  }\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .lower-row,\\n.simplifyLiveroom-switch-headerPanel .room-info-down-row {\\n  margin: 0 !important;\\n  order: -1;\\n}\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .lower-row .right-ctnr,\\n.simplifyLiveroom-switch-headerPanel .rows-ctnr .lower-row .left-ctnr > :nth-child(n+3),\\n.simplifyLiveroom-switch-headerPanel .room-info-down-row .right-ctnr,\\n.simplifyLiveroom-switch-headerPanel .room-info-down-row .left-ctnr > :nth-child(n+3) {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .room-owner-username {\\n  max-width: 150px !important;\\n}\\n.simplifyLiveroom-switch-headerPanel .live-status,\\n.simplifyLiveroom-switch-headerPanel .live-status-label {\\n  display: none !important;\\n}\\n\\n.simplifyLiveroom-switch-giftMessage:not(.simplifyLiveroom-switch-enterPrompt) .chat-history-list.with-penury-gift:not(.with-brush-prompt) {\\n  height: calc(100%) !important;\\n}\\n.simplifyLiveroom-switch-giftMessage:not(.simplifyLiveroom-switch-enterPrompt) .chat-history-list.with-penury-gift.with-brush-prompt {\\n  height: calc(100% - 32px) !important;\\n}\\n\\n.simplifyLiveroom-switch-enterPrompt:not(.simplifyLiveroom-switch-giftMessage) .chat-history-list.with-brush-prompt:not(.with-penury-gift) {\\n  height: calc(100%) !important;\\n}\\n.simplifyLiveroom-switch-enterPrompt:not(.simplifyLiveroom-switch-giftMessage) .chat-history-list.with-brush-prompt.with-penury-gift {\\n  height: calc(100% - 32px) !important;\\n}\\n\\n.simplifyLiveroom-switch-enterPrompt.simplifyLiveroom-switch-giftMessage .chat-history-list {\\n  height: calc(100%) !important;\\n}\\n\\n.simplifyLiveroom-switch-rankList .live-room-app .rank-list-section {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-rankList .live-room-app .chat-history-panel {\\n  height: calc(100% - 145px) !important;\\n}\\n.simplifyLiveroom-switch-rankList .live-room-app .chat-history-panel .chat-history-list::-webkit-scrollbar-track {\\n  background: transparent !important;\\n}\\n.simplifyLiveroom-switch-rankList .live-room-app .chat-history-panel,\\n.simplifyLiveroom-switch-rankList .live-room-app #pay-note-panel-vm .pay-note-panel,\\n.simplifyLiveroom-switch-rankList .live-room-app #pay-note-panel-vm .pay-note-panel .detail-info .mask {\\n  border-radius: 11px 11px 0 0 !important;\\n}\\n.simplifyLiveroom-switch-rankList.player-full-win .chat-history-panel,\\n.simplifyLiveroom-switch-rankList.player-full-win #pay-note-panel-vm .pay-note-panel,\\n.simplifyLiveroom-switch-rankList.player-full-win #pay-note-panel-vm .pay-note-panel .detail-info .mask {\\n  border-radius: 0 !important;\\n}\\n\\n.simplifyLiveroom-switch-giftPanel .gift-panel,\\n.simplifyLiveroom-switch-giftPanel .gift-panel-switch,\\n.simplifyLiveroom-switch-giftPanel .gift-section.guard-ent,\\n.simplifyLiveroom-switch-giftPanel .seeds-wrap > .dp-i-block > .item:not(.seeds),\\n.simplifyLiveroom-switch-giftPanel .gift-control-panel .wish-icon,\\n.simplifyLiveroom-switch-giftPanel .gift-control-panel .wish-tip {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .gift-control-section,\\n.simplifyLiveroom-switch-giftPanel .gift-control-panel {\\n  height: 48px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry,\\n.simplifyLiveroom-switch-giftPanel .treasure-box {\\n  display: flex !important;\\n  align-items: center !important;\\n  padding: 10px 0 0 16px !important;\\n  max-height: 36px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box .draw-box-pic,\\n.simplifyLiveroom-switch-giftPanel .draw-box .anchor-lot-icon,\\n.simplifyLiveroom-switch-giftPanel .draw-box .box-icon,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .draw-box-pic,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .anchor-lot-icon,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .box-icon,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .draw-box-pic,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .anchor-lot-icon,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .box-icon {\\n  margin: 0 !important;\\n  width: 24px !important;\\n  height: 24px !important;\\n  background-position: 0 -2.5px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box .draw-box-pic.open,\\n.simplifyLiveroom-switch-giftPanel .draw-box .anchor-lot-icon.open,\\n.simplifyLiveroom-switch-giftPanel .draw-box .box-icon.open,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .draw-box-pic.open,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .anchor-lot-icon.open,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .box-icon.open,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .draw-box-pic.open,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .anchor-lot-icon.open,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .box-icon.open {\\n  background-position: 0 -1px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box .draw-box-pic,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .draw-box-pic,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .draw-box-pic {\\n  transform: scale(1.1);\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box #BLRHH_treasure_div_tip br,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry #BLRHH_treasure_div_tip br,\\n.simplifyLiveroom-switch-giftPanel .treasure-box #BLRHH_treasure_div_tip br {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box #BLRHH_treasure_div img,\\n.simplifyLiveroom-switch-giftPanel .draw-box #BLRHH_treasure_div canvas,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry #BLRHH_treasure_div img,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry #BLRHH_treasure_div canvas,\\n.simplifyLiveroom-switch-giftPanel .treasure-box #BLRHH_treasure_div img,\\n.simplifyLiveroom-switch-giftPanel .treasure-box #BLRHH_treasure_div canvas {\\n  max-height: 24px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box .draw-box-text,\\n.simplifyLiveroom-switch-giftPanel .draw-box .anchor-lot-text,\\n.simplifyLiveroom-switch-giftPanel .draw-box .count-down,\\n.simplifyLiveroom-switch-giftPanel .draw-box #BLRHH_treasure_div_tip,\\n.simplifyLiveroom-switch-giftPanel .draw-box #BLRHH_treasure_div_timer,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .draw-box-text,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .anchor-lot-text,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .count-down,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry #BLRHH_treasure_div_tip,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry #BLRHH_treasure_div_timer,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .draw-box-text,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .anchor-lot-text,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .count-down,\\n.simplifyLiveroom-switch-giftPanel .treasure-box #BLRHH_treasure_div_tip,\\n.simplifyLiveroom-switch-giftPanel .treasure-box #BLRHH_treasure_div_timer {\\n  margin-left: 12px !important;\\n  padding: 4px 8px !important;\\n  max-width: unset !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box .awarding-panel,\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry .awarding-panel,\\n.simplifyLiveroom-switch-giftPanel .treasure-box .awarding-panel {\\n  bottom: 42px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .draw-box {\\n  padding-top: 11px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .anchor-lottery-entry {\\n  padding-top: 12px !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .gift-control-panel .right-part {\\n  height: 48px !important;\\n  display: flex !important;\\n  justify-content: flex-end !important;\\n  min-width: unset !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .gift-control-panel .right-part > .dp-table-cell {\\n  display: flex !important;\\n  align-items: center !important;\\n}\\n.simplifyLiveroom-switch-giftPanel .gift-control-panel .right-part > .dp-table-cell .supporting-info {\\n  transform: translateY(-2px) !important;\\n}\\n\\n.simplifyLiveroom-switch-skin:not(.dark) .player-ctnr #head-info-vm,\\n.simplifyLiveroom-switch-skin:not(.dark) .player-ctnr #gift-control-vm {\\n  box-sizing: content-box !important;\\n  border: 1px solid #e9eaec !important;\\n}\\n.simplifyLiveroom-switch-skin:not(.dark) .player-and-aside-area #aside-area-vm {\\n  border: 1px solid #e9eaec !important;\\n  width: 302px !important;\\n}\\n.simplifyLiveroom-switch-skin .control-panel-ctnr,\\n.simplifyLiveroom-switch-skin #head-info-vm,\\n.simplifyLiveroom-switch-skin #gift-control-vm,\\n.simplifyLiveroom-switch-skin #rank-list-ctnr-box {\\n  background-image: none !important;\\n}\\n\\n.simplifyLiveroom-switch-guard .guard-danmaku::before {\\n  -o-border-image: none !important;\\n     border-image: none !important;\\n  background-color: transparent !important;\\n}\\n.simplifyLiveroom-switch-guard .guard-danmaku::before .guard-danmaku {\\n  margin: 0 !important;\\n  padding: 4px 5px !important;\\n}\\n.simplifyLiveroom-switch-guard .guard-danmaku::before .guard-danmaku::after {\\n  background-image: none !important;\\n}\\n.simplifyLiveroom-switch-guard .chat-history-panel [class*=guard-level-] {\\n  padding: 4px 5px !important;\\n  margin: 0 !important;\\n}\\n.simplifyLiveroom-switch-guard .chat-history-panel [class*=guard-level-]::after {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-guard .chat-history-panel .chat-colorful-bubble {\\n  margin: 0 !important;\\n  display: block !important;\\n  border-radius: 0 !important;\\n  background-color: transparent !important;\\n}\\n.simplifyLiveroom-switch-guard .fans-medal-item.medal-guard {\\n  margin-left: 0 !important;\\n}\\n\\n.simplifyLiveroom-switch-emoticons .control-panel-icon-row .emoticons-panel {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-emoticons .chat-history-list .chat-item .emoticon img {\\n  display: none !important;\\n}\\n.simplifyLiveroom-switch-emoticons .chat-history-list .chat-item .emoticon span {\\n  display: inline-flex !important;\\n}\\n.simplifyLiveroom-switch-emoticons .danmaku-item-container .bilibili-danmaku img {\\n  display: none !important;\\n}\",\"\"]),i.exports=n},645:function(i){\"use strict\";\n// eslint-disable-next-line func-names\ni.exports=function(i){var t=[];return t.toString=function(){return this.map((function(t){var e=i(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(e,\"}\"):e})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(i,e,n){\"string\"==typeof i&&(\n// eslint-disable-next-line no-param-reassign\ni=[[null,i,\"\"]]);var o={};if(n)for(var r=0;r<this.length;r++){\n// eslint-disable-next-line prefer-destructuring\nvar a=this[r][0];null!=a&&(o[a]=!0)}for(var s=0;s<i.length;s++){var l=[].concat(i[s]);n&&o[l[0]]||(e&&(l[2]?l[2]=\"\".concat(e,\" and \").concat(l[2]):l[2]=e),t.push(l))}},t}},59:function(i,t,e){var n=e(180);n&&n.__esModule&&(n=n.default),i.exports=\"string\"==typeof n?n:n.toString()}},n={};function o(i){var t=n[i];if(void 0!==t)return t.exports;var r=n[i]={id:i,exports:{}};return e[i](r,r.exports,o),r.exports}t=Object.getPrototypeOf?function(i){return Object.getPrototypeOf(i)}:function(i){return i.__proto__},o.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if(\"object\"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&\"function\"==typeof e.then)return e}var r=Object.create(null);o.r(r);var a={};i=i||[null,t({}),t([]),t(t)];for(var s=2&n&&e;\"object\"==typeof s&&!~i.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(i){a[i]=function(){return e[i]}}));return a.default=function(){return e},o.d(r,a),r},o.d=function(i,t){for(var e in t)o.o(t,e)&&!o.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:t[e]})},o.o=function(i,t){return Object.prototype.hasOwnProperty.call(i,t)},o.r=function(i){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(i,\"__esModule\",{value:!0})};var r={};return function(){\"use strict\";o.d(r,{component:function(){return n}});var i=coreApis.componentApis.switchOptions,t=coreApis.componentApis.styledComponent,e=coreApis.utils.urls;const n=(0,i.createSwitchOptions)({name:\"simplifyOptions\",dimAt:\"checked\",switchProps:{checkedIcon:\"mdi-eye-off-outline\",notCheckedIcon:\"mdi-eye-outline\"},switches:{vip:{defaultValue:!0,displayName:\"老爷图标\"},enterPrompt:{defaultValue:!0,displayName:\"入场通知\"},fansMedal:{defaultValue:!0,displayName:\"粉丝勋章\"},title:{defaultValue:!0,displayName:\"活动头衔\"},guard:{defaultValue:!0,displayName:\"舰长图标\"},systemMessage:{defaultValue:!0,displayName:\"全区广播\"},welcomeMessage:{defaultValue:!0,displayName:\"欢迎信息\"},giftMessage:{defaultValue:!0,displayName:\"礼物弹幕\"},emoticons:{defaultValue:!0,displayName:\"表情特效\"},guardPurchase:{defaultValue:!0,displayName:\"上舰提示\"},giftPanel:{defaultValue:!0,displayName:\"付费礼物\"},headerPanel:{defaultValue:!1,displayName:\"标题栏活动\"},userEffect:{defaultValue:!0,displayName:\"入场特效\"},kanban:{defaultValue:!0,displayName:\"看板娘\"},eventsBanner:{defaultValue:!1,displayName:\"活动横幅\"},rankList:{defaultValue:!1,displayName:\"排行榜\"},popup:{defaultValue:!1,displayName:\"抽奖提示\"},pk:{defaultValue:!1,displayName:\"PK浮窗\"},topRank:{defaultValue:!1,displayName:\"高能榜提示\"},skin:{defaultValue:!1,displayName:\"房间皮肤\"}}})({name:\"simplifyLiveroom\",displayName:\"简化直播间\",entry:(0,t.styledComponentEntry)((()=>Promise.resolve().then(o.t.bind(o,59,23))),(async()=>{const{setupSkinSimplify:i}=await Promise.resolve().then(o.bind(o,496));i()})),description:{\"zh-CN\":\"隐藏直播间中各种不需要的内容.\"},tags:[componentsTags.live,componentsTags.style],urlInclude:e.liveUrls})}(),r=r.component}()}));",
      "metadata": {
        "name": "simplifyLiveroom",
        "displayName": "简化直播间",
        "description": {
          "zh-CN": "隐藏直播间中各种不需要的内容."
        },
        "tags": [
          {
            "name": "live",
            "displayName": "直播",
            "color": "#26A69A",
            "icon": "mdi-video-wireless-outline",
            "order": 4
          },
          {
            "name": "style",
            "displayName": "样式",
            "color": "#8BC34A",
            "icon": "mdi-palette-outline",
            "order": 2
          }
        ],
        "options": {
          "switch-vip": {
            "defaultValue": true,
            "displayName": "老爷图标",
            "hidden": true
          },
          "switch-enterPrompt": {
            "defaultValue": true,
            "displayName": "入场通知",
            "hidden": true
          },
          "switch-fansMedal": {
            "defaultValue": true,
            "displayName": "粉丝勋章",
            "hidden": true
          },
          "switch-title": {
            "defaultValue": true,
            "displayName": "活动头衔",
            "hidden": true
          },
          "switch-guard": {
            "defaultValue": true,
            "displayName": "舰长图标",
            "hidden": true
          },
          "switch-systemMessage": {
            "defaultValue": true,
            "displayName": "全区广播",
            "hidden": true
          },
          "switch-welcomeMessage": {
            "defaultValue": true,
            "displayName": "欢迎信息",
            "hidden": true
          },
          "switch-giftMessage": {
            "defaultValue": true,
            "displayName": "礼物弹幕",
            "hidden": true
          },
          "switch-emoticons": {
            "defaultValue": true,
            "displayName": "表情特效",
            "hidden": true
          },
          "switch-guardPurchase": {
            "defaultValue": true,
            "displayName": "上舰提示",
            "hidden": true
          },
          "switch-giftPanel": {
            "defaultValue": true,
            "displayName": "付费礼物",
            "hidden": true
          },
          "switch-headerPanel": {
            "defaultValue": false,
            "displayName": "标题栏活动",
            "hidden": true
          },
          "switch-userEffect": {
            "defaultValue": true,
            "displayName": "入场特效",
            "hidden": true
          },
          "switch-kanban": {
            "defaultValue": true,
            "displayName": "看板娘",
            "hidden": true
          },
          "switch-eventsBanner": {
            "defaultValue": false,
            "displayName": "活动横幅",
            "hidden": true
          },
          "switch-rankList": {
            "defaultValue": false,
            "displayName": "排行榜",
            "hidden": true
          },
          "switch-popup": {
            "defaultValue": false,
            "displayName": "抽奖提示",
            "hidden": true
          },
          "switch-pk": {
            "defaultValue": false,
            "displayName": "PK浮窗",
            "hidden": true
          },
          "switch-topRank": {
            "defaultValue": false,
            "displayName": "高能榜提示",
            "hidden": true
          },
          "switch-skin": {
            "defaultValue": false,
            "displayName": "房间皮肤",
            "hidden": true
          },
          "simplifyOptions": {
            "defaultValue": {
              "name": "simplifyOptions",
              "dimAt": "checked",
              "switchProps": {
                "checkedIcon": "mdi-eye-off-outline",
                "notCheckedIcon": "mdi-eye-outline"
              },
              "switches": {
                "vip": {
                  "defaultValue": true,
                  "displayName": "老爷图标"
                },
                "enterPrompt": {
                  "defaultValue": true,
                  "displayName": "入场通知"
                },
                "fansMedal": {
                  "defaultValue": true,
                  "displayName": "粉丝勋章"
                },
                "title": {
                  "defaultValue": true,
                  "displayName": "活动头衔"
                },
                "guard": {
                  "defaultValue": true,
                  "displayName": "舰长图标"
                },
                "systemMessage": {
                  "defaultValue": true,
                  "displayName": "全区广播"
                },
                "welcomeMessage": {
                  "defaultValue": true,
                  "displayName": "欢迎信息"
                },
                "giftMessage": {
                  "defaultValue": true,
                  "displayName": "礼物弹幕"
                },
                "emoticons": {
                  "defaultValue": true,
                  "displayName": "表情特效"
                },
                "guardPurchase": {
                  "defaultValue": true,
                  "displayName": "上舰提示"
                },
                "giftPanel": {
                  "defaultValue": true,
                  "displayName": "付费礼物"
                },
                "headerPanel": {
                  "defaultValue": false,
                  "displayName": "标题栏活动"
                },
                "userEffect": {
                  "defaultValue": true,
                  "displayName": "入场特效"
                },
                "kanban": {
                  "defaultValue": true,
                  "displayName": "看板娘"
                },
                "eventsBanner": {
                  "defaultValue": false,
                  "displayName": "活动横幅"
                },
                "rankList": {
                  "defaultValue": false,
                  "displayName": "排行榜"
                },
                "popup": {
                  "defaultValue": false,
                  "displayName": "抽奖提示"
                },
                "pk": {
                  "defaultValue": false,
                  "displayName": "PK浮窗"
                },
                "topRank": {
                  "defaultValue": false,
                  "displayName": "高能榜提示"
                },
                "skin": {
                  "defaultValue": false,
                  "displayName": "房间皮肤"
                }
              },
              "radio": false,
              "componentName": "simplifyLiveroom",
              "optionDisplayName": "简化直播间选项"
            },
            "displayName": "简化直播间选项"
          }
        }
      },
      "settings": {
        "enabled": true,
        "options": {
          "switch-vip": true,
          "switch-enterPrompt": true,
          "switch-fansMedal": true,
          "switch-title": true,
          "switch-guard": true,
          "switch-systemMessage": true,
          "switch-welcomeMessage": true,
          "switch-giftMessage": true,
          "switch-emoticons": true,
          "switch-guardPurchase": true,
          "switch-giftPanel": true,
          "switch-headerPanel": false,
          "switch-userEffect": true,
          "switch-kanban": true,
          "switch-eventsBanner": false,
          "switch-rankList": false,
          "switch-popup": false,
          "switch-pk": false,
          "switch-topRank": false,
          "switch-skin": false,
          "simplifyOptions": {
            "name": "simplifyOptions",
            "dimAt": "checked",
            "switchProps": {
              "checkedIcon": "mdi-eye-off-outline",
              "notCheckedIcon": "mdi-eye-outline"
            },
            "switches": {
              "vip": {
                "defaultValue": true,
                "displayName": "老爷图标"
              },
              "enterPrompt": {
                "defaultValue": true,
                "displayName": "入场通知"
              },
              "fansMedal": {
                "defaultValue": true,
                "displayName": "粉丝勋章"
              },
              "title": {
                "defaultValue": true,
                "displayName": "活动头衔"
              },
              "guard": {
                "defaultValue": true,
                "displayName": "舰长图标"
              },
              "systemMessage": {
                "defaultValue": true,
                "displayName": "全区广播"
              },
              "welcomeMessage": {
                "defaultValue": true,
                "displayName": "欢迎信息"
              },
              "giftMessage": {
                "defaultValue": true,
                "displayName": "礼物弹幕"
              },
              "emoticons": {
                "defaultValue": true,
                "displayName": "表情特效"
              },
              "guardPurchase": {
                "defaultValue": true,
                "displayName": "上舰提示"
              },
              "giftPanel": {
                "defaultValue": true,
                "displayName": "付费礼物"
              },
              "headerPanel": {
                "defaultValue": false,
                "displayName": "标题栏活动"
              },
              "userEffect": {
                "defaultValue": true,
                "displayName": "入场特效"
              },
              "kanban": {
                "defaultValue": true,
                "displayName": "看板娘"
              },
              "eventsBanner": {
                "defaultValue": false,
                "displayName": "活动横幅"
              },
              "rankList": {
                "defaultValue": false,
                "displayName": "排行榜"
              },
              "popup": {
                "defaultValue": false,
                "displayName": "抽奖提示"
              },
              "pk": {
                "defaultValue": false,
                "displayName": "PK浮窗"
              },
              "topRank": {
                "defaultValue": false,
                "displayName": "高能榜提示"
              },
              "skin": {
                "defaultValue": false,
                "displayName": "房间皮肤"
              }
            },
            "radio": false,
            "componentName": "simplifyLiveroom",
            "optionDisplayName": "简化直播间选项"
          }
        }
      }
    },
    "checkInCenter": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"utils/check-in-center\"]=t():e[\"utils/check-in-center\"]=t()}(self,(function(){return function(){\"use strict\";var e={181:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"multiple-widgets\"},e._l(e.items,(function(t){return n(\"DefaultWidget\",{key:t.name,attrs:{disabled:t.disabled,\"data-name\":t.name,name:t.displayName,icon:t.icon},on:{click:function(n){return e.runItemAction(t,n)}}})})),1)};i._withStripped=!0;var o=coreApis.ui,s=coreApis.ajax,r=coreApis.toast,a=n(109),c=coreApis.pluginApis.data;const l=[{name:\"seeds-to-coins\",displayName:\"瓜子换硬币\",icon:\"mdi-seed-outline\",action:async()=>{const e=await(0,s.postTextWithCredentials)(\"https://api.live.bilibili.com/xlive/revenue/v1/wallet/silver2coin\",(0,a.formData)({csrf:(0,a.getCsrf)(),csrf_token:(0,a.getCsrf)()})),t=JSON.parse(e);0!==t.code?r.Toast.info(t.message,\"瓜子换硬币\",3e3):r.Toast.success(`${t.message}\\n剩余银瓜子:${t.data.silver}`,\"瓜子换硬币\",3e3)}},{name:\"live-check-in\",displayName:\"直播间签到\",icon:\"mdi-calendar-check\",action:async()=>{const e=await(0,s.getJsonWithCredentials)(\"https://api.live.bilibili.com/xlive/web-ucenter/v1/sign/DoSign\");if(0!==e.code)r.Toast.info(e.message,\"直播间签到\",3e3);else{const{text:t,specialText:n,allDays:i,hadSignDays:o}=e.data,s=`签到成功, 获得了${t} ${n}\\n本月进度: ${o} / ${i}`;r.Toast.success(s,\"直播间签到\",3e3)}}}],[d]=(0,c.registerAndGetData)(\"checkInCenter.items\",l);var u=function(e,t,n,i,o,s,r,a){var c,l=\"function\"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),s&&(l._scopeId=\"data-v-\"+s),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=c):o&&(c=a?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(e,t){return c.call(t),d(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:l}}(Vue.extend({components:{DefaultWidget:o.DefaultWidget},data:()=>({items:d}),methods:{async runItemAction(e,t){try{this.$set(e,\"disabled\",!0);const n=this.$el.querySelector(`[data-name='${e.name}']`);await e.action(n,t)}finally{e.disabled=!1}}}}),i,[],!1,null,null,null);u.options.__file=\"registry/lib/components/utils/check-in-center/Widget.vue\";var f=u.exports},109:function(e){e.exports=coreApis.utils}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){n.d(i,{component:function(){return t}});var e=n(109);const t={name:\"checkInCenter\",displayName:\"签到助手\",description:{\"zh-CN\":\"在功能面板中提供一些可以每日进行的操作.\"},tags:[componentsTags.utils],entry:none,widget:{component:()=>Promise.resolve().then(n.bind(n,181)).then((e=>e.default)),condition:()=>Boolean((0,e.getUID)())},commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "checkInCenter",
        "displayName": "签到助手",
        "description": {
          "zh-CN": "在功能面板中提供一些可以每日进行的操作."
        },
        "tags": [
          {
            "name": "utils",
            "displayName": "工具",
            "color": "#A36FFD",
            "icon": "mdi-rocket-launch-outline",
            "order": 5
          }
        ],
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    },
    "skipChargeList": {
      "code": "!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports[\"video/player/skip-charge-list\"]=t():e[\"video/player/skip-charge-list\"]=t()}(self,(function(){return function(){var e,t,n={393:function(e,t,n){var o=n(645)((function(e){return e[1]}));o.push([e.id,\"body:not(.skip-charge-list-disable) .bilibili-player .bilibili-player-electric-panel {\\n  display: none !important;\\n}\",\"\"]),e.exports=o},645:function(e){\"use strict\";\n// eslint-disable-next-line func-names\ne.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?\"@media \".concat(t[2],\" {\").concat(n,\"}\"):n})).join(\"\")},\n// eslint-disable-next-line func-names\nt.i=function(e,n,o){\"string\"==typeof e&&(\n// eslint-disable-next-line no-param-reassign\ne=[[null,e,\"\"]]);var r={};if(o)for(var i=0;i<this.length;i++){\n// eslint-disable-next-line prefer-destructuring\nvar c=this[i][0];null!=c&&(r[c]=!0)}for(var s=0;s<e.length;s++){var a=[].concat(e[s]);o&&r[a[0]]||(n&&(a[2]?a[2]=\"\".concat(n,\" and \").concat(a[2]):a[2]=n),t.push(a))}},t}},888:function(e,t,n){var o=n(393);o&&o.__esModule&&(o=o.default),e.exports=\"string\"==typeof o?o:o.toString()},156:function(e){\"use strict\";e.exports=coreApis.observer},569:function(e){\"use strict\";e.exports=coreApis.spinQuery}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={id:e,exports:{}};return n[e](i,i.exports,r),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if(\"object\"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&\"function\"==typeof n.then)return n}var i=Object.create(null);r.r(i);var c={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&n;\"object\"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){c[e]=function(){return n[e]}}));return c.default=function(){return n},r.d(i,c),i},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var i={};return function(){\"use strict\";r.d(i,{component:function(){return c}});var e=coreApis.componentApis.styledComponent,t=coreApis.utils.urls;const n=\"skip-charge-list-disable\",o=(0,e.styledComponentEntry)((()=>Promise.resolve().then(r.t.bind(r,888,23))),(async()=>{const{videoChange:e}=await Promise.resolve().then(r.t.bind(r,156,23)),{select:t}=await Promise.resolve().then(r.t.bind(r,569,23));e((async()=>{(await t(\"video\"))?.addEventListener(\"ended\",(async()=>{if(document.body.classList.contains(n))return;(await t(\".bilibili-player-electric-panel-jump\"))?.click()}))}))})),c={name:\"skipChargeList\",displayName:\"跳过充电鸣谢\",tags:[componentsTags.video],entry:o,description:{\"zh-CN\":\"自动跳过视频结尾的充电鸣谢. 注意: 不包括番剧承包鸣谢.\"},reload:()=>document.body.classList.remove(n),unload:()=>document.body.classList.add(n),urlInclude:t.playerUrls,commitHash:\"93accf2ac491a99c0ee364fb843b6800a0c5a7d8\"}}(),i=i.component}()}));",
      "metadata": {
        "name": "skipChargeList",
        "displayName": "跳过充电鸣谢",
        "tags": [
          {
            "name": "video",
            "displayName": "视频",
            "color": "#2196F3",
            "icon": "mdi-play-circle-outline",
            "order": 1
          }
        ],
        "description": {
          "zh-CN": "自动跳过视频结尾的充电鸣谢. 注意: 不包括番剧承包鸣谢."
        },
        "commitHash": "93accf2ac491a99c0ee364fb843b6800a0c5a7d8"
      },
      "settings": {
        "enabled": true,
        "options": {}
      }
    }
  },
  "components": {
    "settingsPanel": {
      "enabled": true,
      "options": {
        "themeColor": "#00A0D8",
        "scriptLoadingMode": "延后",
        "styleLoadingMode": "同时",
        "textColor": "自动",
        "cdnRoot": "jsDelivr",
        "dockSide": "左侧",
        "filenameFormat": "[title][ - ep]",
        "batchFilenameFormat": "[n - ][ep]",
        "downloadPackageEmitMode": "打包下载",
        "devMode": false,
        "registryBranch": "master",
        "recentComponents": {
          "extendFeedsLive": 1641438150147,
          "foldComments": 1641438150007,
          "fullFeedsContent": 1641438149934,
          "downloadVideo": 1641438148931,
          "autoHideSidebar": 1641438149510,
          "elegantScrollbar": 1641438149568,
          "downloadAudio": 1641438148985,
          "downloadLiveRecords": 1641438149031,
          "downloadSubtitle": 1641438149122,
          "downloadDanmaku": 1641438149165,
          "liveAutoDraw": 1641438149199,
          "badgeHelper": 1641438149237,
          "liveDanmakuSendbar": 1641438149288,
          "liveGiftBox": 1641438149332,
          "liveHomeMute": 1641438149370,
          "livePip": 1641438149400,
          "removeLiveWatermark": 1641438149461,
          "removePromotions": 1641438149605,
          "columnUnlock": 1641438149698,
          "urlParamsClean": 1641438149744,
          "keymap": 1641438149779,
          "viewCover": 1641438149812,
          "bvidConvert": 1641438149886,
          "unfoldFeeds": 1641438149971,
          "disableFeedsDetails": 1641438150070,
          "fullVideoDescription": 1641438150112,
          "feedsFilter": 1641438150184,
          "darkModeFollowSystem": 1641438150254,
          "simplifyLiveroom": 1641438150294,
          "checkInCenter": 1641438150326,
          "skipChargeList": 1641438150369
        }
      }
    },
    "launchBar": {
      "enabled": true,
      "options": {}
    },
    "i18n": {
      "enabled": true,
      "options": {
        "language": "简体中文",
        "translator": "GoogleCN"
      }
    },
    "autoUpdate": {
      "enabled": true,
      "options": {
        "lastUpdateCheck": 1641438150736,
        "localPortOverride": "",
        "minimumDuration": 86400000,
        "urls": {
          "components": {
            "downloadVideo": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/video/download.js",
              "lastUpdateCheck": 1641438148932,
              "installTime": 1639441354811,
              "alwaysUpdate": false
            },
            "downloadAudio": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/utils/download-audio.js",
              "lastUpdateCheck": 1641438148986,
              "installTime": 1639441354828,
              "alwaysUpdate": false
            },
            "downloadLiveRecords": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/live/download-records.js",
              "lastUpdateCheck": 1641438149032,
              "installTime": 1639441354884,
              "alwaysUpdate": false
            },
            "downloadSubtitle": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/video/subtitle/download.js",
              "lastUpdateCheck": 1641438149123,
              "installTime": 1639441354903,
              "alwaysUpdate": false
            },
            "downloadDanmaku": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/video/danmaku/download.js",
              "lastUpdateCheck": 1641438149166,
              "installTime": 1639441354954,
              "alwaysUpdate": false
            },
            "liveAutoDraw": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/live/auto-draw.js",
              "lastUpdateCheck": 1641438149200,
              "installTime": 1639441364785,
              "alwaysUpdate": false
            },
            "badgeHelper": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/live/badge-helper.js",
              "lastUpdateCheck": 1641438149238,
              "installTime": 1639441365586,
              "alwaysUpdate": false
            },
            "liveDanmakuSendbar": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/live/danmaku-sendbar.js",
              "lastUpdateCheck": 1641438149290,
              "installTime": 1639441366753,
              "alwaysUpdate": false
            },
            "liveGiftBox": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/live/gift-box.js",
              "lastUpdateCheck": 1641438149333,
              "installTime": 1639441367773,
              "alwaysUpdate": false
            },
            "liveHomeMute": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/live/home-mute.js",
              "lastUpdateCheck": 1641438149370,
              "installTime": 1639441368252,
              "alwaysUpdate": false
            },
            "livePip": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/live/pip.js",
              "lastUpdateCheck": 1641438149401,
              "installTime": 1639441369327,
              "alwaysUpdate": false
            },
            "removeLiveWatermark": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/live/remove-watermark.js",
              "lastUpdateCheck": 1641438149462,
              "installTime": 1639441369895,
              "alwaysUpdate": false
            },
            "autoHideSidebar": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/style/auto-hide-sidebar.js",
              "lastUpdateCheck": 1641438149513,
              "installTime": 1639441378300,
              "alwaysUpdate": false
            },
            "elegantScrollbar": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/style/scrollbar.js",
              "lastUpdateCheck": 1641438149569,
              "installTime": 1639441386445,
              "alwaysUpdate": false
            },
            "removePromotions": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/utils/remove-promotions.js",
              "lastUpdateCheck": 1641438149606,
              "installTime": 1639441386474,
              "alwaysUpdate": false
            },
            "columnUnlock": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/utils/column-unlock.js",
              "lastUpdateCheck": 1641438149699,
              "installTime": 1639441386576,
              "alwaysUpdate": false
            },
            "urlParamsClean": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/utils/url-params-clean.js",
              "lastUpdateCheck": 1641438149745,
              "installTime": 1639441386603,
              "alwaysUpdate": false
            },
            "keymap": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/utils/keymap.js",
              "lastUpdateCheck": 1641438149780,
              "installTime": 1639441386741,
              "alwaysUpdate": false
            },
            "viewCover": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/utils/view-cover.js",
              "lastUpdateCheck": 1641438149814,
              "installTime": 1639441386767,
              "alwaysUpdate": false
            },
            "bvidConvert": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/video/bvid-convert.js",
              "lastUpdateCheck": 1641438149887,
              "installTime": 1639441386791,
              "alwaysUpdate": false
            },
            "fullFeedsContent": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/feeds/full-content.js",
              "lastUpdateCheck": 1641438149935,
              "installTime": 1639441386853,
              "alwaysUpdate": false
            },
            "unfoldFeeds": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/feeds/unfold.js",
              "lastUpdateCheck": 1641438149972,
              "installTime": 1639441386882,
              "alwaysUpdate": false
            },
            "foldComments": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/feeds/fold-comments.js",
              "lastUpdateCheck": 1641438150008,
              "installTime": 1639441386906,
              "alwaysUpdate": false
            },
            "disableFeedsDetails": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/feeds/disable-details.js",
              "lastUpdateCheck": 1641438150071,
              "installTime": 1639441386935,
              "alwaysUpdate": false
            },
            "fullVideoDescription": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/video/full-description.js",
              "lastUpdateCheck": 1641438150113,
              "installTime": 1639441386960,
              "alwaysUpdate": false
            },
            "extendFeedsLive": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/feeds/extend-live.js",
              "lastUpdateCheck": 1641438150148,
              "installTime": 1639441389493,
              "alwaysUpdate": false
            },
            "feedsFilter": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/feeds/filter.js",
              "lastUpdateCheck": 1641438150185,
              "installTime": 1639441392353,
              "alwaysUpdate": false
            },
            "darkModeFollowSystem": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/style/dark-mode/follow-system.js",
              "lastUpdateCheck": 1641438150255,
              "installTime": 1639441395897,
              "alwaysUpdate": false
            },
            "simplifyLiveroom": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/style/simplify/live.js",
              "lastUpdateCheck": 1641438150295,
              "installTime": 1639441408403,
              "alwaysUpdate": false
            },
            "checkInCenter": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/utils/check-in-center.js",
              "lastUpdateCheck": 1641438150326,
              "installTime": 1639441414007,
              "alwaysUpdate": false
            },
            "skipChargeList": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/components/video/player/skip-charge-list.js",
              "lastUpdateCheck": 1641438150372,
              "installTime": 1639441518452,
              "alwaysUpdate": false
            }
          },
          "plugins": {
            "settingsPanel.tagFilters.recentComponents": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/plugins/settings-panel/recent-components.js",
              "lastUpdateCheck": 1641438150632,
              "installTime": 1639441386968,
              "alwaysUpdate": false
            },
            "downloadVideo.outputs.aria2": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/plugins/video/download/aria2-output.js",
              "lastUpdateCheck": 1641438150657,
              "installTime": 1639441513381,
              "alwaysUpdate": false
            },
            "downloadVideo.outputs.idm": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/plugins/video/download/idm-output.js",
              "lastUpdateCheck": 1641438150670,
              "installTime": 1639441513776,
              "alwaysUpdate": false
            },
            "downloadVideo.outputs.mpv": {
              "url": "https://cdn.jsdelivr.net/gh/the1812/Bilibili-Evolved@master/registry/dist/plugins/video/download/mpv-output.js",
              "lastUpdateCheck": 1641438150734,
              "installTime": 1639441514537,
              "alwaysUpdate": false
            }
          },
          "styles": {}
        },
        "maxUpdateCount": 4
      }
    }
  },
  "plugins": {
    "ajaxHook": true,
    "launchBar.actions.IDSearch": true
  }
}